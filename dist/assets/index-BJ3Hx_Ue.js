(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fm(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Et={},qs=[],ui=()=>{},pA=()=>!1,Fd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),hm=e=>e.startsWith("onUpdate:"),Xt=Object.assign,pm=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gA=Object.prototype.hasOwnProperty,mt=(e,t)=>gA.call(e,t),He=Array.isArray,Js=e=>jd(e)==="[object Map]",ox=e=>jd(e)==="[object Set]",Ke=e=>typeof e=="function",$t=e=>typeof e=="string",ya=e=>typeof e=="symbol",At=e=>e!==null&&typeof e=="object",gm=e=>(At(e)||Ke(e))&&Ke(e.then)&&Ke(e.catch),lx=Object.prototype.toString,jd=e=>lx.call(e),mA=e=>jd(e).slice(8,-1),ux=e=>jd(e)==="[object Object]",mm=e=>$t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Il=fm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$d=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vA=/-(\w)/g,Vn=$d(e=>e.replace(vA,(t,n)=>n?n.toUpperCase():"")),yA=/\B([A-Z])/g,ms=$d(e=>e.replace(yA,"-$1").toLowerCase()),Bi=$d(e=>e.charAt(0).toUpperCase()+e.slice(1)),ch=$d(e=>e?`on${Bi(e)}`:""),fa=(e,t)=>!Object.is(e,t),Sc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},cx=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},zp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},dx=e=>{const t=$t(e)?Number(e):NaN;return isNaN(t)?e:t};let py;const Vd=()=>py||(py=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vm(e){if(He(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=$t(r)?xA(r):vm(r);if(i)for(const a in i)t[a]=i[a]}return t}else if($t(e)||At(e))return e}const bA=/;(?![^(]*\))/g,_A=/:([^]+)/,wA=/\/\*[^]*?\*\//g;function xA(e){const t={};return e.replace(wA,"").split(bA).forEach(n=>{if(n){const r=n.split(_A);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Md(e){let t="";if($t(e))t=e;else if(He(e))for(let n=0;n<e.length;n++){const r=Md(e[n]);r&&(t+=r+" ")}else if(At(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const SA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",EA=fm(SA);function fx(e){return!!e||e===""}const hx=e=>!!(e&&e.__v_isRef===!0),vt=e=>$t(e)?e:e==null?"":He(e)||At(e)&&(e.toString===lx||!Ke(e.toString))?hx(e)?vt(e.value):JSON.stringify(e,px,2):String(e),px=(e,t)=>hx(t)?px(e,t.value):Js(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],a)=>(n[dh(r,a)+" =>"]=i,n),{})}:ox(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>dh(n))}:ya(t)?dh(t):At(t)&&!He(t)&&!ux(t)?String(t):t,dh=(e,t="")=>{var n;return ya(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let In;class gx{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=In,!t&&In&&(this.index=(In.scopes||(In.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=In;try{return In=this,t()}finally{In=n}}}on(){In=this}off(){In=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ym(e){return new gx(e)}function IA(){return In}function Dn(e,t=!1){In&&In.cleanups.push(e)}let Ct;const fh=new WeakSet;class mx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,In&&In.active&&In.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fh.has(this)&&(fh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yx(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gy(this),bx(this);const t=Ct,n=Or;Ct=this,Or=!0;try{return this.fn()}finally{_x(this),Ct=t,Or=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)wm(t);this.deps=this.depsTail=void 0,gy(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Kp(this)&&this.run()}get dirty(){return Kp(this)}}let vx=0,Cl,Tl;function yx(e,t=!1){if(e.flags|=8,t){e.next=Tl,Tl=e;return}e.next=Cl,Cl=e}function bm(){vx++}function _m(){if(--vx>0)return;if(Tl){let t=Tl;for(Tl=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Cl;){let t=Cl;for(Cl=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function bx(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _x(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),wm(r),CA(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function Kp(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(wx(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function wx(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gl))return;e.globalVersion=Gl;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Kp(e)){e.flags&=-3;return}const n=Ct,r=Or;Ct=e,Or=!0;try{bx(e);const i=e.fn(e._value);(t.version===0||fa(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Ct=n,Or=r,_x(e),e.flags&=-3}}function wm(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)wm(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function CA(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Or=!0;const xx=[];function ba(){xx.push(Or),Or=!1}function _a(){const e=xx.pop();Or=e===void 0?!0:e}function gy(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ct;Ct=void 0;try{t()}finally{Ct=n}}}let Gl=0,TA=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class xm{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ct||!Or||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new TA(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,Sx(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=r)}return n}trigger(t){this.version++,Gl++,this.notify(t)}notify(t){bm();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_m()}}}function Sx(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Sx(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const qc=new WeakMap,Za=Symbol(""),qp=Symbol(""),Wl=Symbol("");function hn(e,t,n){if(Or&&Ct){let r=qc.get(e);r||qc.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new xm),i.map=r,i.key=n),i.track()}}function ki(e,t,n,r,i,a){const s=qc.get(e);if(!s){Gl++;return}const o=l=>{l&&l.trigger()};if(bm(),t==="clear")s.forEach(o);else{const l=He(e),u=l&&mm(n);if(l&&n==="length"){const c=Number(r);s.forEach((d,f)=>{(f==="length"||f===Wl||!ya(f)&&f>=c)&&o(d)})}else switch((n!==void 0||s.has(void 0))&&o(s.get(n)),u&&o(s.get(Wl)),t){case"add":l?u&&o(s.get("length")):(o(s.get(Za)),Js(e)&&o(s.get(qp)));break;case"delete":l||(o(s.get(Za)),Js(e)&&o(s.get(qp)));break;case"set":Js(e)&&o(s.get(Za));break}}_m()}function AA(e,t){const n=qc.get(e);return n&&n.get(t)}function Cs(e){const t=je(e);return t===e?t:(hn(t,"iterate",Wl),pr(e)?t:t.map(pn))}function Bd(e){return hn(e=je(e),"iterate",Wl),e}const NA={__proto__:null,[Symbol.iterator](){return hh(this,Symbol.iterator,pn)},concat(...e){return Cs(this).concat(...e.map(t=>He(t)?Cs(t):t))},entries(){return hh(this,"entries",e=>(e[1]=pn(e[1]),e))},every(e,t){return wi(this,"every",e,t,void 0,arguments)},filter(e,t){return wi(this,"filter",e,t,n=>n.map(pn),arguments)},find(e,t){return wi(this,"find",e,t,pn,arguments)},findIndex(e,t){return wi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return wi(this,"findLast",e,t,pn,arguments)},findLastIndex(e,t){return wi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return wi(this,"forEach",e,t,void 0,arguments)},includes(...e){return ph(this,"includes",e)},indexOf(...e){return ph(this,"indexOf",e)},join(e){return Cs(this).join(e)},lastIndexOf(...e){return ph(this,"lastIndexOf",e)},map(e,t){return wi(this,"map",e,t,void 0,arguments)},pop(){return Bo(this,"pop")},push(...e){return Bo(this,"push",e)},reduce(e,...t){return my(this,"reduce",e,t)},reduceRight(e,...t){return my(this,"reduceRight",e,t)},shift(){return Bo(this,"shift")},some(e,t){return wi(this,"some",e,t,void 0,arguments)},splice(...e){return Bo(this,"splice",e)},toReversed(){return Cs(this).toReversed()},toSorted(e){return Cs(this).toSorted(e)},toSpliced(...e){return Cs(this).toSpliced(...e)},unshift(...e){return Bo(this,"unshift",e)},values(){return hh(this,"values",pn)}};function hh(e,t,n){const r=Bd(e),i=r[t]();return r!==e&&!pr(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=n(a.value)),a}),i}const RA=Array.prototype;function wi(e,t,n,r,i,a){const s=Bd(e),o=s!==e&&!pr(e),l=s[t];if(l!==RA[t]){const d=l.apply(e,a);return o?pn(d):d}let u=n;s!==e&&(o?u=function(d,f){return n.call(this,pn(d),f,e)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,e)}));const c=l.call(s,u,r);return o&&i?i(c):c}function my(e,t,n,r){const i=Bd(e);let a=n;return i!==e&&(pr(e)?n.length>3&&(a=function(s,o,l){return n.call(this,s,o,l,e)}):a=function(s,o,l){return n.call(this,s,pn(o),l,e)}),i[t](a,...r)}function ph(e,t,n){const r=je(e);hn(r,"iterate",Wl);const i=r[t](...n);return(i===-1||i===!1)&&Im(n[0])?(n[0]=je(n[0]),r[t](...n)):i}function Bo(e,t,n=[]){ba(),bm();const r=je(e)[t].apply(e,n);return _m(),_a(),r}const DA=fm("__proto__,__v_isRef,__isVue"),Ex=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ya));function kA(e){ya(e)||(e=String(e));const t=je(this);return hn(t,"has",e),t.hasOwnProperty(e)}class Ix{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(i?a?UA:Nx:a?Ax:Tx).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=He(t);if(!i){let l;if(s&&(l=NA[n]))return l;if(n==="hasOwnProperty")return kA}const o=Reflect.get(t,n,lt(t)?t:r);return(ya(n)?Ex.has(n):DA(n))||(i||hn(t,"get",n),a)?o:lt(o)?s&&mm(n)?o:o.value:At(o)?i?lu(o):dt(o):o}}class Cx extends Ix{constructor(t=!1){super(!1,t)}set(t,n,r,i){let a=t[n];if(!this._isShallow){const l=as(a);if(!pr(r)&&!as(r)&&(a=je(a),r=je(r)),!He(t)&&lt(a)&&!lt(r))return l?!1:(a.value=r,!0)}const s=He(t)&&mm(n)?Number(n)<t.length:mt(t,n),o=Reflect.set(t,n,r,lt(t)?t:i);return t===je(i)&&(s?fa(r,a)&&ki(t,"set",n,r):ki(t,"add",n,r)),o}deleteProperty(t,n){const r=mt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&ki(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ya(n)||!Ex.has(n))&&hn(t,"has",n),r}ownKeys(t){return hn(t,"iterate",He(t)?"length":Za),Reflect.ownKeys(t)}}class OA extends Ix{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const PA=new Cx,LA=new OA,FA=new Cx(!0);const Jp=e=>e,Hu=e=>Reflect.getPrototypeOf(e);function jA(e,t,n){return function(...r){const i=this.__v_raw,a=je(i),s=Js(a),o=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=i[e](...r),c=n?Jp:t?Yp:pn;return!t&&hn(a,"iterate",l?qp:Za),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:o?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Gu(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function $A(e,t){const n={get(i){const a=this.__v_raw,s=je(a),o=je(i);e||(fa(i,o)&&hn(s,"get",i),hn(s,"get",o));const{has:l}=Hu(s),u=t?Jp:e?Yp:pn;if(l.call(s,i))return u(a.get(i));if(l.call(s,o))return u(a.get(o));a!==s&&a.get(i)},get size(){const i=this.__v_raw;return!e&&hn(je(i),"iterate",Za),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,s=je(a),o=je(i);return e||(fa(i,o)&&hn(s,"has",i),hn(s,"has",o)),i===o?a.has(i):a.has(i)||a.has(o)},forEach(i,a){const s=this,o=s.__v_raw,l=je(o),u=t?Jp:e?Yp:pn;return!e&&hn(l,"iterate",Za),o.forEach((c,d)=>i.call(a,u(c),u(d),s))}};return Xt(n,e?{add:Gu("add"),set:Gu("set"),delete:Gu("delete"),clear:Gu("clear")}:{add(i){!t&&!pr(i)&&!as(i)&&(i=je(i));const a=je(this);return Hu(a).has.call(a,i)||(a.add(i),ki(a,"add",i,i)),this},set(i,a){!t&&!pr(a)&&!as(a)&&(a=je(a));const s=je(this),{has:o,get:l}=Hu(s);let u=o.call(s,i);u||(i=je(i),u=o.call(s,i));const c=l.call(s,i);return s.set(i,a),u?fa(a,c)&&ki(s,"set",i,a):ki(s,"add",i,a),this},delete(i){const a=je(this),{has:s,get:o}=Hu(a);let l=s.call(a,i);l||(i=je(i),l=s.call(a,i)),o&&o.call(a,i);const u=a.delete(i);return l&&ki(a,"delete",i,void 0),u},clear(){const i=je(this),a=i.size!==0,s=i.clear();return a&&ki(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=jA(i,e,t)}),n}function Sm(e,t){const n=$A(e,t);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(mt(n,i)&&i in r?n:r,i,a)}const VA={get:Sm(!1,!1)},MA={get:Sm(!1,!0)},BA={get:Sm(!0,!1)};const Tx=new WeakMap,Ax=new WeakMap,Nx=new WeakMap,UA=new WeakMap;function HA(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function GA(e){return e.__v_skip||!Object.isExtensible(e)?0:HA(mA(e))}function dt(e){return as(e)?e:Em(e,!1,PA,VA,Tx)}function WA(e){return Em(e,!1,FA,MA,Ax)}function lu(e){return Em(e,!0,LA,BA,Nx)}function Em(e,t,n,r,i){if(!At(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=GA(e);if(s===0)return e;const o=new Proxy(e,s===2?r:n);return i.set(e,o),o}function Ys(e){return as(e)?Ys(e.__v_raw):!!(e&&e.__v_isReactive)}function as(e){return!!(e&&e.__v_isReadonly)}function pr(e){return!!(e&&e.__v_isShallow)}function Im(e){return e?!!e.__v_raw:!1}function je(e){const t=e&&e.__v_raw;return t?je(t):e}function Rx(e){return!mt(e,"__v_skip")&&Object.isExtensible(e)&&cx(e,"__v_skip",!0),e}const pn=e=>At(e)?dt(e):e,Yp=e=>At(e)?lu(e):e;function lt(e){return e?e.__v_isRef===!0:!1}function q(e){return Dx(e,!1)}function Te(e){return Dx(e,!0)}function Dx(e,t){return lt(e)?e:new zA(e,t)}class zA{constructor(t,n){this.dep=new xm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:je(t),this._value=n?t:pn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||pr(t)||as(t);t=r?t:je(t),fa(t,n)&&(this._rawValue=t,this._value=r?t:pn(t),this.dep.trigger())}}function X(e){return lt(e)?e.value:e}const KA={get:(e,t,n)=>t==="__v_raw"?e:X(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return lt(i)&&!lt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function kx(e){return Ys(e)?e:new Proxy(e,KA)}function Cm(e){const t=He(e)?new Array(e.length):{};for(const n in e)t[n]=Ox(e,n);return t}class qA{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return AA(je(this._object),this._key)}}class JA{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ie(e,t,n){return lt(e)?e:Ke(e)?new JA(e):At(e)&&arguments.length>1?Ox(e,t,n):q(e)}function Ox(e,t,n){const r=e[t];return lt(r)?r:new qA(e,t,n)}class YA{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new xm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return yx(this,!0),!0}get value(){const t=this.dep.track();return wx(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function QA(e,t,n=!1){let r,i;return Ke(e)?r=e:(r=e.get,i=e.set),new YA(r,i,n)}const Wu={},Jc=new WeakMap;let Ua;function XA(e,t=!1,n=Ua){if(n){let r=Jc.get(n);r||Jc.set(n,r=[]),r.push(e)}}function ZA(e,t,n=Et){const{immediate:r,deep:i,once:a,scheduler:s,augmentJob:o,call:l}=n,u=I=>i?I:pr(I)||i===!1||i===0?Oi(I,1):Oi(I);let c,d,f,h,p=!1,g=!1;if(lt(e)?(d=()=>e.value,p=pr(e)):Ys(e)?(d=()=>u(e),p=!0):He(e)?(g=!0,p=e.some(I=>Ys(I)||pr(I)),d=()=>e.map(I=>{if(lt(I))return I.value;if(Ys(I))return u(I);if(Ke(I))return l?l(I,2):I()})):Ke(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){ba();try{f()}finally{_a()}}const I=Ua;Ua=c;try{return l?l(e,3,[h]):e(h)}finally{Ua=I}}:d=ui,t&&i){const I=d,S=i===!0?1/0:i;d=()=>Oi(I(),S)}const m=IA(),v=()=>{c.stop(),m&&m.active&&pm(m.effects,c)};if(a&&t){const I=t;t=(...S)=>{I(...S),v()}}let _=g?new Array(e.length).fill(Wu):Wu;const x=I=>{if(!(!(c.flags&1)||!c.dirty&&!I))if(t){const S=c.run();if(i||p||(g?S.some((E,N)=>fa(E,_[N])):fa(S,_))){f&&f();const E=Ua;Ua=c;try{const N=[S,_===Wu?void 0:g&&_[0]===Wu?[]:_,h];l?l(t,3,N):t(...N),_=S}finally{Ua=E}}}else c.run()};return o&&o(x),c=new mx(d),c.scheduler=s?()=>s(x,!1):x,h=I=>XA(I,!1,c),f=c.onStop=()=>{const I=Jc.get(c);if(I){if(l)l(I,4);else for(const S of I)S();Jc.delete(c)}},t?r?x(!0):_=c.run():s?s(x.bind(null,!0),!0):c.run(),v.pause=c.pause.bind(c),v.resume=c.resume.bind(c),v.stop=v,v}function Oi(e,t=1/0,n){if(t<=0||!At(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,lt(e))Oi(e.value,t,n);else if(He(e))for(let r=0;r<e.length;r++)Oi(e[r],t,n);else if(ox(e)||Js(e))e.forEach(r=>{Oi(r,t,n)});else if(ux(e)){for(const r in e)Oi(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Oi(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function uu(e,t,n,r){try{return r?e(...r):e()}catch(i){cu(i,t,n)}}function Lr(e,t,n,r){if(Ke(e)){const i=uu(e,t,n,r);return i&&gm(i)&&i.catch(a=>{cu(a,t,n)}),i}if(He(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Lr(e[a],t,n,r));return i}}function cu(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Et;if(t){let o=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}o=o.parent}if(a){ba(),uu(a,null,10,[e,l,u]),_a();return}}eN(e,n,i,r,s)}function eN(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Tn=[];let ei=-1;const Qs=[];let Zi=null,js=0;const Px=Promise.resolve();let Yc=null;function Dt(e){const t=Yc||Px;return e?t.then(this?e.bind(this):e):t}function tN(e){let t=ei+1,n=Tn.length;for(;t<n;){const r=t+n>>>1,i=Tn[r],a=zl(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function Tm(e){if(!(e.flags&1)){const t=zl(e),n=Tn[Tn.length-1];!n||!(e.flags&2)&&t>=zl(n)?Tn.push(e):Tn.splice(tN(t),0,e),e.flags|=1,Lx()}}function Lx(){Yc||(Yc=Px.then(jx))}function Qp(e){He(e)?Qs.push(...e):Zi&&e.id===-1?Zi.splice(js+1,0,e):e.flags&1||(Qs.push(e),e.flags|=1),Lx()}function vy(e,t,n=ei+1){for(;n<Tn.length;n++){const r=Tn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Tn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Fx(e){if(Qs.length){const t=[...new Set(Qs)].sort((n,r)=>zl(n)-zl(r));if(Qs.length=0,Zi){Zi.push(...t);return}for(Zi=t,js=0;js<Zi.length;js++){const n=Zi[js];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Zi=null,js=0}}const zl=e=>e.id==null?e.flags&2?-1:1/0:e.id;function jx(e){try{for(ei=0;ei<Tn.length;ei++){const t=Tn[ei];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),uu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ei<Tn.length;ei++){const t=Tn[ei];t&&(t.flags&=-2)}ei=-1,Tn.length=0,Fx(),Yc=null,(Tn.length||Qs.length)&&jx()}}let Fn=null,$x=null;function Qc(e){const t=Fn;return Fn=e,$x=e&&e.type.__scopeId||null,t}function te(e,t=Fn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&ky(-1);const a=Qc(t);let s;try{s=e(...i)}finally{Qc(a),r._d&&ky(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Zt(e,t){if(Fn===null)return e;const n=zd(Fn),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,s,o,l=Et]=t[i];a&&(Ke(a)&&(a={mounted:a,updated:a}),a.deep&&Oi(s),r.push({dir:a,instance:n,value:s,oldValue:void 0,arg:o,modifiers:l}))}return e}function Na(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[r];l&&(ba(),Lr(l,n,8,[e.el,o,e,t]),_a())}}const Vx=Symbol("_vte"),Mx=e=>e.__isTeleport,Al=e=>e&&(e.disabled||e.disabled===""),yy=e=>e&&(e.defer||e.defer===""),by=e=>typeof SVGElement<"u"&&e instanceof SVGElement,_y=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Xp=(e,t)=>{const n=e&&e.to;return $t(n)?t?t(n):null:n},Bx={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,a,s,o,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:m}}=u,v=Al(t.props);let{shapeFlag:_,children:x,dynamicChildren:I}=t;if(e==null){const S=t.el=g(""),E=t.anchor=g("");h(S,n,r),h(E,n,r);const N=(R,M)=>{_&16&&(i&&i.isCE&&(i.ce._teleportTarget=R),c(x,R,M,i,a,s,o,l))},A=()=>{const R=t.target=Xp(t.props,p),M=Ux(R,t,g,h);R&&(s!=="svg"&&by(R)?s="svg":s!=="mathml"&&_y(R)&&(s="mathml"),v||(N(R,M),Ec(t,!1)))};v&&(N(n,E),Ec(t,!0)),yy(t.props)?xn(()=>{A(),t.el.__isMounted=!0},a):A()}else{if(yy(t.props)&&!e.el.__isMounted){xn(()=>{Bx.process(e,t,n,r,i,a,s,o,l,u),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const S=t.anchor=e.anchor,E=t.target=e.target,N=t.targetAnchor=e.targetAnchor,A=Al(e.props),R=A?n:E,M=A?S:N;if(s==="svg"||by(E)?s="svg":(s==="mathml"||_y(E))&&(s="mathml"),I?(f(e.dynamicChildren,I,R,i,a,s,o),Lm(e,t,!0)):l||d(e,t,R,M,i,a,s,o,!1),v)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):zu(t,n,S,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=Xp(t.props,p);V&&zu(t,V,null,u,0)}else A&&zu(t,E,N,u,1);Ec(t,v)}},remove(e,t,n,{um:r,o:{remove:i}},a){const{shapeFlag:s,children:o,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(i(u),i(c)),a&&i(l),s&16){const h=a||!Al(f);for(let p=0;p<o.length;p++){const g=o[p];r(g,t,n,h,!!g.dynamicChildren)}}},move:zu,hydrate:nN};function zu(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);const{el:s,anchor:o,shapeFlag:l,children:u,props:c}=e,d=a===2;if(d&&r(s,t,n),(!d||Al(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],t,n,2);d&&r(o,t,n)}function nN(e,t,n,r,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l,insert:u,createText:c}},d){const f=t.target=Xp(t.props,l);if(f){const h=Al(t.props),p=f._lpa||f.firstChild;if(t.shapeFlag&16)if(h)t.anchor=d(s(e),t,o(e),n,r,i,a),t.targetStart=p,t.targetAnchor=p&&s(p);else{t.anchor=s(e);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,f._lpa=t.targetAnchor&&s(t.targetAnchor);break}}g=s(g)}t.targetAnchor||Ux(f,t,c,u),d(p&&s(p),t,f,n,r,i,a)}Ec(t,h)}return t.anchor&&s(t.anchor)}const rN=Bx;function Ec(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Ux(e,t,n,r){const i=t.targetStart=n(""),a=t.targetAnchor=n("");return i[Vx]=a,e&&(r(i,e),r(a,e)),a}const ea=Symbol("_leaveCb"),Ku=Symbol("_enterCb");function Hx(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return en(()=>{e.isMounted=!0}),Ht(()=>{e.isUnmounting=!0}),e}const or=[Function,Array],Gx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:or,onEnter:or,onAfterEnter:or,onEnterCancelled:or,onBeforeLeave:or,onLeave:or,onAfterLeave:or,onLeaveCancelled:or,onBeforeAppear:or,onAppear:or,onAfterAppear:or,onAppearCancelled:or},Wx=e=>{const t=e.subTree;return t.component?Wx(t.component):t},iN={name:"BaseTransition",props:Gx,setup(e,{slots:t}){const n=Wd(),r=Hx();return()=>{const i=t.default&&Am(t.default(),!0);if(!i||!i.length)return;const a=zx(i),s=je(e),{mode:o}=s;if(r.isLeaving)return gh(a);const l=wy(a);if(!l)return gh(a);let u=Kl(l,s,r,n,d=>u=d);l.type!==ln&&ss(l,u);let c=n.subTree&&wy(n.subTree);if(c&&c.type!==ln&&!ii(l,c)&&Wx(n).type!==ln){let d=Kl(c,s,r,n);if(ss(c,d),o==="out-in"&&l.type!==ln)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},gh(a);o==="in-out"&&l.type!==ln?d.delayLeave=(f,h,p)=>{const g=Kx(r,c);g[String(c.key)]=c,f[ea]=()=>{h(),f[ea]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function zx(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ln){t=n;break}}return t}const aN=iN;function Kx(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Kl(e,t,n,r,i){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:v,onAfterAppear:_,onAppearCancelled:x}=t,I=String(e.key),S=Kx(n,e),E=(R,M)=>{R&&Lr(R,r,9,M)},N=(R,M)=>{const V=M[1];E(R,M),He(R)?R.every(P=>P.length<=1)&&V():R.length<=1&&V()},A={mode:s,persisted:o,beforeEnter(R){let M=l;if(!n.isMounted)if(a)M=m||l;else return;R[ea]&&R[ea](!0);const V=S[I];V&&ii(e,V)&&V.el[ea]&&V.el[ea](),E(M,[R])},enter(R){let M=u,V=c,P=d;if(!n.isMounted)if(a)M=v||u,V=_||c,P=x||d;else return;let F=!1;const U=R[Ku]=J=>{F||(F=!0,J?E(P,[R]):E(V,[R]),A.delayedLeave&&A.delayedLeave(),R[Ku]=void 0)};M?N(M,[R,U]):U()},leave(R,M){const V=String(e.key);if(R[Ku]&&R[Ku](!0),n.isUnmounting)return M();E(f,[R]);let P=!1;const F=R[ea]=U=>{P||(P=!0,M(),U?E(g,[R]):E(p,[R]),R[ea]=void 0,S[V]===e&&delete S[V])};S[V]=e,h?N(h,[R,F]):F()},clone(R){const M=Kl(R,t,n,r,i);return i&&i(M),M}};return A}function gh(e){if(Ud(e))return e=Fi(e),e.children=null,e}function wy(e){if(!Ud(e))return Mx(e.type)&&e.children?zx(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ke(n.default))return n.default()}}function ss(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ss(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Am(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===Pe?(s.patchFlag&128&&i++,r=r.concat(Am(s.children,t,o))):(t||s.type!==ln)&&r.push(o!=null?Fi(s,{key:o}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function sN(e,t){return Ke(e)?Xt({name:e.name},t,{setup:e}):e}function qx(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Xc(e,t,n,r,i=!1){if(He(e)){e.forEach((p,g)=>Xc(p,t&&(He(t)?t[g]:t),n,r,i));return}if(Nl(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Xc(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?zd(r.component):r.el,s=i?null:a,{i:o,r:l}=e,u=t&&t.r,c=o.refs===Et?o.refs={}:o.refs,d=o.setupState,f=je(d),h=d===Et?()=>!1:p=>mt(f,p);if(u!=null&&u!==l&&($t(u)?(c[u]=null,h(u)&&(d[u]=null)):lt(u)&&(u.value=null)),Ke(l))uu(l,o,12,[s,c]);else{const p=$t(l),g=lt(l);if(p||g){const m=()=>{if(e.f){const v=p?h(l)?d[l]:c[l]:l.value;i?He(v)&&pm(v,a):He(v)?v.includes(a)||v.push(a):p?(c[l]=[a],h(l)&&(d[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else p?(c[l]=s,h(l)&&(d[l]=s)):g&&(l.value=s,e.k&&(c[e.k]=s))};s?(m.id=-1,xn(m,n)):m()}}}Vd().requestIdleCallback;Vd().cancelIdleCallback;const Nl=e=>!!e.type.__asyncLoader,Ud=e=>e.type.__isKeepAlive;function Jx(e,t){Yx(e,"a",t)}function Nm(e,t){Yx(e,"da",t)}function Yx(e,t,n=un){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Hd(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Ud(i.parent.vnode)&&oN(r,t,n,i),i=i.parent}}function oN(e,t,n,r){const i=Hd(t,e,r,!0);km(()=>{pm(r[t],i)},n)}function Hd(e,t,n=un,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...s)=>{ba();const o=os(n),l=Lr(t,n,e,s);return o(),_a(),l});return r?i.unshift(a):i.push(a),a}}const Ui=e=>(t,n=un)=>{(!Jl||e==="sp")&&Hd(e,(...r)=>t(...r),n)},yr=Ui("bm"),en=Ui("m"),Rm=Ui("bu"),Dm=Ui("u"),Ht=Ui("bum"),km=Ui("um"),lN=Ui("sp"),uN=Ui("rtg"),cN=Ui("rtc");function dN(e,t=un){Hd("ec",e,t)}const Qx="components",fN="directives",Xx=Symbol.for("v-ndc");function Om(e){return $t(e)?Zx(Qx,e,!1)||e:e||Xx}function hi(e){return Zx(fN,e)}function Zx(e,t,n=!0,r=!1){const i=Fn||un;if(i){const a=i.type;if(e===Qx){const o=iR(a,!1);if(o&&(o===t||o===Vn(t)||o===Bi(Vn(t))))return a}const s=xy(i[e]||a[e],t)||xy(i.appContext[e],t);return!s&&r?a:s}}function xy(e,t){return e&&(e[t]||e[Vn(t)]||e[Bi(Vn(t))])}function Yt(e,t,n,r){let i;const a=n,s=He(e);if(s||$t(e)){const o=s&&Ys(e);let l=!1;o&&(l=!pr(e),e=Bd(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?pn(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,a)}else if(At(e))if(e[Symbol.iterator])i=Array.from(e,(o,l)=>t(o,l,void 0,a));else{const o=Object.keys(e);i=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];i[l]=t(e[c],c,l,a)}}else i=[];return i}const Zp=e=>e?_S(e)?zd(e):Zp(e.parent):null,Rl=Xt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zp(e.parent),$root:e=>Zp(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>tS(e),$forceUpdate:e=>e.f||(e.f=()=>{Tm(e.update)}),$nextTick:e=>e.n||(e.n=Dt.bind(e.proxy)),$watch:e=>PN.bind(e)}),mh=(e,t)=>e!==Et&&!e.__isScriptSetup&&mt(e,t),hN={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:a,accessCache:s,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(mh(r,t))return s[t]=1,r[t];if(i!==Et&&mt(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&mt(u,t))return s[t]=3,a[t];if(n!==Et&&mt(n,t))return s[t]=4,n[t];eg&&(s[t]=0)}}const c=Rl[t];let d,f;if(c)return t==="$attrs"&&hn(e.attrs,"get",""),c(e);if((d=o.__cssModules)&&(d=d[t]))return d;if(n!==Et&&mt(n,t))return s[t]=4,n[t];if(f=l.config.globalProperties,mt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return mh(i,t)?(i[t]=n,!0):r!==Et&&mt(r,t)?(r[t]=n,!0):mt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},s){let o;return!!n[s]||e!==Et&&mt(e,s)||mh(t,s)||(o=a[0])&&mt(o,s)||mt(r,s)||mt(Rl,s)||mt(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:mt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sy(e){return He(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function pN(e){const t=Wd();let n=e();return ag(),gm(n)&&(n=n.catch(r=>{throw os(t),r})),[n,()=>os(t)]}let eg=!0;function gN(e){const t=tS(e),n=e.proxy,r=e.ctx;eg=!1,t.beforeCreate&&Ey(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:_,destroyed:x,unmounted:I,render:S,renderTracked:E,renderTriggered:N,errorCaptured:A,serverPrefetch:R,expose:M,inheritAttrs:V,components:P,directives:F,filters:U}=t;if(u&&mN(u,r,null),s)for(const he in s){const ne=s[he];Ke(ne)&&(r[he]=ne.bind(n))}if(i){const he=i.call(n,n);At(he)&&(e.data=dt(he))}if(eg=!0,a)for(const he in a){const ne=a[he],Z=Ke(ne)?ne.bind(n,n):Ke(ne.get)?ne.get.bind(n,n):ui,re=!Ke(ne)&&Ke(ne.set)?ne.set.bind(n):ui,W=O({get:Z,set:re});Object.defineProperty(r,he,{enumerable:!0,configurable:!0,get:()=>W.value,set:ee=>W.value=ee})}if(o)for(const he in o)eS(o[he],r,n,he);if(l){const he=Ke(l)?l.call(n):l;Reflect.ownKeys(he).forEach(ne=>{Ae(ne,he[ne])})}c&&Ey(c,e,"c");function G(he,ne){He(ne)?ne.forEach(Z=>he(Z.bind(n))):ne&&he(ne.bind(n))}if(G(yr,d),G(en,f),G(Rm,h),G(Dm,p),G(Jx,g),G(Nm,m),G(dN,A),G(cN,E),G(uN,N),G(Ht,_),G(km,I),G(lN,R),He(M))if(M.length){const he=e.exposed||(e.exposed={});M.forEach(ne=>{Object.defineProperty(he,ne,{get:()=>n[ne],set:Z=>n[ne]=Z})})}else e.exposed||(e.exposed={});S&&e.render===ui&&(e.render=S),V!=null&&(e.inheritAttrs=V),P&&(e.components=P),F&&(e.directives=F),R&&qx(e)}function mN(e,t,n=ui){He(e)&&(e=tg(e));for(const r in e){const i=e[r];let a;At(i)?"default"in i?a=be(i.from||r,i.default,!0):a=be(i.from||r):a=be(i),lt(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[r]=a}}function Ey(e,t,n){Lr(He(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function eS(e,t,n,r){let i=r.includes(".")?hS(n,r):()=>n[r];if($t(e)){const a=t[e];Ke(a)&&Ce(i,a)}else if(Ke(e))Ce(i,e.bind(n));else if(At(e))if(He(e))e.forEach(a=>eS(a,t,n,r));else{const a=Ke(e.handler)?e.handler.bind(n):t[e.handler];Ke(a)&&Ce(i,a,e)}}function tS(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>Zc(l,u,s,!0)),Zc(l,t,s)),At(t)&&a.set(t,l),l}function Zc(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&Zc(e,a,n,!0),i&&i.forEach(s=>Zc(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const o=vN[s]||n&&n[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const vN={data:Iy,props:Cy,emits:Cy,methods:ml,computed:ml,beforeCreate:wn,created:wn,beforeMount:wn,mounted:wn,beforeUpdate:wn,updated:wn,beforeDestroy:wn,beforeUnmount:wn,destroyed:wn,unmounted:wn,activated:wn,deactivated:wn,errorCaptured:wn,serverPrefetch:wn,components:ml,directives:ml,watch:bN,provide:Iy,inject:yN};function Iy(e,t){return t?e?function(){return Xt(Ke(e)?e.call(this,this):e,Ke(t)?t.call(this,this):t)}:t:e}function yN(e,t){return ml(tg(e),tg(t))}function tg(e){if(He(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wn(e,t){return e?[...new Set([].concat(e,t))]:t}function ml(e,t){return e?Xt(Object.create(null),e,t):t}function Cy(e,t){return e?He(e)&&He(t)?[...new Set([...e,...t])]:Xt(Object.create(null),Sy(e),Sy(t??{})):t}function bN(e,t){if(!e)return t;if(!t)return e;const n=Xt(Object.create(null),e);for(const r in t)n[r]=wn(e[r],t[r]);return n}function nS(){return{app:null,config:{isNativeTag:pA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _N=0;function wN(e,t){return function(r,i=null){Ke(r)||(r=Xt({},r)),i!=null&&!At(i)&&(i=null);const a=nS(),s=new WeakSet,o=[];let l=!1;const u=a.app={_uid:_N++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:sR,get config(){return a.config},set config(c){},use(c,...d){return s.has(c)||(c&&Ke(c.install)?(s.add(c),c.install(u,...d)):Ke(c)&&(s.add(c),c(u,...d))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,d){return d?(a.components[c]=d,u):a.components[c]},directive(c,d){return d?(a.directives[c]=d,u):a.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||b(r,i);return h.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),e(h,c,f),l=!0,u._container=c,c.__vue_app__=u,zd(h.component)}},onUnmount(c){o.push(c)},unmount(){l&&(Lr(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return a.provides[c]=d,u},runWithContext(c){const d=Xs;Xs=u;try{return c()}finally{Xs=d}}};return u}}let Xs=null;function Ae(e,t){if(un){let n=un.provides;const r=un.parent&&un.parent.provides;r===n&&(n=un.provides=Object.create(r)),n[e]=t}}function be(e,t,n=!1){const r=un||Fn;if(r||Xs){const i=Xs?Xs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ke(t)?t.call(r&&r.proxy):t}}const rS={},iS=()=>Object.create(rS),aS=e=>Object.getPrototypeOf(e)===rS;function xN(e,t,n,r=!1){const i={},a=iS();e.propsDefaults=Object.create(null),sS(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:WA(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function SN(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=je(i),[l]=e.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Gd(e.emitsOptions,f))continue;const h=t[f];if(l)if(mt(a,f))h!==a[f]&&(a[f]=h,u=!0);else{const p=Vn(f);i[p]=ng(l,o,p,h,e,!1)}else h!==a[f]&&(a[f]=h,u=!0)}}}else{sS(e,t,i,a)&&(u=!0);let c;for(const d in o)(!t||!mt(t,d)&&((c=ms(d))===d||!mt(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=ng(l,o,d,void 0,e,!0)):delete i[d]);if(a!==o)for(const d in a)(!t||!mt(t,d))&&(delete a[d],u=!0)}u&&ki(e.attrs,"set","")}function sS(e,t,n,r){const[i,a]=e.propsOptions;let s=!1,o;if(t)for(let l in t){if(Il(l))continue;const u=t[l];let c;i&&mt(i,c=Vn(l))?!a||!a.includes(c)?n[c]=u:(o||(o={}))[c]=u:Gd(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(a){const l=je(n),u=o||Et;for(let c=0;c<a.length;c++){const d=a[c];n[d]=ng(i,l,d,u[d],e,!mt(u,d))}}return s}function ng(e,t,n,r,i,a){const s=e[n];if(s!=null){const o=mt(s,"default");if(o&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ke(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=os(i);r=u[n]=l.call(null,t),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}s[0]&&(a&&!o?r=!1:s[1]&&(r===""||r===ms(n))&&(r=!0))}return r}const EN=new WeakMap;function oS(e,t,n=!1){const r=n?EN:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,s={},o=[];let l=!1;if(!Ke(e)){const c=d=>{l=!0;const[f,h]=oS(d,t,!0);Xt(s,f),h&&o.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return At(e)&&r.set(e,qs),qs;if(He(a))for(let c=0;c<a.length;c++){const d=Vn(a[c]);Ty(d)&&(s[d]=Et)}else if(a)for(const c in a){const d=Vn(c);if(Ty(d)){const f=a[c],h=s[d]=He(f)||Ke(f)?{type:f}:Xt({},f),p=h.type;let g=!1,m=!0;if(He(p))for(let v=0;v<p.length;++v){const _=p[v],x=Ke(_)&&_.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(m=!1)}else g=Ke(p)&&p.name==="Boolean";h[0]=g,h[1]=m,(g||mt(h,"default"))&&o.push(d)}}const u=[s,o];return At(e)&&r.set(e,u),u}function Ty(e){return e[0]!=="$"&&!Il(e)}const lS=e=>e[0]==="_"||e==="$stable",Pm=e=>He(e)?e.map(Dr):[Dr(e)],IN=(e,t,n)=>{if(t._n)return t;const r=te((...i)=>Pm(t(...i)),n);return r._c=!1,r},uS=(e,t,n)=>{const r=e._ctx;for(const i in e){if(lS(i))continue;const a=e[i];if(Ke(a))t[i]=IN(i,a,r);else if(a!=null){const s=Pm(a);t[i]=()=>s}}},cS=(e,t)=>{const n=Pm(t);e.slots.default=()=>n},dS=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},CN=(e,t,n)=>{const r=e.slots=iS();if(e.vnode.shapeFlag&32){const i=t._;i?(dS(r,t,n),n&&cx(r,"_",i,!0)):uS(t,r)}else t&&cS(e,t)},TN=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,s=Et;if(r.shapeFlag&32){const o=t._;o?n&&o===1?a=!1:dS(i,t,n):(a=!t.$stable,uS(t,i)),s=t}else t&&(cS(e,t),s={default:1});if(a)for(const o in i)!lS(o)&&s[o]==null&&delete i[o]},xn=KN;function AN(e){return NN(e)}function NN(e,t){const n=Vd();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=ui,insertStaticContent:p}=e,g=(j,C,D,B=null,K=null,z=null,ae=void 0,le=null,ie=!!C.dynamicChildren)=>{if(j===C)return;j&&!ii(j,C)&&(B=De(j),ee(j,K,z,!0),j=null),C.patchFlag===-2&&(ie=!1,C.dynamicChildren=null);const{type:de,ref:fe,shapeFlag:ve}=C;switch(de){case du:m(j,C,D,B);break;case ln:v(j,C,D,B);break;case yh:j==null&&_(C,D,B,ae);break;case Pe:P(j,C,D,B,K,z,ae,le,ie);break;default:ve&1?S(j,C,D,B,K,z,ae,le,ie):ve&6?F(j,C,D,B,K,z,ae,le,ie):(ve&64||ve&128)&&de.process(j,C,D,B,K,z,ae,le,ie,qe)}fe!=null&&K&&Xc(fe,j&&j.ref,z,C||j,!C)},m=(j,C,D,B)=>{if(j==null)r(C.el=o(C.children),D,B);else{const K=C.el=j.el;C.children!==j.children&&u(K,C.children)}},v=(j,C,D,B)=>{j==null?r(C.el=l(C.children||""),D,B):C.el=j.el},_=(j,C,D,B)=>{[j.el,j.anchor]=p(j.children,C,D,B,j.el,j.anchor)},x=({el:j,anchor:C},D,B)=>{let K;for(;j&&j!==C;)K=f(j),r(j,D,B),j=K;r(C,D,B)},I=({el:j,anchor:C})=>{let D;for(;j&&j!==C;)D=f(j),i(j),j=D;i(C)},S=(j,C,D,B,K,z,ae,le,ie)=>{C.type==="svg"?ae="svg":C.type==="math"&&(ae="mathml"),j==null?E(C,D,B,K,z,ae,le,ie):R(j,C,K,z,ae,le,ie)},E=(j,C,D,B,K,z,ae,le)=>{let ie,de;const{props:fe,shapeFlag:ve,transition:Ne,dirs:Le}=j;if(ie=j.el=s(j.type,z,fe&&fe.is,fe),ve&8?c(ie,j.children):ve&16&&A(j.children,ie,null,B,K,vh(j,z),ae,le),Le&&Na(j,null,B,"created"),N(ie,j,j.scopeId,ae,B),fe){for(const T in fe)T!=="value"&&!Il(T)&&a(ie,T,null,fe[T],z,B);"value"in fe&&a(ie,"value",null,fe.value,z),(de=fe.onVnodeBeforeMount)&&Wr(de,B,j)}Le&&Na(j,null,B,"beforeMount");const Je=RN(K,Ne);Je&&Ne.beforeEnter(ie),r(ie,C,D),((de=fe&&fe.onVnodeMounted)||Je||Le)&&xn(()=>{de&&Wr(de,B,j),Je&&Ne.enter(ie),Le&&Na(j,null,B,"mounted")},K)},N=(j,C,D,B,K)=>{if(D&&h(j,D),B)for(let z=0;z<B.length;z++)h(j,B[z]);if(K){let z=K.subTree;if(C===z||gS(z.type)&&(z.ssContent===C||z.ssFallback===C)){const ae=K.vnode;N(j,ae,ae.scopeId,ae.slotScopeIds,K.parent)}}},A=(j,C,D,B,K,z,ae,le,ie=0)=>{for(let de=ie;de<j.length;de++){const fe=j[de]=le?ta(j[de]):Dr(j[de]);g(null,fe,C,D,B,K,z,ae,le)}},R=(j,C,D,B,K,z,ae)=>{const le=C.el=j.el;let{patchFlag:ie,dynamicChildren:de,dirs:fe}=C;ie|=j.patchFlag&16;const ve=j.props||Et,Ne=C.props||Et;let Le;if(D&&Ra(D,!1),(Le=Ne.onVnodeBeforeUpdate)&&Wr(Le,D,C,j),fe&&Na(C,j,D,"beforeUpdate"),D&&Ra(D,!0),(ve.innerHTML&&Ne.innerHTML==null||ve.textContent&&Ne.textContent==null)&&c(le,""),de?M(j.dynamicChildren,de,le,D,B,vh(C,K),z):ae||ne(j,C,le,null,D,B,vh(C,K),z,!1),ie>0){if(ie&16)V(le,ve,Ne,D,K);else if(ie&2&&ve.class!==Ne.class&&a(le,"class",null,Ne.class,K),ie&4&&a(le,"style",ve.style,Ne.style,K),ie&8){const Je=C.dynamicProps;for(let T=0;T<Je.length;T++){const y=Je[T],w=ve[y],L=Ne[y];(L!==w||y==="value")&&a(le,y,w,L,K,D)}}ie&1&&j.children!==C.children&&c(le,C.children)}else!ae&&de==null&&V(le,ve,Ne,D,K);((Le=Ne.onVnodeUpdated)||fe)&&xn(()=>{Le&&Wr(Le,D,C,j),fe&&Na(C,j,D,"updated")},B)},M=(j,C,D,B,K,z,ae)=>{for(let le=0;le<C.length;le++){const ie=j[le],de=C[le],fe=ie.el&&(ie.type===Pe||!ii(ie,de)||ie.shapeFlag&70)?d(ie.el):D;g(ie,de,fe,null,B,K,z,ae,!0)}},V=(j,C,D,B,K)=>{if(C!==D){if(C!==Et)for(const z in C)!Il(z)&&!(z in D)&&a(j,z,C[z],null,K,B);for(const z in D){if(Il(z))continue;const ae=D[z],le=C[z];ae!==le&&z!=="value"&&a(j,z,le,ae,K,B)}"value"in D&&a(j,"value",C.value,D.value,K)}},P=(j,C,D,B,K,z,ae,le,ie)=>{const de=C.el=j?j.el:o(""),fe=C.anchor=j?j.anchor:o("");let{patchFlag:ve,dynamicChildren:Ne,slotScopeIds:Le}=C;Le&&(le=le?le.concat(Le):Le),j==null?(r(de,D,B),r(fe,D,B),A(C.children||[],D,fe,K,z,ae,le,ie)):ve>0&&ve&64&&Ne&&j.dynamicChildren?(M(j.dynamicChildren,Ne,D,K,z,ae,le),(C.key!=null||K&&C===K.subTree)&&Lm(j,C,!0)):ne(j,C,D,fe,K,z,ae,le,ie)},F=(j,C,D,B,K,z,ae,le,ie)=>{C.slotScopeIds=le,j==null?C.shapeFlag&512?K.ctx.activate(C,D,B,ae,ie):U(C,D,B,K,z,ae,ie):J(j,C,ie)},U=(j,C,D,B,K,z,ae)=>{const le=j.component=ZN(j,B,K);if(Ud(j)&&(le.ctx.renderer=qe),eR(le,!1,ae),le.asyncDep){if(K&&K.registerDep(le,G,ae),!j.el){const ie=le.subTree=b(ln);v(null,ie,C,D)}}else G(le,j,C,D,K,z,ae)},J=(j,C,D)=>{const B=C.component=j.component;if(MN(j,C,D))if(B.asyncDep&&!B.asyncResolved){he(B,C,D);return}else B.next=C,B.update();else C.el=j.el,B.vnode=C},G=(j,C,D,B,K,z,ae)=>{const le=()=>{if(j.isMounted){let{next:ve,bu:Ne,u:Le,parent:Je,vnode:T}=j;{const Y=fS(j);if(Y){ve&&(ve.el=T.el,he(j,ve,ae)),Y.asyncDep.then(()=>{j.isUnmounted||le()});return}}let y=ve,w;Ra(j,!1),ve?(ve.el=T.el,he(j,ve,ae)):ve=T,Ne&&Sc(Ne),(w=ve.props&&ve.props.onVnodeBeforeUpdate)&&Wr(w,Je,ve,T),Ra(j,!0);const L=Ny(j),H=j.subTree;j.subTree=L,g(H,L,d(H.el),De(H),j,K,z),ve.el=L.el,y===null&&jm(j,L.el),Le&&xn(Le,K),(w=ve.props&&ve.props.onVnodeUpdated)&&xn(()=>Wr(w,Je,ve,T),K)}else{let ve;const{el:Ne,props:Le}=C,{bm:Je,m:T,parent:y,root:w,type:L}=j,H=Nl(C);Ra(j,!1),Je&&Sc(Je),!H&&(ve=Le&&Le.onVnodeBeforeMount)&&Wr(ve,y,C),Ra(j,!0);{w.ce&&w.ce._injectChildStyle(L);const Y=j.subTree=Ny(j);g(null,Y,D,B,j,K,z),C.el=Y.el}if(T&&xn(T,K),!H&&(ve=Le&&Le.onVnodeMounted)){const Y=C;xn(()=>Wr(ve,y,Y),K)}(C.shapeFlag&256||y&&Nl(y.vnode)&&y.vnode.shapeFlag&256)&&j.a&&xn(j.a,K),j.isMounted=!0,C=D=B=null}};j.scope.on();const ie=j.effect=new mx(le);j.scope.off();const de=j.update=ie.run.bind(ie),fe=j.job=ie.runIfDirty.bind(ie);fe.i=j,fe.id=j.uid,ie.scheduler=()=>Tm(fe),Ra(j,!0),de()},he=(j,C,D)=>{C.component=j;const B=j.vnode.props;j.vnode=C,j.next=null,SN(j,C.props,B,D),TN(j,C.children,D),ba(),vy(j),_a()},ne=(j,C,D,B,K,z,ae,le,ie=!1)=>{const de=j&&j.children,fe=j?j.shapeFlag:0,ve=C.children,{patchFlag:Ne,shapeFlag:Le}=C;if(Ne>0){if(Ne&128){re(de,ve,D,B,K,z,ae,le,ie);return}else if(Ne&256){Z(de,ve,D,B,K,z,ae,le,ie);return}}Le&8?(fe&16&&Se(de,K,z),ve!==de&&c(D,ve)):fe&16?Le&16?re(de,ve,D,B,K,z,ae,le,ie):Se(de,K,z,!0):(fe&8&&c(D,""),Le&16&&A(ve,D,B,K,z,ae,le,ie))},Z=(j,C,D,B,K,z,ae,le,ie)=>{j=j||qs,C=C||qs;const de=j.length,fe=C.length,ve=Math.min(de,fe);let Ne;for(Ne=0;Ne<ve;Ne++){const Le=C[Ne]=ie?ta(C[Ne]):Dr(C[Ne]);g(j[Ne],Le,D,null,K,z,ae,le,ie)}de>fe?Se(j,K,z,!0,!1,ve):A(C,D,B,K,z,ae,le,ie,ve)},re=(j,C,D,B,K,z,ae,le,ie)=>{let de=0;const fe=C.length;let ve=j.length-1,Ne=fe-1;for(;de<=ve&&de<=Ne;){const Le=j[de],Je=C[de]=ie?ta(C[de]):Dr(C[de]);if(ii(Le,Je))g(Le,Je,D,null,K,z,ae,le,ie);else break;de++}for(;de<=ve&&de<=Ne;){const Le=j[ve],Je=C[Ne]=ie?ta(C[Ne]):Dr(C[Ne]);if(ii(Le,Je))g(Le,Je,D,null,K,z,ae,le,ie);else break;ve--,Ne--}if(de>ve){if(de<=Ne){const Le=Ne+1,Je=Le<fe?C[Le].el:B;for(;de<=Ne;)g(null,C[de]=ie?ta(C[de]):Dr(C[de]),D,Je,K,z,ae,le,ie),de++}}else if(de>Ne)for(;de<=ve;)ee(j[de],K,z,!0),de++;else{const Le=de,Je=de,T=new Map;for(de=Je;de<=Ne;de++){const Xe=C[de]=ie?ta(C[de]):Dr(C[de]);Xe.key!=null&&T.set(Xe.key,de)}let y,w=0;const L=Ne-Je+1;let H=!1,Y=0;const se=new Array(L);for(de=0;de<L;de++)se[de]=0;for(de=Le;de<=ve;de++){const Xe=j[de];if(w>=L){ee(Xe,K,z,!0);continue}let nt;if(Xe.key!=null)nt=T.get(Xe.key);else for(y=Je;y<=Ne;y++)if(se[y-Je]===0&&ii(Xe,C[y])){nt=y;break}nt===void 0?ee(Xe,K,z,!0):(se[nt-Je]=de+1,nt>=Y?Y=nt:H=!0,g(Xe,C[nt],D,null,K,z,ae,le,ie),w++)}const Ye=H?DN(se):qs;for(y=Ye.length-1,de=L-1;de>=0;de--){const Xe=Je+de,nt=C[Xe],bt=Xe+1<fe?C[Xe+1].el:B;se[de]===0?g(null,nt,D,bt,K,z,ae,le,ie):H&&(y<0||de!==Ye[y]?W(nt,D,bt,2):y--)}}},W=(j,C,D,B,K=null)=>{const{el:z,type:ae,transition:le,children:ie,shapeFlag:de}=j;if(de&6){W(j.component.subTree,C,D,B);return}if(de&128){j.suspense.move(C,D,B);return}if(de&64){ae.move(j,C,D,qe);return}if(ae===Pe){r(z,C,D);for(let ve=0;ve<ie.length;ve++)W(ie[ve],C,D,B);r(j.anchor,C,D);return}if(ae===yh){x(j,C,D);return}if(B!==2&&de&1&&le)if(B===0)le.beforeEnter(z),r(z,C,D),xn(()=>le.enter(z),K);else{const{leave:ve,delayLeave:Ne,afterLeave:Le}=le,Je=()=>r(z,C,D),T=()=>{ve(z,()=>{Je(),Le&&Le()})};Ne?Ne(z,Je,T):T()}else r(z,C,D)},ee=(j,C,D,B=!1,K=!1)=>{const{type:z,props:ae,ref:le,children:ie,dynamicChildren:de,shapeFlag:fe,patchFlag:ve,dirs:Ne,cacheIndex:Le}=j;if(ve===-2&&(K=!1),le!=null&&Xc(le,null,D,j,!0),Le!=null&&(C.renderCache[Le]=void 0),fe&256){C.ctx.deactivate(j);return}const Je=fe&1&&Ne,T=!Nl(j);let y;if(T&&(y=ae&&ae.onVnodeBeforeUnmount)&&Wr(y,C,j),fe&6)we(j.component,D,B);else{if(fe&128){j.suspense.unmount(D,B);return}Je&&Na(j,null,C,"beforeUnmount"),fe&64?j.type.remove(j,C,D,qe,B):de&&!de.hasOnce&&(z!==Pe||ve>0&&ve&64)?Se(de,C,D,!1,!0):(z===Pe&&ve&384||!K&&fe&16)&&Se(ie,C,D),B&&Q(j)}(T&&(y=ae&&ae.onVnodeUnmounted)||Je)&&xn(()=>{y&&Wr(y,C,j),Je&&Na(j,null,C,"unmounted")},D)},Q=j=>{const{type:C,el:D,anchor:B,transition:K}=j;if(C===Pe){oe(D,B);return}if(C===yh){I(j);return}const z=()=>{i(D),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(j.shapeFlag&1&&K&&!K.persisted){const{leave:ae,delayLeave:le}=K,ie=()=>ae(D,z);le?le(j.el,z,ie):ie()}else z()},oe=(j,C)=>{let D;for(;j!==C;)D=f(j),i(j),j=D;i(C)},we=(j,C,D)=>{const{bum:B,scope:K,job:z,subTree:ae,um:le,m:ie,a:de}=j;Ay(ie),Ay(de),B&&Sc(B),K.stop(),z&&(z.flags|=8,ee(ae,j,C,D)),le&&xn(le,C),xn(()=>{j.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},Se=(j,C,D,B=!1,K=!1,z=0)=>{for(let ae=z;ae<j.length;ae++)ee(j[ae],C,D,B,K)},De=j=>{if(j.shapeFlag&6)return De(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const C=f(j.anchor||j.el),D=C&&C[Vx];return D?f(D):C};let Oe=!1;const Qe=(j,C,D)=>{j==null?C._vnode&&ee(C._vnode,null,null,!0):g(C._vnode||null,j,C,null,null,null,D),C._vnode=j,Oe||(Oe=!0,vy(),Fx(),Oe=!1)},qe={p:g,um:ee,m:W,r:Q,mt:U,mc:A,pc:ne,pbc:M,n:De,o:e};return{render:Qe,hydrate:void 0,createApp:wN(Qe)}}function vh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ra({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function RN(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Lm(e,t,n=!1){const r=e.children,i=t.children;if(He(r)&&He(i))for(let a=0;a<r.length;a++){const s=r[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=ta(i[a]),o.el=s.el),!n&&o.patchFlag!==-2&&Lm(s,o)),o.type===du&&(o.el=s.el)}}function DN(e){const t=e.slice(),n=[0];let r,i,a,s,o;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(a=0,s=n.length-1;a<s;)o=a+s>>1,e[n[o]]<u?a=o+1:s=o;u<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=t[s];return n}function fS(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fS(t)}function Ay(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const kN=Symbol.for("v-scx"),ON=()=>be(kN);function yn(e,t){return Fm(e,null,t)}function Ce(e,t,n){return Fm(e,t,n)}function Fm(e,t,n=Et){const{immediate:r,deep:i,flush:a,once:s}=n,o=Xt({},n),l=t&&r||!t&&a!=="post";let u;if(Jl){if(a==="sync"){const h=ON();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=ui,h.resume=ui,h.pause=ui,h}}const c=un;o.call=(h,p,g)=>Lr(h,c,p,g);let d=!1;a==="post"?o.scheduler=h=>{xn(h,c&&c.suspense)}:a!=="sync"&&(d=!0,o.scheduler=(h,p)=>{p?h():Tm(h)}),o.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=ZA(e,t,o);return Jl&&(u?u.push(f):l&&f()),f}function PN(e,t,n){const r=this.proxy,i=$t(e)?e.includes(".")?hS(r,e):()=>r[e]:e.bind(r,r);let a;Ke(t)?a=t:(a=t.handler,n=t);const s=os(this),o=Fm(i,a.bind(r),n);return s(),o}function hS(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const LN=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Vn(t)}Modifiers`]||e[`${ms(t)}Modifiers`];function FN(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Et;let i=n;const a=t.startsWith("update:"),s=a&&LN(r,t.slice(7));s&&(s.trim&&(i=n.map(c=>$t(c)?c.trim():c)),s.number&&(i=n.map(zp)));let o,l=r[o=ch(t)]||r[o=ch(Vn(t))];!l&&a&&(l=r[o=ch(ms(t))]),l&&Lr(l,e,6,i);const u=r[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Lr(u,e,6,i)}}function pS(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let s={},o=!1;if(!Ke(e)){const l=u=>{const c=pS(u,t,!0);c&&(o=!0,Xt(s,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!o?(At(e)&&r.set(e,null),null):(He(a)?a.forEach(l=>s[l]=null):Xt(s,a),At(e)&&r.set(e,s),s)}function Gd(e,t){return!e||!Fd(t)?!1:(t=t.slice(2).replace(/Once$/,""),mt(e,t[0].toLowerCase()+t.slice(1))||mt(e,ms(t))||mt(e,t))}function Ny(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:s,attrs:o,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=e,m=Qc(e);let v,_;try{if(n.shapeFlag&4){const I=i||r,S=I;v=Dr(u.call(S,I,c,d,h,f,p)),_=o}else{const I=t;v=Dr(I.length>1?I(d,{attrs:o,slots:s,emit:l}):I(d,null)),_=t.props?o:$N(o)}}catch(I){Dl.length=0,cu(I,e,1),v=b(ln)}let x=v;if(_&&g!==!1){const I=Object.keys(_),{shapeFlag:S}=x;I.length&&S&7&&(a&&I.some(hm)&&(_=VN(_,a)),x=Fi(x,_,!1,!0))}return n.dirs&&(x=Fi(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&ss(x,n.transition),v=x,Qc(m),v}function jN(e,t=!0){let n;for(let r=0;r<e.length;r++){const i=e[r];if(lo(i)){if(i.type!==ln||i.children==="v-if"){if(n)return;n=i}}else return}return n}const $N=e=>{let t;for(const n in e)(n==="class"||n==="style"||Fd(n))&&((t||(t={}))[n]=e[n]);return t},VN=(e,t)=>{const n={};for(const r in e)(!hm(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function MN(e,t,n){const{props:r,children:i,component:a}=e,{props:s,children:o,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Ry(r,s,u):!!s;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(s[f]!==r[f]&&!Gd(u,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===s?!1:r?s?Ry(r,s,u):!0:!!s;return!1}function Ry(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!Gd(n,a))return!0}return!1}function jm({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const gS=e=>e.__isSuspense;let rg=0;const BN={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,a,s,o,l,u){if(e==null)HN(t,n,r,i,a,s,o,l,u);else{if(a&&a.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}GN(e,t,n,r,i,s,o,l,u)}},hydrate:WN,normalize:zN},UN=BN;function ql(e,t){const n=e.props&&e.props[t];Ke(n)&&n()}function HN(e,t,n,r,i,a,s,o,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=e.suspense=mS(e,i,r,t,d,n,a,s,o,l);u(null,f.pendingBranch=e.ssContent,d,null,r,f,a,s),f.deps>0?(ql(e,"onPending"),ql(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,a,s),Zs(f,e.ssFallback)):f.resolve(!1,!0)}function GN(e,t,n,r,i,a,s,o,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,h=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:v}=d;if(g)d.pendingBranch=f,ii(f,g)?(l(g,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0?d.resolve():m&&(v||(l(p,h,n,r,i,null,a,s,o),Zs(d,h)))):(d.pendingId=rg++,v?(d.isHydrating=!1,d.activeBranch=g):u(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),m?(l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0?d.resolve():(l(p,h,n,r,i,null,a,s,o),Zs(d,h))):p&&ii(f,p)?(l(p,f,n,r,i,d,a,s,o),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0&&d.resolve()));else if(p&&ii(f,p))l(p,f,n,r,i,d,a,s,o),Zs(d,f);else if(ql(t,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=rg++,l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0)d.resolve();else{const{timeout:_,pendingId:x}=d;_>0?setTimeout(()=>{d.pendingId===x&&d.fallback(h)},_):_===0&&d.fallback(h)}}function mS(e,t,n,r,i,a,s,o,l,u,c=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:g,remove:m}}=u;let v;const _=qN(e);_&&t&&t.pendingBranch&&(v=t.pendingId,t.deps++);const x=e.props?dx(e.props.timeout):void 0,I=a,S={vnode:e,parent:t,parentComponent:n,namespace:s,container:r,hiddenContainer:i,deps:0,pendingId:rg++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(E=!1,N=!1){const{vnode:A,activeBranch:R,pendingBranch:M,pendingId:V,effects:P,parentComponent:F,container:U}=S;let J=!1;S.isHydrating?S.isHydrating=!1:E||(J=R&&M.transition&&M.transition.mode==="out-in",J&&(R.transition.afterLeave=()=>{V===S.pendingId&&(f(M,U,a===I?p(R):a,0),Qp(P))}),R&&(g(R.el)===U&&(a=p(R)),h(R,F,S,!0)),J||f(M,U,a,0)),Zs(S,M),S.pendingBranch=null,S.isInFallback=!1;let G=S.parent,he=!1;for(;G;){if(G.pendingBranch){G.effects.push(...P),he=!0;break}G=G.parent}!he&&!J&&Qp(P),S.effects=[],_&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,t.deps===0&&!N&&t.resolve()),ql(A,"onResolve")},fallback(E){if(!S.pendingBranch)return;const{vnode:N,activeBranch:A,parentComponent:R,container:M,namespace:V}=S;ql(N,"onFallback");const P=p(A),F=()=>{S.isInFallback&&(d(null,E,M,P,R,null,V,o,l),Zs(S,E))},U=E.transition&&E.transition.mode==="out-in";U&&(A.transition.afterLeave=F),S.isInFallback=!0,h(A,R,null,!0),U||F()},move(E,N,A){S.activeBranch&&f(S.activeBranch,E,N,A),S.container=E},next(){return S.activeBranch&&p(S.activeBranch)},registerDep(E,N,A){const R=!!S.pendingBranch;R&&S.deps++;const M=E.vnode.el;E.asyncDep.catch(V=>{cu(V,E,0)}).then(V=>{if(E.isUnmounted||S.isUnmounted||S.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:P}=E;sg(E,V),M&&(P.el=M);const F=!M&&E.subTree.el;N(E,P,g(M||E.subTree.el),M?null:p(E.subTree),S,s,A),F&&m(F),jm(E,P.el),R&&--S.deps===0&&S.resolve()})},unmount(E,N){S.isUnmounted=!0,S.activeBranch&&h(S.activeBranch,n,E,N),S.pendingBranch&&h(S.pendingBranch,n,E,N)}};return S}function WN(e,t,n,r,i,a,s,o,l){const u=t.suspense=mS(t,r,n,e.parentNode,document.createElement("div"),null,i,a,s,o,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,a,s);return u.deps===0&&u.resolve(!1,!0),c}function zN(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=Dy(r?n.default:n),e.ssFallback=r?Dy(n.fallback):b(ln)}function Dy(e){let t;if(Ke(e)){const n=oo&&e._c;n&&(e._d=!1,pe()),e=e(),n&&(e._d=!0,t=jn,vS())}return He(e)&&(e=jN(e)),e=Dr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function KN(e,t){t&&t.pendingBranch?He(e)?t.effects.push(...e):t.effects.push(e):Qp(e)}function Zs(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,jm(r,i))}function qN(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Pe=Symbol.for("v-fgt"),du=Symbol.for("v-txt"),ln=Symbol.for("v-cmt"),yh=Symbol.for("v-stc"),Dl=[];let jn=null;function pe(e=!1){Dl.push(jn=e?null:[])}function vS(){Dl.pop(),jn=Dl[Dl.length-1]||null}let oo=1;function ky(e,t=!1){oo+=e,e<0&&jn&&t&&(jn.hasOnce=!0)}function yS(e){return e.dynamicChildren=oo>0?jn||qs:null,vS(),oo>0&&jn&&jn.push(e),e}function ke(e,t,n,r,i,a){return yS($e(e,t,n,r,i,a,!0))}function et(e,t,n,r,i){return yS(b(e,t,n,r,i,!0))}function lo(e){return e?e.__v_isVNode===!0:!1}function ii(e,t){return e.type===t.type&&e.key===t.key}const bS=({key:e})=>e??null,Ic=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$t(e)||lt(e)||Ke(e)?{i:Fn,r:e,k:t,f:!!n}:e:null);function $e(e,t=null,n=null,r=0,i=null,a=e===Pe?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&bS(t),ref:t&&Ic(t),scopeId:$x,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Fn};return o?($m(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),oo>0&&!s&&jn&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&jn.push(l),l}const b=JN;function JN(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===Xx)&&(e=ln),lo(e)){const o=Fi(e,t,!0);return n&&$m(o,n),oo>0&&!a&&jn&&(o.shapeFlag&6?jn[jn.indexOf(e)]=o:jn.push(o)),o.patchFlag=-2,o}if(aR(e)&&(e=e.__vccOpts),t){t=YN(t);let{class:o,style:l}=t;o&&!$t(o)&&(t.class=Md(o)),At(l)&&(Im(l)&&!He(l)&&(l=Xt({},l)),t.style=vm(l))}const s=$t(e)?1:gS(e)?128:Mx(e)?64:At(e)?4:Ke(e)?2:0;return $e(e,t,n,r,i,s,a,!0)}function YN(e){return e?Im(e)||aS(e)?Xt({},e):e:null}function Fi(e,t,n=!1,r=!1){const{props:i,ref:a,patchFlag:s,children:o,transition:l}=e,u=t?xe(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&bS(u),ref:t&&t.ref?n&&a?He(a)?a.concat(Ic(t)):[a,Ic(t)]:Ic(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fi(e.ssContent),ssFallback:e.ssFallback&&Fi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&ss(c,l.clone(c)),c}function Me(e=" ",t=0){return b(du,null,e,t)}function Tt(e="",t=!1){return t?(pe(),et(ln,null,e)):b(ln,null,e)}function Dr(e){return e==null||typeof e=="boolean"?b(ln):He(e)?b(Pe,null,e.slice()):lo(e)?ta(e):b(du,null,String(e))}function ta(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fi(e)}function $m(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(He(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),$m(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!aS(t)?t._ctx=Fn:i===3&&Fn&&(Fn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ke(t)?(t={default:t,_ctx:Fn},n=32):(t=String(t),r&64?(n=16,t=[Me(t)]):n=8);e.children=t,e.shapeFlag|=n}function xe(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Md([t.class,r.class]));else if(i==="style")t.style=vm([t.style,r.style]);else if(Fd(i)){const a=t[i],s=r[i];s&&a!==s&&!(He(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=r[i])}return t}function Wr(e,t,n,r=null){Lr(e,t,7,[n,r])}const QN=nS();let XN=0;function ZN(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||QN,a={uid:XN++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new gx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oS(r,i),emitsOptions:pS(r,i),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:r.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=FN.bind(null,a),e.ce&&e.ce(a),a}let un=null;const Wd=()=>un||Fn;let ed,ig;{const e=Vd(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),a=>{i.length>1?i.forEach(s=>s(a)):i[0](a)}};ed=t("__VUE_INSTANCE_SETTERS__",n=>un=n),ig=t("__VUE_SSR_SETTERS__",n=>Jl=n)}const os=e=>{const t=un;return ed(e),e.scope.on(),()=>{e.scope.off(),ed(t)}},ag=()=>{un&&un.scope.off(),ed(null)};function _S(e){return e.vnode.shapeFlag&4}let Jl=!1;function eR(e,t=!1,n=!1){t&&ig(t);const{props:r,children:i}=e.vnode,a=_S(e);xN(e,r,a,t),CN(e,i,n);const s=a?tR(e,t):void 0;return t&&ig(!1),s}function tR(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hN);const{setup:r}=n;if(r){ba();const i=e.setupContext=r.length>1?rR(e):null,a=os(e),s=uu(r,e,0,[e.props,i]),o=gm(s);if(_a(),a(),(o||e.sp)&&!Nl(e)&&qx(e),o){if(s.then(ag,ag),t)return s.then(l=>{sg(e,l)}).catch(l=>{cu(l,e,0)});e.asyncDep=s}else sg(e,s)}else wS(e)}function sg(e,t,n){Ke(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:At(t)&&(e.setupState=kx(t)),wS(e)}function wS(e,t,n){const r=e.type;e.render||(e.render=r.render||ui);{const i=os(e);ba();try{gN(e)}finally{_a(),i()}}}const nR={get(e,t){return hn(e,"get",""),e[t]}};function rR(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,nR),slots:e.slots,emit:e.emit,expose:t}}function zd(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(kx(Rx(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Rl)return Rl[n](e)},has(t,n){return n in t||n in Rl}})):e.proxy}function iR(e,t=!0){return Ke(e)?e.displayName||e.name:e.name||t&&e.__name}function aR(e){return Ke(e)&&"__vccOpts"in e}const O=(e,t)=>QA(e,t,Jl);function wa(e,t,n){const r=arguments.length;return r===2?At(t)&&!He(t)?lo(t)?b(e,null,[t]):b(e,t):b(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&lo(n)&&(n=[n]),b(e,t,n))}const sR="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let og;const Oy=typeof window<"u"&&window.trustedTypes;if(Oy)try{og=Oy.createPolicy("vue",{createHTML:e=>e})}catch{}const xS=og?e=>og.createHTML(e):e=>e,oR="http://www.w3.org/2000/svg",lR="http://www.w3.org/1998/Math/MathML",Ci=typeof document<"u"?document:null,Py=Ci&&Ci.createElement("template"),uR={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Ci.createElementNS(oR,e):t==="mathml"?Ci.createElementNS(lR,e):n?Ci.createElement(e,{is:n}):Ci.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ci.createTextNode(e),createComment:e=>Ci.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ci.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const s=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Py.innerHTML=xS(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const o=Py.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},qi="transition",Uo="animation",uo=Symbol("_vtc"),SS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ES=Xt({},Gx,SS),cR=e=>(e.displayName="Transition",e.props=ES,e),pa=cR((e,{slots:t})=>wa(aN,IS(e),t)),Da=(e,t=[])=>{He(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ly=e=>e?He(e)?e.some(t=>t.length>1):e.length>1:!1;function IS(e){const t={};for(const P in e)P in SS||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:u=s,appearToClass:c=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=dR(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:x,onLeave:I,onLeaveCancelled:S,onBeforeAppear:E=v,onAppear:N=_,onAppearCancelled:A=x}=t,R=(P,F,U,J)=>{P._enterCancelled=J,Yi(P,F?c:o),Yi(P,F?u:s),U&&U()},M=(P,F)=>{P._isLeaving=!1,Yi(P,d),Yi(P,h),Yi(P,f),F&&F()},V=P=>(F,U)=>{const J=P?N:_,G=()=>R(F,P,U);Da(J,[F,G]),Fy(()=>{Yi(F,P?l:a),Qr(F,P?c:o),Ly(J)||jy(F,r,g,G)})};return Xt(t,{onBeforeEnter(P){Da(v,[P]),Qr(P,a),Qr(P,s)},onBeforeAppear(P){Da(E,[P]),Qr(P,l),Qr(P,u)},onEnter:V(!1),onAppear:V(!0),onLeave(P,F){P._isLeaving=!0;const U=()=>M(P,F);Qr(P,d),P._enterCancelled?(Qr(P,f),lg()):(lg(),Qr(P,f)),Fy(()=>{P._isLeaving&&(Yi(P,d),Qr(P,h),Ly(I)||jy(P,r,m,U))}),Da(I,[P,U])},onEnterCancelled(P){R(P,!1,void 0,!0),Da(x,[P])},onAppearCancelled(P){R(P,!0,void 0,!0),Da(A,[P])},onLeaveCancelled(P){M(P),Da(S,[P])}})}function dR(e){if(e==null)return null;if(At(e))return[bh(e.enter),bh(e.leave)];{const t=bh(e);return[t,t]}}function bh(e){return dx(e)}function Qr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[uo]||(e[uo]=new Set)).add(t)}function Yi(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[uo];n&&(n.delete(t),n.size||(e[uo]=void 0))}function Fy(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let fR=0;function jy(e,t,n,r){const i=e._endId=++fR,a=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(a,n);const{type:s,timeout:o,propCount:l}=CS(e,t);if(!s)return r();const u=s+"end";let c=0;const d=()=>{e.removeEventListener(u,f),a()},f=h=>{h.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),e.addEventListener(u,f)}function CS(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${qi}Delay`),a=r(`${qi}Duration`),s=$y(i,a),o=r(`${Uo}Delay`),l=r(`${Uo}Duration`),u=$y(o,l);let c=null,d=0,f=0;t===qi?s>0&&(c=qi,d=s,f=a.length):t===Uo?u>0&&(c=Uo,d=u,f=l.length):(d=Math.max(s,u),c=d>0?s>u?qi:Uo:null,f=c?c===qi?a.length:l.length:0);const h=c===qi&&/\b(transform|all)(,|$)/.test(r(`${qi}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function $y(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Vy(n)+Vy(e[r])))}function Vy(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function lg(){return document.body.offsetHeight}function hR(e,t,n){const r=e[uo];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const td=Symbol("_vod"),TS=Symbol("_vsh"),xa={beforeMount(e,{value:t},{transition:n}){e[td]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ho(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ho(e,!0),r.enter(e)):r.leave(e,()=>{Ho(e,!1)}):Ho(e,t))},beforeUnmount(e,{value:t}){Ho(e,t)}};function Ho(e,t){e.style.display=t?e[td]:"none",e[TS]=!t}const pR=Symbol(""),gR=/(^|;)\s*display\s*:/;function mR(e,t,n){const r=e.style,i=$t(n);let a=!1;if(n&&!i){if(t)if($t(t))for(const s of t.split(";")){const o=s.slice(0,s.indexOf(":")).trim();n[o]==null&&Cc(r,o,"")}else for(const s in t)n[s]==null&&Cc(r,s,"");for(const s in n)s==="display"&&(a=!0),Cc(r,s,n[s])}else if(i){if(t!==n){const s=r[pR];s&&(n+=";"+s),r.cssText=n,a=gR.test(n)}}else t&&e.removeAttribute("style");td in e&&(e[td]=a?r.display:"",e[TS]&&(r.display="none"))}const My=/\s*!important$/;function Cc(e,t,n){if(He(n))n.forEach(r=>Cc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=vR(e,t);My.test(n)?e.setProperty(ms(r),n.replace(My,""),"important"):e[r]=n}}const By=["Webkit","Moz","ms"],_h={};function vR(e,t){const n=_h[t];if(n)return n;let r=Vn(t);if(r!=="filter"&&r in e)return _h[t]=r;r=Bi(r);for(let i=0;i<By.length;i++){const a=By[i]+r;if(a in e)return _h[t]=a}return t}const Uy="http://www.w3.org/1999/xlink";function Hy(e,t,n,r,i,a=EA(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Uy,t.slice(6,t.length)):e.setAttributeNS(Uy,t,n):n==null||a&&!fx(n)?e.removeAttribute(t):e.setAttribute(t,a?"":ya(n)?String(n):n)}function Gy(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?xS(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const o=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=fx(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function $s(e,t,n,r){e.addEventListener(t,n,r)}function yR(e,t,n,r){e.removeEventListener(t,n,r)}const Wy=Symbol("_vei");function bR(e,t,n,r,i=null){const a=e[Wy]||(e[Wy]={}),s=a[t];if(r&&s)s.value=r;else{const[o,l]=_R(t);if(r){const u=a[t]=SR(r,i);$s(e,o,u,l)}else s&&(yR(e,o,s,l),a[t]=void 0)}}const zy=/(?:Once|Passive|Capture)$/;function _R(e){let t;if(zy.test(e)){t={};let r;for(;r=e.match(zy);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ms(e.slice(2)),t]}let wh=0;const wR=Promise.resolve(),xR=()=>wh||(wR.then(()=>wh=0),wh=Date.now());function SR(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Lr(ER(r,n.value),t,5,[r])};return n.value=e,n.attached=xR(),n}function ER(e,t){if(He(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Ky=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,IR=(e,t,n,r,i,a)=>{const s=i==="svg";t==="class"?hR(e,r,s):t==="style"?mR(e,n,r):Fd(t)?hm(t)||bR(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):CR(e,t,r,s))?(Gy(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Hy(e,t,r,s,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!$t(r))?Gy(e,Vn(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Hy(e,t,r,s))};function CR(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ky(t)&&Ke(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ky(t)&&$t(n)?!1:t in e}const AS=new WeakMap,NS=new WeakMap,nd=Symbol("_moveCb"),qy=Symbol("_enterCb"),TR=e=>(delete e.props.mode,e),AR=TR({name:"TransitionGroup",props:Xt({},ES,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Wd(),r=Hx();let i,a;return Dm(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!kR(i[0].el,n.vnode.el,s))return;i.forEach(NR),i.forEach(RR);const o=i.filter(DR);lg(),o.forEach(l=>{const u=l.el,c=u.style;Qr(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[nd]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[nd]=null,Yi(u,s))};u.addEventListener("transitionend",d)})}),()=>{const s=je(e),o=IS(s);let l=s.tag||Pe;if(i=[],a)for(let u=0;u<a.length;u++){const c=a[u];c.el&&c.el instanceof Element&&(i.push(c),ss(c,Kl(c,o,r,n)),AS.set(c,c.el.getBoundingClientRect()))}a=t.default?Am(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&ss(c,Kl(c,o,r,n))}return b(l,null,a)}}}),Vm=AR;function NR(e){const t=e.el;t[nd]&&t[nd](),t[qy]&&t[qy]()}function RR(e){NS.set(e,e.el.getBoundingClientRect())}function DR(e){const t=AS.get(e),n=NS.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",e}}function kR(e,t,n){const r=e.cloneNode(),i=e[uo];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:s}=CS(r);return a.removeChild(r),s}const Jy=e=>{const t=e.props["onUpdate:modelValue"]||!1;return He(t)?n=>Sc(t,n):t};function OR(e){e.target.composing=!0}function Yy(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xh=Symbol("_assign"),PR={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[xh]=Jy(i);const a=r||i.props&&i.props.type==="number";$s(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;n&&(o=o.trim()),a&&(o=zp(o)),e[xh](o)}),n&&$s(e,"change",()=>{e.value=e.value.trim()}),t||($s(e,"compositionstart",OR),$s(e,"compositionend",Yy),$s(e,"change",Yy))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},s){if(e[xh]=Jy(s),e.composing)return;const o=(a||e.type==="number")&&!/^0\d/.test(e.value)?zp(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},LR=["ctrl","shift","alt","meta"],FR={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LR.some(n=>e[`${n}Key`]&&!t.includes(n))},Tc=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...a)=>{for(let s=0;s<t.length;s++){const o=FR[t[s]];if(o&&o(i,t))return}return e(i,...a)})},jR=Xt({patchProp:IR},uR);let Qy;function $R(){return Qy||(Qy=AN(jR))}const VR=(...e)=>{const t=$R().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=BR(r);if(!i)return;const a=t._component;!Ke(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,MR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function MR(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function BR(e){return $t(e)?document.querySelector(e):e}function gr(e,t){let n;function r(){n=ym(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}Ce(e,i=>{i&&!n?r():i||(n==null||n.stop(),n=void 0)},{immediate:!0}),Dn(()=>{n==null||n.stop()})}const ft=typeof window<"u",Mm=ft&&"IntersectionObserver"in window,UR=ft&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function Xy(e,t,n){HR(e,t),t.set(e,n)}function HR(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GR(e,t,n){return e.set(RS(e,t),n),n}function ka(e,t){return e.get(RS(e,t))}function RS(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function DS(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let i=0;i<r;i++){if(e==null)return n;e=e[t[i]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function _o(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>_o(e[r],t[r]))}function ug(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),DS(e,t.split("."),n))}function ai(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}if(typeof t=="string")return ug(e,t,n);if(Array.isArray(t))return DS(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function Kd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function Be(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Bm(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Zy(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function kS(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const eb=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function OS(e){return Object.keys(e)}function Sh(e,t){return t.every(n=>e.hasOwnProperty(n))}function Um(e,t){const n={},r=new Set(Object.keys(e));for(const i of t)r.has(i)&&(n[i]=e[i]);return n}function tb(e,t,n){const r=Object.create(null),i=Object.create(null);for(const a in e)t.some(s=>s instanceof RegExp?s.test(a):s===a)?r[a]=e[a]:i[a]=e[a];return[r,i]}function Nn(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function WR(e,t){const n={};return t.forEach(r=>n[r]=e[r]),n}const PS=/^on[^a-z]/,Hm=e=>PS.test(e),zR=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function fu(e){const[t,n]=tb(e,[PS]),r=Nn(t,zR),[i,a]=tb(n,["class","style","id",/^data-/]);return Object.assign(i,t),Object.assign(a,r),[i,a]}function Qt(e){return e==null?[]:Array.isArray(e)?e:[e]}function KR(e,t){let n=0;const r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];clearTimeout(n),n=setTimeout(()=>e(...a),X(t))};return r.clear=()=>{clearTimeout(n)},r.immediate=e,r}function Pr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function nb(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function rb(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function qR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function vn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const i in e)r[i]=e[i];for(const i in t){const a=e[i],s=t[i];if(Zy(a)&&Zy(s)){r[i]=vn(a,s,n);continue}if(n&&Array.isArray(a)&&Array.isArray(s)){r[i]=n(a,s);continue}r[i]=s}return r}function LS(e){return e.map(t=>t.type===Pe?LS(t.children):t).flat()}function es(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(es.cache.has(e))return es.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return es.cache.set(e,t),t}es.cache=new Map;function Hs(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Hs(e,n)).flat(1);if(t.suspense)return Hs(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Hs(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Hs(e,t.component.subTree).flat(1)}return[]}var qu=new WeakMap,Ts=new WeakMap;class JR{constructor(t){Xy(this,qu,[]),Xy(this,Ts,0),this.size=t}push(t){ka(qu,this)[ka(Ts,this)]=t,GR(Ts,this,(ka(Ts,this)+1)%this.size)}values(){return ka(qu,this).slice(ka(Ts,this)).concat(ka(qu,this).slice(0,ka(Ts,this)))}}function Gm(e){const t=dt({}),n=O(e);return yn(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),Cm(t)}function rd(e,t){return e.includes(t)}function FS(e){return e[2].toLowerCase()+e.slice(3)}const An=()=>[Function,Array];function ib(e,t){return t="on"+Bi(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Wm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const i of e)i(...n);else typeof e=="function"&&e(...n)}function Yl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function jS(e,t,n){let r,i=e.indexOf(document.activeElement);const a=t==="next"?1:-1;do i+=a,r=e[i];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&i<e.length&&i>=0);return r}function kl(e,t){var r,i,a,s;const n=Yl(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(t==="first")(i=n[0])==null||i.focus();else if(t==="last")(a=n.at(-1))==null||a.focus();else if(typeof t=="number")(s=n[t])==null||s.focus();else{const o=jS(n,t);o?o.focus():kl(e,t==="next"?"first":"last")}}function YR(){}function co(e,t){if(!(ft&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function zm(e){return e.some(t=>lo(t)?t.type===ln?!1:t.type!==Pe||zm(t.children):!0)?e:null}function QR(e,t){if(!ft||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function XR(e,t){const n=e.clientX,r=e.clientY,i=t.getBoundingClientRect(),a=i.left,s=i.top,o=i.right,l=i.bottom;return n>=a&&n<=o&&r>=s&&r<=l}function id(){const e=Te(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>kS(e.value)}),t}function ad(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}const $S=["top","bottom"],ZR=["start","end","left","right"];function cg(e,t){let[n,r]=e.split(" ");return r||(r=rd($S,n)?"start":rd(ZR,n)?"top":"center"),{side:dg(n,t),align:dg(r,t)}}function dg(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Eh(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Ih(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function ab(e){return{side:e.align,align:e.side}}function sb(e){return rd($S,e.side)?"y":"x"}class ts{constructor(t){let{x:n,y:r,width:i,height:a}=t;this.x=n,this.y=r,this.width=i,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ob(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function VS(e){return Array.isArray(e)?new ts({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Km(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let i,a,s,o,l;if(r.startsWith("matrix3d("))i=r.slice(9,-1).split(/, /),a=+i[0],s=+i[5],o=+i[12],l=+i[13];else if(r.startsWith("matrix("))i=r.slice(7,-1).split(/, /),a=+i[0],s=+i[3],o=+i[4],l=+i[5];else return new ts(t);const u=n.transformOrigin,c=t.x-o-(1-a)*parseFloat(u),d=t.y-l-(1-s)*parseFloat(u.slice(u.indexOf(" ")+1)),f=a?t.width/a:e.offsetWidth+1,h=s?t.height/s:e.offsetHeight+1;return new ts({x:c,y:d,width:f,height:h})}else return new ts(t)}function Ja(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(i=>{r.onfinish=()=>{i(r)}})),r}const Ac=new WeakMap;function eD(e,t){Object.keys(t).forEach(n=>{if(Hm(n)){const r=FS(n),i=Ac.get(e);if(t[n]==null)i==null||i.forEach(a=>{const[s,o]=a;s===r&&(e.removeEventListener(r,o),i.delete(a))});else if(!i||![...i].some(a=>a[0]===r&&a[1]===t[n])){e.addEventListener(r,t[n]);const a=i||new Set;a.add([r,t[n]]),Ac.has(e)||Ac.set(e,a)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function tD(e,t){Object.keys(t).forEach(n=>{if(Hm(n)){const r=FS(n),i=Ac.get(e);i==null||i.forEach(a=>{const[s,o]=a;s===r&&(e.removeEventListener(r,o),i.delete(a))})}else e.removeAttribute(n)})}const As=2.4,lb=.2126729,ub=.7151522,cb=.072175,nD=.55,rD=.58,iD=.57,aD=.62,Ju=.03,db=1.45,sD=5e-4,oD=1.25,lD=1.25,uD=.078,fb=12.82051282051282,Yu=.06,cD=.001;function hb(e,t){const n=(e.r/255)**As,r=(e.g/255)**As,i=(e.b/255)**As,a=(t.r/255)**As,s=(t.g/255)**As,o=(t.b/255)**As;let l=n*lb+r*ub+i*cb,u=a*lb+s*ub+o*cb;if(l<=Ju&&(l+=(Ju-l)**db),u<=Ju&&(u+=(Ju-u)**db),Math.abs(u-l)<sD)return 0;let c;if(u>l){const d=(u**nD-l**rD)*oD;c=d<cD?0:d<uD?d-d*fb*Yu:d-Yu}else{const d=(u**aD-l**iD)*lD;c=d>-.001?0:d>-.078?d-d*fb*Yu:d+Yu}return c*100}function dD(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const sd=.20689655172413793,fD=e=>e>sd**3?Math.cbrt(e):e/(3*sd**2)+4/29,hD=e=>e>sd?e**3:3*sd**2*(e-4/29);function MS(e){const t=fD,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function BS(e){const t=hD,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const pD=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],gD=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,mD=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],vD=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function US(e){const t=Array(3),n=gD,r=pD;for(let i=0;i<3;++i)t[i]=Math.round(Pr(n(r[i][0]*e[0]+r[i][1]*e[1]+r[i][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function qm(e){let{r:t,g:n,b:r}=e;const i=[0,0,0],a=vD,s=mD;t=a(t/255),n=a(n/255),r=a(r/255);for(let o=0;o<3;++o)i[o]=s[o][0]*t+s[o][1]*n+s[o][2]*r;return i}function fg(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function yD(e){return fg(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const pb=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,bD={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>gb({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>gb({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>Ql({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>Ql({h:e,s:t,v:n,a:r})};function li(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&pb.test(e)){const{groups:t}=e.match(pb),{fn:n,values:r}=t,i=r.split(/,\s*/).map(a=>a.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(a)/100:parseFloat(a));return bD[n](...i)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),wD(t)}else if(typeof e=="object"){if(Sh(e,["r","g","b"]))return e;if(Sh(e,["h","s","l"]))return Ql(HS(e));if(Sh(e,["h","s","v"]))return Ql(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Ql(e){const{h:t,s:n,v:r,a:i}=e,a=o=>{const l=(o+t/60)%6;return r-r*n*Math.max(Math.min(l,4-l,1),0)},s=[a(5),a(3),a(1)].map(o=>Math.round(o*255));return{r:s[0],g:s[1],b:s[2],a:i}}function gb(e){return Ql(HS(e))}function HS(e){const{h:t,s:n,l:r,a:i}=e,a=r+n*Math.min(r,1-r),s=a===0?0:2-2*r/a;return{h:t,s,v:a,a:i}}function Qu(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function _D(e){let{r:t,g:n,b:r,a:i}=e;return`#${[Qu(t),Qu(n),Qu(r),i!==void 0?Qu(Math.round(i*255)):""].join("")}`}function wD(e){e=xD(e);let[t,n,r,i]=qR(e,2).map(a=>parseInt(a,16));return i=i===void 0?i:i/255,{r:t,g:n,b:r,a:i}}function xD(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=nb(nb(e,6),8,"F")),e}function SD(e,t){const n=MS(qm(e));return n[0]=n[0]+t*10,US(BS(n))}function ED(e,t){const n=MS(qm(e));return n[0]=n[0]-t*10,US(BS(n))}function ID(e){const t=li(e);return qm(t)[1]}function GS(e){const t=Math.abs(hb(li(0),li(e)));return Math.abs(hb(li(16777215),li(e)))>Math.min(t,50)?"#fff":"#000"}function ce(e,t){return n=>Object.keys(e).reduce((r,i)=>{const s=typeof e[i]=="object"&&e[i]!=null&&!Array.isArray(e[i])?e[i]:{type:e[i]};return n&&i in n?r[i]={...s,default:n[i]}:r[i]=s,t&&!r[i].source&&(r[i].source=t),r},{})}const Ge=ce({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Gt(e,t){const n=Wd();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function pi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Gt(e).type;return es((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let WS=0,Nc=new WeakMap;function Mn(){const e=Gt("getUid");if(Nc.has(e))return Nc.get(e);{const t=WS++;return Nc.set(e,t),t}}Mn.reset=()=>{WS=0,Nc=new WeakMap};function CD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gt("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const fo=Symbol.for("vuetify:defaults");function TD(e){return q(e)}function Jm(){const e=be(fo);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function gi(e,t){const n=Jm(),r=q(e),i=O(()=>{if(X(t==null?void 0:t.disabled))return n.value;const s=X(t==null?void 0:t.scoped),o=X(t==null?void 0:t.reset),l=X(t==null?void 0:t.root);if(r.value==null&&!(s||o||l))return n.value;let u=vn(r.value,{prev:n.value});if(s)return u;if(o||l){const c=Number(o||1/0);for(let d=0;d<=c&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=vn(vn(u,{prev:u}),u[l])),u}return u.prev?vn(u.prev,u):u});return Ae(fo,i),i}function AD(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[es(t)])<"u"}function ND(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jm();const r=Gt("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const i=O(()=>{var l;return(l=n.value)==null?void 0:l[e._as??t]}),a=new Proxy(e,{get(l,u){var d,f,h,p,g,m,v;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(d=i.value)==null?void 0:d[u],c].filter(_=>_!=null):typeof u=="string"&&!AD(r.vnode,u)?((f=i.value)==null?void 0:f[u])!==void 0?(h=i.value)==null?void 0:h[u]:((g=(p=n.value)==null?void 0:p.global)==null?void 0:g[u])!==void 0?(v=(m=n.value)==null?void 0:m.global)==null?void 0:v[u]:c:c}}),s=Te();yn(()=>{if(i.value){const l=Object.entries(i.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});s.value=l.length?Object.fromEntries(l):void 0}else s.value=void 0});function o(){const l=CD(fo,r);Ae(fo,O(()=>s.value?vn((l==null?void 0:l.value)??{},s.value):l==null?void 0:l.value))}return{props:a,provideSubDefaults:o}}function wo(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=ce(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return Um(r,t)},e.props._as=String,e.setup=function(r,i){const a=Jm();if(!a.value)return e._setup(r,i);const{props:s,provideSubDefaults:o}=ND(r,r._as??e.name,a),l=e._setup(s,i);return o(),l}}return e}function Ee(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?wo:sN)(t)}function qd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return Ee()({name:n??Bi(Vn(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ge()},setup(r,i){let{slots:a}=i;return()=>{var s;return wa(r.tag,{class:[e,r.class],style:r.style},(s=a.default)==null?void 0:s.call(a))}}})}function zS(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Xl="cubic-bezier(0.4, 0, 0.2, 1)",RD="cubic-bezier(0.0, 0, 0.2, 1)",DD="cubic-bezier(0.4, 0, 1, 1)";function KS(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?kD(e):Ym(e))return e;e=e.parentElement}return document.scrollingElement}function od(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Ym(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Ym(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function kD(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function OD(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Re(e){const t=Gt("useRender");t.render=e}function it(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const a=Gt("useProxiedModel"),s=q(e[t]!==void 0?e[t]:n),o=es(t),u=O(o!==t?()=>{var d,f,h,p;return e[t],!!(((d=a.vnode.props)!=null&&d.hasOwnProperty(t)||(f=a.vnode.props)!=null&&f.hasOwnProperty(o))&&((h=a.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)||(p=a.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var d,f;return e[t],!!((d=a.vnode.props)!=null&&d.hasOwnProperty(t)&&((f=a.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${t}`)))});gr(()=>!u.value,()=>{Ce(()=>e[t],d=>{s.value=d})});const c=O({get(){const d=e[t];return r(u.value?d:s.value)},set(d){const f=i(d),h=je(u.value?e[t]:s.value);h===f||r(h)===d||(s.value=f,a==null||a.emit(`update:${t}`,f))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:s.value}),c}const PD={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},mb="$vuetify.",vb=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),qS=(e,t,n)=>function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(!r.startsWith(mb))return vb(r,a);const o=r.replace(mb,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let c=ug(l,o,null);return c||(`${r}${e.value}`,c=ug(u,o,null)),c||(c=r),typeof c!="string"&&(c=r),vb(c,a)};function JS(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function Ch(e,t,n){const r=it(e,t,e[t]??n.value);return r.value=e[t]??n.value,Ce(n,i=>{e[t]==null&&(r.value=n.value)}),r}function YS(e){return t=>{const n=Ch(t,"locale",e.current),r=Ch(t,"fallback",e.fallback),i=Ch(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:i,t:qS(n,r,i),n:JS(n,r),provide:YS({current:n,fallback:r,messages:i})}}}function LD(e){const t=Te((e==null?void 0:e.locale)??"en"),n=Te((e==null?void 0:e.fallback)??"en"),r=q({en:PD,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:qS(t,n,r),n:JS(t,n),provide:YS({current:t,fallback:n,messages:r})}}const ld=Symbol.for("vuetify:locale");function FD(e){return e.name!=null}function jD(e){const t=e!=null&&e.adapter&&FD(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:LD(e),n=VD(t,e);return{...t,...n}}function Sa(){const e=be(ld);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function $D(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function VD(e,t){const n=q((t==null?void 0:t.rtl)??$D()),r=O(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:O(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function er(){const e=be(ld);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const Jd={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function MD(e,t,n){const r=[];let i=[];const a=QS(e),s=XS(e),o=n??Jd[t.slice(-2).toUpperCase()]??0,l=(a.getDay()-o+7)%7,u=(s.getDay()-o+7)%7;for(let c=0;c<l;c++){const d=new Date(a);d.setDate(d.getDate()-(l-c)),i.push(d)}for(let c=1;c<=s.getDate();c++){const d=new Date(e.getFullYear(),e.getMonth(),c);i.push(d),i.length===7&&(r.push(i),i=[])}for(let c=1;c<7-u;c++){const d=new Date(s);d.setDate(d.getDate()+c),i.push(d)}return i.length>0&&r.push(i),r}function BD(e,t,n){const r=n??Jd[t.slice(-2).toUpperCase()]??0,i=new Date(e);for(;i.getDay()!==r;)i.setDate(i.getDate()-1);return i}function UD(e,t){const n=new Date(e),r=((Jd[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function QS(e){return new Date(e.getFullYear(),e.getMonth(),1)}function XS(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function HD(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const GD=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function ZS(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(GD.test(e))return HD(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const yb=new Date(2e3,0,2);function WD(e,t){const n=t??Jd[e.slice(-2).toUpperCase()]??0;return Kd(7).map(r=>{const i=new Date(yb);return i.setDate(yb.getDate()+n+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(i)})}function zD(e,t,n,r){const i=ZS(e)??new Date,a=r==null?void 0:r[t];if(typeof a=="function")return a(i,t,n);let s={};switch(t){case"fullDate":s={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":s={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=i.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(i);return`${o} ${l}`;case"normalDateWithWeekday":s={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":s={month:"short",day:"numeric"};break;case"year":s={year:"numeric"};break;case"month":s={month:"long"};break;case"monthShort":s={month:"short"};break;case"monthAndYear":s={month:"long",year:"numeric"};break;case"monthAndDate":s={month:"long",day:"numeric"};break;case"weekday":s={weekday:"long"};break;case"weekdayShort":s={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(i.getDate());case"hours12h":s={hour:"numeric",hour12:!0};break;case"hours24h":s={hour:"numeric",hour12:!1};break;case"minutes":s={minute:"numeric"};break;case"seconds":s={second:"numeric"};break;case"fullTime":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":s={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:s=a??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,s).format(i)}function KD(e,t){const n=e.toJsDate(t),r=n.getFullYear(),i=rb(String(n.getMonth()+1),2,"0"),a=rb(String(n.getDate()),2,"0");return`${r}-${i}-${a}`}function qD(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function JD(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function YD(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function QD(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function XD(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function ZD(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function ek(e){return e.getFullYear()}function tk(e){return e.getMonth()}function nk(e){return e.getDate()}function rk(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function ik(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function ak(e){return e.getHours()}function sk(e){return e.getMinutes()}function ok(e){return new Date(e.getFullYear(),0,1)}function lk(e){return new Date(e.getFullYear(),11,31)}function uk(e,t){return ud(e,t[0])&&fk(e,t[1])}function ck(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function ud(e,t){return e.getTime()>t.getTime()}function dk(e,t){return ud(hg(e),hg(t))}function fk(e,t){return e.getTime()<t.getTime()}function bb(e,t){return e.getTime()===t.getTime()}function hk(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function pk(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function gk(e,t){return e.getFullYear()===t.getFullYear()}function mk(e,t,n){const r=new Date(e),i=new Date(t);switch(n){case"years":return r.getFullYear()-i.getFullYear();case"quarters":return Math.floor((r.getMonth()-i.getMonth()+(r.getFullYear()-i.getFullYear())*12)/4);case"months":return r.getMonth()-i.getMonth()+(r.getFullYear()-i.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-i.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-i.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-i.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-i.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-i.getTime())/1e3);default:return r.getTime()-i.getTime()}}function vk(e,t){const n=new Date(e);return n.setHours(t),n}function yk(e,t){const n=new Date(e);return n.setMinutes(t),n}function bk(e,t){const n=new Date(e);return n.setMonth(t),n}function _k(e,t){const n=new Date(e);return n.setDate(t),n}function wk(e,t){const n=new Date(e);return n.setFullYear(t),n}function hg(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function xk(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class Sk{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return ZS(t)}toJsDate(t){return t}toISO(t){return KD(this,t)}parseISO(t){return qD(t)}addMinutes(t,n){return JD(t,n)}addHours(t,n){return YD(t,n)}addDays(t,n){return QD(t,n)}addWeeks(t,n){return XD(t,n)}addMonths(t,n){return ZD(t,n)}getWeekArray(t,n){return MD(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return BD(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return UD(t,this.locale)}startOfMonth(t){return QS(t)}endOfMonth(t){return XS(t)}format(t,n){return zD(t,n,this.locale,this.formats)}isEqual(t,n){return bb(t,n)}isValid(t){return ck(t)}isWithinRange(t,n){return uk(t,n)}isAfter(t,n){return ud(t,n)}isAfterDay(t,n){return dk(t,n)}isBefore(t,n){return!ud(t,n)&&!bb(t,n)}isSameDay(t,n){return hk(t,n)}isSameMonth(t,n){return pk(t,n)}isSameYear(t,n){return gk(t,n)}setMinutes(t,n){return yk(t,n)}setHours(t,n){return vk(t,n)}setMonth(t,n){return bk(t,n)}setDate(t,n){return _k(t,n)}setYear(t,n){return wk(t,n)}getDiff(t,n,r){return mk(t,n,r)}getWeekdays(t){return WD(this.locale,t?Number(t):void 0)}getYear(t){return ek(t)}getMonth(t){return tk(t)}getDate(t){return nk(t)}getNextMonth(t){return rk(t)}getPreviousMonth(t){return ik(t)}getHours(t){return ak(t)}getMinutes(t){return sk(t)}startOfDay(t){return hg(t)}endOfDay(t){return xk(t)}startOfYear(t){return ok(t)}endOfYear(t){return lk(t)}}const eE=Symbol.for("vuetify:date-options"),_b=Symbol.for("vuetify:date-adapter");function Ek(e,t){const n=vn({adapter:Sk,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:tE(n,t)}}function tE(e,t){const n=dt(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return Ce(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}function hu(){const e=be(eE);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=Sa();return tE(e,t)}function Ik(e,t){const n=e.toJsDate(t);let r=n.getFullYear(),i=new Date(r,0,1);if(n<i)r=r-1,i=new Date(r,0,1);else{const o=new Date(r+1,0,1);n>=o&&(r=r+1,i=o)}const a=Math.abs(n.getTime()-i.getTime()),s=Math.ceil(a/(1e3*60*60*24));return Math.floor(s/7)+1}const Yd=["sm","md","lg","xl","xxl"],pg=Symbol.for("vuetify:display"),wb={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Ck=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wb;return vn(wb,e)};function xb(e){return ft&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function Sb(e){return ft&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function Eb(e){const t=ft&&!e?window.navigator.userAgent:"ssr";function n(p){return!!t.match(p)}const r=n(/android/i),i=n(/iphone|ipad|ipod/i),a=n(/cordova/i),s=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),c=n(/opera/i),d=n(/win/i),f=n(/mac/i),h=n(/linux/i);return{android:r,ios:i,cordova:a,electron:s,chrome:o,edge:l,firefox:u,opera:c,win:d,mac:f,linux:h,touch:UR,ssr:t==="ssr"}}function Tk(e,t){const{thresholds:n,mobileBreakpoint:r}=Ck(e),i=Te(Sb(t)),a=Te(Eb(t)),s=dt({}),o=Te(xb(t));function l(){i.value=Sb(),o.value=xb()}function u(){l(),a.value=Eb()}return yn(()=>{const c=o.value<n.sm,d=o.value<n.md&&!c,f=o.value<n.lg&&!(d||c),h=o.value<n.xl&&!(f||d||c),p=o.value<n.xxl&&!(h||f||d||c),g=o.value>=n.xxl,m=c?"xs":d?"sm":f?"md":h?"lg":p?"xl":"xxl",v=typeof r=="number"?r:n[r],_=o.value<v;s.xs=c,s.sm=d,s.md=f,s.lg=h,s.xl=p,s.xxl=g,s.smAndUp=!c,s.mdAndUp=!(c||d),s.lgAndUp=!(c||d||f),s.xlAndUp=!(c||d||f||h),s.smAndDown=!(f||h||p||g),s.mdAndDown=!(h||p||g),s.lgAndDown=!(p||g),s.xlAndDown=!g,s.name=m,s.height=i.value,s.width=o.value,s.mobile=_,s.mobileBreakpoint=r,s.platform=a.value,s.thresholds=n}),ft&&window.addEventListener("resize",l,{passive:!0}),{...Cm(s),update:u,ssr:!!t}}const nE=ce({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Qd(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();const n=be(pg);if(!n)throw new Error("Could not find Vuetify display injection");const r=O(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?n.width.value<e.mobileBreakpoint:e.mobileBreakpoint?n.width.value<n.thresholds.value[e.mobileBreakpoint]:e.mobile===null?n.mobile.value:!1),i=O(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:i,mobile:r}}const rE=Symbol.for("vuetify:goto");function iE(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function Ak(e){return Qm(e)??(document.scrollingElement||document.body)}function Qm(e){return typeof e=="string"?document.querySelector(e):kS(e)}function Th(e,t,n){if(typeof e=="number")return t&&n?-e:e;let r=Qm(e),i=0;for(;r;)i+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return i}function Nk(e,t){return{rtl:t.isRtl,options:vn(iE(),e)}}async function Ib(e,t,n,r){const i=n?"scrollLeft":"scrollTop",a=vn((r==null?void 0:r.options)??iE(),t),s=r==null?void 0:r.rtl.value,o=(typeof e=="number"?e:Qm(e))??0,l=a.container==="parent"&&o instanceof HTMLElement?o.parentElement:Ak(a.container),u=typeof a.easing=="function"?a.easing:a.patterns[a.easing];if(!u)throw new TypeError(`Easing function "${a.easing}" not found.`);let c;if(typeof o=="number")c=Th(o,n,s);else if(c=Th(o,n,s)-Th(l,n,s),a.layout){const p=window.getComputedStyle(o).getPropertyValue("--v-layout-top");p&&(c-=parseInt(p,10))}c+=a.offset,c=Dk(l,c,!!s,!!n);const d=l[i]??0;if(c===d)return Promise.resolve(c);const f=performance.now();return new Promise(h=>requestAnimationFrame(function p(g){const v=(g-f)/a.duration,_=Math.floor(d+(c-d)*u(Pr(v,0,1)));if(l[i]=_,v>=1&&Math.abs(_-l[i])<10)return h(c);if(v>2)return h(l[i]);requestAnimationFrame(p)}))}function Rk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=be(rE),{isRtl:n}=er();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:O(()=>t.rtl.value||n.value)};async function i(a,s){return Ib(a,vn(e,s),!1,r)}return i.horizontal=async(a,s)=>Ib(a,vn(e,s),!0,r),i}function Dk(e,t,n,r){const{scrollWidth:i,scrollHeight:a}=e,[s,o]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,u;return r?n?(l=-(i-s),u=0):(l=0,u=i-s):(l=0,u=a+-o),Math.max(Math.min(t,u),l)}const kk={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},Ok={component:e=>wa(sE,{...e,class:"mdi"})},at=[String,Function,Object,Array],gg=Symbol.for("vuetify:icons"),Xd=ce({icon:{type:at},tag:{type:String,required:!0}},"icon"),Cb=Ee()({name:"VComponentIcon",props:Xd(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return b(e.tag,null,{default:()=>{var i;return[e.icon?b(r,null,null):(i=n.default)==null?void 0:i.call(n)]}})}}}),aE=wo({name:"VSvgIcon",inheritAttrs:!1,props:Xd(),setup(e,t){let{attrs:n}=t;return()=>b(e.tag,xe(n,{style:null}),{default:()=>[b("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?b("path",{d:r[0],"fill-opacity":r[1]},null):b("path",{d:r},null)):b("path",{d:e.icon},null)])]})}});wo({name:"VLigatureIcon",props:Xd(),setup(e){return()=>b(e.tag,null,{default:()=>[e.icon]})}});const sE=wo({name:"VClassIcon",props:Xd(),setup(e){return()=>b(e.tag,{class:e.icon},null)}});function Pk(){return{svg:{component:aE},class:{component:sE}}}function Lk(e){const t=Pk(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=Ok),vn({defaultSet:n,sets:t,aliases:{...kk,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const Fk=e=>{const t=be(gg);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:O(()=>{var l;const r=X(e);if(!r)return{component:Cb};let i=r;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$")&&(i=(l=t.aliases)==null?void 0:l[i.slice(1)])),Array.isArray(i))return{component:aE,icon:i};if(typeof i!="string")return{component:Cb,icon:i};const a=Object.keys(t.sets).find(u=>typeof i=="string"&&i.startsWith(`${u}:`)),s=a?i.slice(a.length+1):i;return{component:t.sets[a??t.defaultSet].component,icon:s}})}},cd=Symbol.for("vuetify:theme"),Ft=ce({theme:String},"theme");function Tb(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function jk(){var r,i;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tb();const t=Tb();if(!e)return{...t,isDisabled:!0};const n={};for(const[a,s]of Object.entries(e.themes??{})){const o=s.dark||a==="dark"?(r=t.themes)==null?void 0:r.dark:(i=t.themes)==null?void 0:i.light;n[a]=vn(o,s)}return vn(t,{...e,themes:n})}function $k(e){const t=jk(e),n=q(t.defaultTheme),r=q(t.themes),i=O(()=>{const c={};for(const[d,f]of Object.entries(r.value)){const h=c[d]={...f,colors:{...f.colors}};if(t.variations)for(const p of t.variations.colors){const g=h.colors[p];if(g)for(const m of["lighten","darken"]){const v=m==="lighten"?SD:ED;for(const _ of Kd(t.variations[m],1))h.colors[`${p}-${m}-${_}`]=_D(v(li(g),_))}}for(const p of Object.keys(h.colors)){if(/^on-[a-z]/.test(p)||h.colors[`on-${p}`])continue;const g=`on-${p}`,m=li(h.colors[p]);h.colors[g]=GS(m)}}return c}),a=O(()=>i.value[n.value]),s=O(()=>{var p;const c=[];(p=a.value)!=null&&p.dark&&Oa(c,":root",["color-scheme: dark"]),Oa(c,":root",Ab(a.value));for(const[g,m]of Object.entries(i.value))Oa(c,`.v-theme--${g}`,[`color-scheme: ${m.dark?"dark":"normal"}`,...Ab(m)]);const d=[],f=[],h=new Set(Object.values(i.value).flatMap(g=>Object.keys(g.colors)));for(const g of h)/^on-[a-z]/.test(g)?Oa(f,`.${g}`,[`color: rgb(var(--v-theme-${g})) !important`]):(Oa(d,`.bg-${g}`,[`--v-theme-overlay-multiplier: var(--v-theme-${g}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${g})) !important`,`color: rgb(var(--v-theme-on-${g})) !important`]),Oa(f,`.text-${g}`,[`color: rgb(var(--v-theme-${g})) !important`]),Oa(f,`.border-${g}`,[`--v-border-color: var(--v-theme-${g})`]));return c.push(...d,...f),c.map((g,m)=>m===0?g:`    ${g}`).join("")});function o(){return{style:[{children:s.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(c){if(t.isDisabled)return;const d=c._context.provides.usehead;if(d)if(d.push){const f=d.push(o);ft&&Ce(s,()=>{f.patch(o)})}else ft?(d.addHeadObjs(O(o)),yn(()=>d.updateDOM())):d.addHeadObjs(o());else{let h=function(){if(typeof document<"u"&&!f){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",t.cspNonce&&p.setAttribute("nonce",t.cspNonce),f=p,document.head.appendChild(f)}f&&(f.innerHTML=s.value)},f=ft?document.getElementById("vuetify-theme-stylesheet"):null;ft?Ce(s,h,{immediate:!0}):h()}}const u=O(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:r,current:a,computedThemes:i,themeClasses:u,styles:s,global:{name:n,current:a}}}function Bt(e){Gt("provideTheme");const t=be(cd,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=O(()=>e.theme??t.name.value),r=O(()=>t.themes.value[n.value]),i=O(()=>t.isDisabled?void 0:`v-theme--${n.value}`),a={...t,name:n,current:r,themeClasses:i};return Ae(cd,a),a}function Oa(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function Ab(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[i,a]of Object.entries(e.colors)){const s=li(a);r.push(`--v-theme-${i}: ${s.r},${s.g},${s.b}`),i.startsWith("on-")||r.push(`--v-theme-${i}-overlay-multiplier: ${ID(a)>.18?t:n}`)}for(const[i,a]of Object.entries(e.variables)){const s=typeof a=="string"&&a.startsWith("#")?li(a):void 0,o=s?`${s.r}, ${s.g}, ${s.b}`:void 0;r.push(`--v-${i}: ${o??a}`)}return r}function ho(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=id(),r=q();if(ft){const i=new ResizeObserver(a=>{a.length&&(t==="content"?r.value=a[0].contentRect:r.value=a[0].target.getBoundingClientRect())});Ht(()=>{i.disconnect()}),Ce(()=>n.el,(a,s)=>{s&&(i.unobserve(s),r.value=void 0),a&&i.observe(a)},{flush:"post"})}return{resizeRef:n,contentRect:lu(r)}}const dd=Symbol.for("vuetify:layout"),oE=Symbol.for("vuetify:layout-item"),Nb=1e3,lE=ce({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),uE=ce({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Vk(){const e=be(dd);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function cE(e){const t=be(dd);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Mn()}`,r=Gt("useLayoutItem");Ae(oE,{id:n});const i=Te(!1);Nm(()=>i.value=!0),Jx(()=>i.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:s}=t.register(r,{...e,active:O(()=>i.value?!1:e.active.value),id:n});return Ht(()=>t.unregister(n)),{layoutItemStyles:a,layoutRect:t.layoutRect,layoutItemScrimStyles:s}}const Mk=(e,t,n,r)=>{let i={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...i}}];for(const s of e){const o=t.get(s),l=n.get(s),u=r.get(s);if(!o||!l||!u)continue;const c={...i,[o.value]:parseInt(i[o.value],10)+(u.value?parseInt(l.value,10):0)};a.push({id:s,layer:c}),i=c}return a};function dE(e){const t=be(dd,null),n=O(()=>t?t.rootZIndex.value-100:Nb),r=q([]),i=dt(new Map),a=dt(new Map),s=dt(new Map),o=dt(new Map),l=dt(new Map),{resizeRef:u,contentRect:c}=ho(),d=O(()=>{const E=new Map,N=e.overlaps??[];for(const A of N.filter(R=>R.includes(":"))){const[R,M]=A.split(":");if(!r.value.includes(R)||!r.value.includes(M))continue;const V=i.get(R),P=i.get(M),F=a.get(R),U=a.get(M);!V||!P||!F||!U||(E.set(M,{position:V.value,amount:parseInt(F.value,10)}),E.set(R,{position:P.value,amount:-parseInt(U.value,10)}))}return E}),f=O(()=>{const E=[...new Set([...s.values()].map(A=>A.value))].sort((A,R)=>A-R),N=[];for(const A of E){const R=r.value.filter(M=>{var V;return((V=s.get(M))==null?void 0:V.value)===A});N.push(...R)}return Mk(N,i,a,o)}),h=O(()=>!Array.from(l.values()).some(E=>E.value)),p=O(()=>f.value[f.value.length-1].layer),g=O(()=>({"--v-layout-left":Be(p.value.left),"--v-layout-right":Be(p.value.right),"--v-layout-top":Be(p.value.top),"--v-layout-bottom":Be(p.value.bottom),...h.value?void 0:{transition:"none"}})),m=O(()=>f.value.slice(1).map((E,N)=>{let{id:A}=E;const{layer:R}=f.value[N],M=a.get(A),V=i.get(A);return{id:A,...R,size:Number(M.value),position:V.value}})),v=E=>m.value.find(N=>N.id===E),_=Gt("createLayout"),x=Te(!1);en(()=>{x.value=!0}),Ae(dd,{register:(E,N)=>{let{id:A,order:R,position:M,layoutSize:V,elementSize:P,active:F,disableTransitions:U,absolute:J}=N;s.set(A,R),i.set(A,M),a.set(A,V),o.set(A,F),U&&l.set(A,U);const he=Hs(oE,_==null?void 0:_.vnode).indexOf(E);he>-1?r.value.splice(he,0,A):r.value.push(A);const ne=O(()=>m.value.findIndex(ee=>ee.id===A)),Z=O(()=>n.value+f.value.length*2-ne.value*2),re=O(()=>{const ee=M.value==="left"||M.value==="right",Q=M.value==="right",oe=M.value==="bottom",we=P.value??V.value,Se=we===0?"%":"px",De={[M.value]:0,zIndex:Z.value,transform:`translate${ee?"X":"Y"}(${(F.value?0:-(we===0?100:we))*(Q||oe?-1:1)}${Se})`,position:J.value||n.value!==Nb?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!x.value)return De;const Oe=m.value[ne.value];if(!Oe)throw new Error(`[Vuetify] Could not find layout item "${A}"`);const Qe=d.value.get(A);return Qe&&(Oe[Qe.position]+=Qe.amount),{...De,height:ee?`calc(100% - ${Oe.top}px - ${Oe.bottom}px)`:P.value?`${P.value}px`:void 0,left:Q?void 0:`${Oe.left}px`,right:Q?`${Oe.right}px`:void 0,top:M.value!=="bottom"?`${Oe.top}px`:void 0,bottom:M.value!=="top"?`${Oe.bottom}px`:void 0,width:ee?P.value?`${P.value}px`:void 0:`calc(100% - ${Oe.left}px - ${Oe.right}px)`}}),W=O(()=>({zIndex:Z.value-1}));return{layoutItemStyles:re,layoutItemScrimStyles:W,zIndex:Z}},unregister:E=>{s.delete(E),i.delete(E),a.delete(E),o.delete(E),l.delete(E),r.value=r.value.filter(N=>N!==E)},mainRect:p,mainStyles:g,getLayoutItem:v,items:m,layoutRect:c,rootZIndex:n});const I=O(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),S=O(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:I,layoutStyles:S,getLayoutItem:v,items:m,layoutRect:c,layoutRef:u}}function fE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=vn(t,n),{aliases:i={},components:a={},directives:s={}}=r,o=TD(r.defaults),l=Tk(r.display,r.ssr),u=$k(r.theme),c=Lk(r.icons),d=jD(r.locale),f=Ek(r.date,d),h=Nk(r.goTo,d);return{install:g=>{for(const m in s)g.directive(m,s[m]);for(const m in a)g.component(m,a[m]);for(const m in i)g.component(m,wo({...i[m],name:m,aliasName:i[m].name}));if(u.install(g),g.provide(fo,o),g.provide(pg,l),g.provide(cd,u),g.provide(gg,c),g.provide(ld,d),g.provide(eE,f.options),g.provide(_b,f.instance),g.provide(rE,h),ft&&r.ssr)if(g.$nuxt)g.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:m}=g;g.mount=function(){const v=m(...arguments);return Dt(()=>l.update()),g.mount=m,v}}Mn.reset(),g.mixin({computed:{$vuetify(){return dt({defaults:Ns.call(this,fo),display:Ns.call(this,pg),theme:Ns.call(this,cd),icons:Ns.call(this,gg),locale:Ns.call(this,ld),date:Ns.call(this,_b)})}}})},defaults:o,display:l,theme:u,icons:c,locale:d,date:f,goTo:h}}const Bk="3.7.8";fE.version=Bk;function Ns(e){var r,i;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((i=t.vnode.appContext)==null?void 0:i.provides);if(n&&e in n)return n[e]}const Uk=fE({theme:{defaultTheme:"light"}});function Hk(e){e.use(Uk)}class Xm{constructor(t,{bind:n=!1}={}){this._factories=t.slice();for(const r of this._factories){typeof r.prototype.init=="function"&&r.prototype.init.call(this);for(const i of r.exports||[])n?this[i]=r.prototype[i].bind(this):this[i]=r.prototype[i]}}clone(){const t=new Xm(this._factories);for(const n of t._factories)typeof n.prototype.clone=="function"&&n.prototype.clone.call(t,this);return t}}var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var hE={exports:{}},Ah={exports:{}},$r={},ef={};ef.byteLength=Kk;ef.toByteArray=Jk;ef.fromByteArray=Xk;var si=[],ur=[],Wk=typeof Uint8Array<"u"?Uint8Array:Array,Nh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Rs=0,zk=Nh.length;Rs<zk;++Rs)si[Rs]=Nh[Rs],ur[Nh.charCodeAt(Rs)]=Rs;ur[45]=62;ur[95]=63;function pE(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Kk(e){var t=pE(e),n=t[0],r=t[1];return(n+r)*3/4-r}function qk(e,t,n){return(t+n)*3/4-n}function Jk(e){var t,n=pE(e),r=n[0],i=n[1],a=new Wk(qk(e,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)t=ur[e.charCodeAt(l)]<<18|ur[e.charCodeAt(l+1)]<<12|ur[e.charCodeAt(l+2)]<<6|ur[e.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=ur[e.charCodeAt(l)]<<2|ur[e.charCodeAt(l+1)]>>4,a[s++]=t&255),i===1&&(t=ur[e.charCodeAt(l)]<<10|ur[e.charCodeAt(l+1)]<<4|ur[e.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function Yk(e){return si[e>>18&63]+si[e>>12&63]+si[e>>6&63]+si[e&63]}function Qk(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(Yk(r));return i.join("")}function Xk(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(Qk(e,s,s+a>o?o:s+a));return r===1?(t=e[n-1],i.push(si[t>>2]+si[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(si[t>>10]+si[t>>4&63]+si[t<<2&63]+"=")),i.join("")}var Zm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Zm.read=function(e,t,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,u=l>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=o;c>0;a=a*256+e[t+d],d+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=r;c>0;s=s*256+e[t+d],d+=f,c-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-u}return(h?-1:1)*s*Math.pow(2,a-r)};Zm.write=function(e,t,n,r,i,a){var s,o,l,u=a*8-i-1,c=(1<<u)-1,d=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=c?(o=0,s=c):s+d>=1?(o=(t*l-1)*Math.pow(2,i),s=s+d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=o&255,h+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[n+h]=s&255,h+=p,s/=256,u-=8);e[n+h-p]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=ef,n=Zm,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const T=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(T,y),T.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const y=new Uint8Array(T);return Object.setPrototypeOf(y,o.prototype),y}function o(T,y,w){if(typeof T=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(T)}return l(T,y,w)}o.poolSize=8192;function l(T,y,w){if(typeof T=="string")return f(T,y);if(ArrayBuffer.isView(T))return p(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(fe(T,ArrayBuffer)||T&&fe(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(T,SharedArrayBuffer)||T&&fe(T.buffer,SharedArrayBuffer)))return g(T,y,w);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=T.valueOf&&T.valueOf();if(L!=null&&L!==T)return o.from(L,y,w);const H=m(T);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return o.from(T[Symbol.toPrimitive]("string"),y,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}o.from=function(T,y,w){return l(T,y,w)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function c(T,y,w){return u(T),T<=0?s(T):y!==void 0?typeof w=="string"?s(T).fill(y,w):s(T).fill(y):s(T)}o.alloc=function(T,y,w){return c(T,y,w)};function d(T){return u(T),s(T<0?0:v(T)|0)}o.allocUnsafe=function(T){return d(T)},o.allocUnsafeSlow=function(T){return d(T)};function f(T,y){if((typeof y!="string"||y==="")&&(y="utf8"),!o.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const w=x(T,y)|0;let L=s(w);const H=L.write(T,y);return H!==w&&(L=L.slice(0,H)),L}function h(T){const y=T.length<0?0:v(T.length)|0,w=s(y);for(let L=0;L<y;L+=1)w[L]=T[L]&255;return w}function p(T){if(fe(T,Uint8Array)){const y=new Uint8Array(T);return g(y.buffer,y.byteOffset,y.byteLength)}return h(T)}function g(T,y,w){if(y<0||T.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<y+(w||0))throw new RangeError('"length" is outside of buffer bounds');let L;return y===void 0&&w===void 0?L=new Uint8Array(T):w===void 0?L=new Uint8Array(T,y):L=new Uint8Array(T,y,w),Object.setPrototypeOf(L,o.prototype),L}function m(T){if(o.isBuffer(T)){const y=v(T.length)|0,w=s(y);return w.length===0||T.copy(w,0,0,y),w}if(T.length!==void 0)return typeof T.length!="number"||ve(T.length)?s(0):h(T);if(T.type==="Buffer"&&Array.isArray(T.data))return h(T.data)}function v(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function _(T){return+T!=T&&(T=0),o.alloc(+T)}o.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==o.prototype},o.compare=function(y,w){if(fe(y,Uint8Array)&&(y=o.from(y,y.offset,y.byteLength)),fe(w,Uint8Array)&&(w=o.from(w,w.offset,w.byteLength)),!o.isBuffer(y)||!o.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===w)return 0;let L=y.length,H=w.length;for(let Y=0,se=Math.min(L,H);Y<se;++Y)if(y[Y]!==w[Y]){L=y[Y],H=w[Y];break}return L<H?-1:H<L?1:0},o.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(y,w){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return o.alloc(0);let L;if(w===void 0)for(w=0,L=0;L<y.length;++L)w+=y[L].length;const H=o.allocUnsafe(w);let Y=0;for(L=0;L<y.length;++L){let se=y[L];if(fe(se,Uint8Array))Y+se.length>H.length?(o.isBuffer(se)||(se=o.from(se)),se.copy(H,Y)):Uint8Array.prototype.set.call(H,se,Y);else if(o.isBuffer(se))se.copy(H,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=se.length}return H};function x(T,y){if(o.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||fe(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const w=T.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&w===0)return 0;let H=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return z(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return ie(T).length;default:if(H)return L?-1:z(T).length;y=(""+y).toLowerCase(),H=!0}}o.byteLength=x;function I(T,y,w){let L=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,y>>>=0,w<=y))return"";for(T||(T="utf8");;)switch(T){case"hex":return Z(this,y,w);case"utf8":case"utf-8":return U(this,y,w);case"ascii":return he(this,y,w);case"latin1":case"binary":return ne(this,y,w);case"base64":return F(this,y,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,y,w);default:if(L)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),L=!0}}o.prototype._isBuffer=!0;function S(T,y,w){const L=T[y];T[y]=T[w],T[w]=L}o.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<y;w+=2)S(this,w,w+1);return this},o.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<y;w+=4)S(this,w,w+3),S(this,w+1,w+2);return this},o.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<y;w+=8)S(this,w,w+7),S(this,w+1,w+6),S(this,w+2,w+5),S(this,w+3,w+4);return this},o.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?U(this,0,y):I.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(y){if(!o.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:o.compare(this,y)===0},o.prototype.inspect=function(){let y="";const w=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(y+=" ... "),"<Buffer "+y+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(y,w,L,H,Y){if(fe(y,Uint8Array)&&(y=o.from(y,y.offset,y.byteLength)),!o.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(w===void 0&&(w=0),L===void 0&&(L=y?y.length:0),H===void 0&&(H=0),Y===void 0&&(Y=this.length),w<0||L>y.length||H<0||Y>this.length)throw new RangeError("out of range index");if(H>=Y&&w>=L)return 0;if(H>=Y)return-1;if(w>=L)return 1;if(w>>>=0,L>>>=0,H>>>=0,Y>>>=0,this===y)return 0;let se=Y-H,Ye=L-w;const Xe=Math.min(se,Ye),nt=this.slice(H,Y),bt=y.slice(w,L);for(let ct=0;ct<Xe;++ct)if(nt[ct]!==bt[ct]){se=nt[ct],Ye=bt[ct];break}return se<Ye?-1:Ye<se?1:0};function E(T,y,w,L,H){if(T.length===0)return-1;if(typeof w=="string"?(L=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,ve(w)&&(w=H?0:T.length-1),w<0&&(w=T.length+w),w>=T.length){if(H)return-1;w=T.length-1}else if(w<0)if(H)w=0;else return-1;if(typeof y=="string"&&(y=o.from(y,L)),o.isBuffer(y))return y.length===0?-1:N(T,y,w,L,H);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(T,y,w):Uint8Array.prototype.lastIndexOf.call(T,y,w):N(T,[y],w,L,H);throw new TypeError("val must be string, number or Buffer")}function N(T,y,w,L,H){let Y=1,se=T.length,Ye=y.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(T.length<2||y.length<2)return-1;Y=2,se/=2,Ye/=2,w/=2}function Xe(bt,ct){return Y===1?bt[ct]:bt.readUInt16BE(ct*Y)}let nt;if(H){let bt=-1;for(nt=w;nt<se;nt++)if(Xe(T,nt)===Xe(y,bt===-1?0:nt-bt)){if(bt===-1&&(bt=nt),nt-bt+1===Ye)return bt*Y}else bt!==-1&&(nt-=nt-bt),bt=-1}else for(w+Ye>se&&(w=se-Ye),nt=w;nt>=0;nt--){let bt=!0;for(let ct=0;ct<Ye;ct++)if(Xe(T,nt+ct)!==Xe(y,ct)){bt=!1;break}if(bt)return nt}return-1}o.prototype.includes=function(y,w,L){return this.indexOf(y,w,L)!==-1},o.prototype.indexOf=function(y,w,L){return E(this,y,w,L,!0)},o.prototype.lastIndexOf=function(y,w,L){return E(this,y,w,L,!1)};function A(T,y,w,L){w=Number(w)||0;const H=T.length-w;L?(L=Number(L),L>H&&(L=H)):L=H;const Y=y.length;L>Y/2&&(L=Y/2);let se;for(se=0;se<L;++se){const Ye=parseInt(y.substr(se*2,2),16);if(ve(Ye))return se;T[w+se]=Ye}return se}function R(T,y,w,L){return de(z(y,T.length-w),T,w,L)}function M(T,y,w,L){return de(ae(y),T,w,L)}function V(T,y,w,L){return de(ie(y),T,w,L)}function P(T,y,w,L){return de(le(y,T.length-w),T,w,L)}o.prototype.write=function(y,w,L,H){if(w===void 0)H="utf8",L=this.length,w=0;else if(L===void 0&&typeof w=="string")H=w,L=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(L)?(L=L>>>0,H===void 0&&(H="utf8")):(H=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Y=this.length-w;if((L===void 0||L>Y)&&(L=Y),y.length>0&&(L<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let se=!1;for(;;)switch(H){case"hex":return A(this,y,w,L);case"utf8":case"utf-8":return R(this,y,w,L);case"ascii":case"latin1":case"binary":return M(this,y,w,L);case"base64":return V(this,y,w,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,y,w,L);default:if(se)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),se=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(T,y,w){return y===0&&w===T.length?t.fromByteArray(T):t.fromByteArray(T.slice(y,w))}function U(T,y,w){w=Math.min(T.length,w);const L=[];let H=y;for(;H<w;){const Y=T[H];let se=null,Ye=Y>239?4:Y>223?3:Y>191?2:1;if(H+Ye<=w){let Xe,nt,bt,ct;switch(Ye){case 1:Y<128&&(se=Y);break;case 2:Xe=T[H+1],(Xe&192)===128&&(ct=(Y&31)<<6|Xe&63,ct>127&&(se=ct));break;case 3:Xe=T[H+1],nt=T[H+2],(Xe&192)===128&&(nt&192)===128&&(ct=(Y&15)<<12|(Xe&63)<<6|nt&63,ct>2047&&(ct<55296||ct>57343)&&(se=ct));break;case 4:Xe=T[H+1],nt=T[H+2],bt=T[H+3],(Xe&192)===128&&(nt&192)===128&&(bt&192)===128&&(ct=(Y&15)<<18|(Xe&63)<<12|(nt&63)<<6|bt&63,ct>65535&&ct<1114112&&(se=ct))}}se===null?(se=65533,Ye=1):se>65535&&(se-=65536,L.push(se>>>10&1023|55296),se=56320|se&1023),L.push(se),H+=Ye}return G(L)}const J=4096;function G(T){const y=T.length;if(y<=J)return String.fromCharCode.apply(String,T);let w="",L=0;for(;L<y;)w+=String.fromCharCode.apply(String,T.slice(L,L+=J));return w}function he(T,y,w){let L="";w=Math.min(T.length,w);for(let H=y;H<w;++H)L+=String.fromCharCode(T[H]&127);return L}function ne(T,y,w){let L="";w=Math.min(T.length,w);for(let H=y;H<w;++H)L+=String.fromCharCode(T[H]);return L}function Z(T,y,w){const L=T.length;(!y||y<0)&&(y=0),(!w||w<0||w>L)&&(w=L);let H="";for(let Y=y;Y<w;++Y)H+=Ne[T[Y]];return H}function re(T,y,w){const L=T.slice(y,w);let H="";for(let Y=0;Y<L.length-1;Y+=2)H+=String.fromCharCode(L[Y]+L[Y+1]*256);return H}o.prototype.slice=function(y,w){const L=this.length;y=~~y,w=w===void 0?L:~~w,y<0?(y+=L,y<0&&(y=0)):y>L&&(y=L),w<0?(w+=L,w<0&&(w=0)):w>L&&(w=L),w<y&&(w=y);const H=this.subarray(y,w);return Object.setPrototypeOf(H,o.prototype),H};function W(T,y,w){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+y>w)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(y,w,L){y=y>>>0,w=w>>>0,L||W(y,w,this.length);let H=this[y],Y=1,se=0;for(;++se<w&&(Y*=256);)H+=this[y+se]*Y;return H},o.prototype.readUintBE=o.prototype.readUIntBE=function(y,w,L){y=y>>>0,w=w>>>0,L||W(y,w,this.length);let H=this[y+--w],Y=1;for(;w>0&&(Y*=256);)H+=this[y+--w]*Y;return H},o.prototype.readUint8=o.prototype.readUInt8=function(y,w){return y=y>>>0,w||W(y,1,this.length),this[y]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(y,w){return y=y>>>0,w||W(y,2,this.length),this[y]|this[y+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(y,w){return y=y>>>0,w||W(y,2,this.length),this[y]<<8|this[y+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(y,w){return y=y>>>0,w||W(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(y,w){return y=y>>>0,w||W(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},o.prototype.readBigUInt64LE=Le(function(y){y=y>>>0,C(y,"offset");const w=this[y],L=this[y+7];(w===void 0||L===void 0)&&D(y,this.length-8);const H=w+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,Y=this[++y]+this[++y]*2**8+this[++y]*2**16+L*2**24;return BigInt(H)+(BigInt(Y)<<BigInt(32))}),o.prototype.readBigUInt64BE=Le(function(y){y=y>>>0,C(y,"offset");const w=this[y],L=this[y+7];(w===void 0||L===void 0)&&D(y,this.length-8);const H=w*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],Y=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+L;return(BigInt(H)<<BigInt(32))+BigInt(Y)}),o.prototype.readIntLE=function(y,w,L){y=y>>>0,w=w>>>0,L||W(y,w,this.length);let H=this[y],Y=1,se=0;for(;++se<w&&(Y*=256);)H+=this[y+se]*Y;return Y*=128,H>=Y&&(H-=Math.pow(2,8*w)),H},o.prototype.readIntBE=function(y,w,L){y=y>>>0,w=w>>>0,L||W(y,w,this.length);let H=w,Y=1,se=this[y+--H];for(;H>0&&(Y*=256);)se+=this[y+--H]*Y;return Y*=128,se>=Y&&(se-=Math.pow(2,8*w)),se},o.prototype.readInt8=function(y,w){return y=y>>>0,w||W(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},o.prototype.readInt16LE=function(y,w){y=y>>>0,w||W(y,2,this.length);const L=this[y]|this[y+1]<<8;return L&32768?L|4294901760:L},o.prototype.readInt16BE=function(y,w){y=y>>>0,w||W(y,2,this.length);const L=this[y+1]|this[y]<<8;return L&32768?L|4294901760:L},o.prototype.readInt32LE=function(y,w){return y=y>>>0,w||W(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},o.prototype.readInt32BE=function(y,w){return y=y>>>0,w||W(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},o.prototype.readBigInt64LE=Le(function(y){y=y>>>0,C(y,"offset");const w=this[y],L=this[y+7];(w===void 0||L===void 0)&&D(y,this.length-8);const H=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(L<<24);return(BigInt(H)<<BigInt(32))+BigInt(w+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),o.prototype.readBigInt64BE=Le(function(y){y=y>>>0,C(y,"offset");const w=this[y],L=this[y+7];(w===void 0||L===void 0)&&D(y,this.length-8);const H=(w<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(H)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+L)}),o.prototype.readFloatLE=function(y,w){return y=y>>>0,w||W(y,4,this.length),n.read(this,y,!0,23,4)},o.prototype.readFloatBE=function(y,w){return y=y>>>0,w||W(y,4,this.length),n.read(this,y,!1,23,4)},o.prototype.readDoubleLE=function(y,w){return y=y>>>0,w||W(y,8,this.length),n.read(this,y,!0,52,8)},o.prototype.readDoubleBE=function(y,w){return y=y>>>0,w||W(y,8,this.length),n.read(this,y,!1,52,8)};function ee(T,y,w,L,H,Y){if(!o.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>H||y<Y)throw new RangeError('"value" argument is out of bounds');if(w+L>T.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(y,w,L,H){if(y=+y,w=w>>>0,L=L>>>0,!H){const Ye=Math.pow(2,8*L)-1;ee(this,y,w,L,Ye,0)}let Y=1,se=0;for(this[w]=y&255;++se<L&&(Y*=256);)this[w+se]=y/Y&255;return w+L},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(y,w,L,H){if(y=+y,w=w>>>0,L=L>>>0,!H){const Ye=Math.pow(2,8*L)-1;ee(this,y,w,L,Ye,0)}let Y=L-1,se=1;for(this[w+Y]=y&255;--Y>=0&&(se*=256);)this[w+Y]=y/se&255;return w+L},o.prototype.writeUint8=o.prototype.writeUInt8=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,1,255,0),this[w]=y&255,w+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,2,65535,0),this[w]=y&255,this[w+1]=y>>>8,w+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,2,65535,0),this[w]=y>>>8,this[w+1]=y&255,w+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,4,4294967295,0),this[w+3]=y>>>24,this[w+2]=y>>>16,this[w+1]=y>>>8,this[w]=y&255,w+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,4,4294967295,0),this[w]=y>>>24,this[w+1]=y>>>16,this[w+2]=y>>>8,this[w+3]=y&255,w+4};function Q(T,y,w,L,H){j(y,L,H,T,w,7);let Y=Number(y&BigInt(4294967295));T[w++]=Y,Y=Y>>8,T[w++]=Y,Y=Y>>8,T[w++]=Y,Y=Y>>8,T[w++]=Y;let se=Number(y>>BigInt(32)&BigInt(4294967295));return T[w++]=se,se=se>>8,T[w++]=se,se=se>>8,T[w++]=se,se=se>>8,T[w++]=se,w}function oe(T,y,w,L,H){j(y,L,H,T,w,7);let Y=Number(y&BigInt(4294967295));T[w+7]=Y,Y=Y>>8,T[w+6]=Y,Y=Y>>8,T[w+5]=Y,Y=Y>>8,T[w+4]=Y;let se=Number(y>>BigInt(32)&BigInt(4294967295));return T[w+3]=se,se=se>>8,T[w+2]=se,se=se>>8,T[w+1]=se,se=se>>8,T[w]=se,w+8}o.prototype.writeBigUInt64LE=Le(function(y,w=0){return Q(this,y,w,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Le(function(y,w=0){return oe(this,y,w,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(y,w,L,H){if(y=+y,w=w>>>0,!H){const Xe=Math.pow(2,8*L-1);ee(this,y,w,L,Xe-1,-Xe)}let Y=0,se=1,Ye=0;for(this[w]=y&255;++Y<L&&(se*=256);)y<0&&Ye===0&&this[w+Y-1]!==0&&(Ye=1),this[w+Y]=(y/se>>0)-Ye&255;return w+L},o.prototype.writeIntBE=function(y,w,L,H){if(y=+y,w=w>>>0,!H){const Xe=Math.pow(2,8*L-1);ee(this,y,w,L,Xe-1,-Xe)}let Y=L-1,se=1,Ye=0;for(this[w+Y]=y&255;--Y>=0&&(se*=256);)y<0&&Ye===0&&this[w+Y+1]!==0&&(Ye=1),this[w+Y]=(y/se>>0)-Ye&255;return w+L},o.prototype.writeInt8=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,1,127,-128),y<0&&(y=255+y+1),this[w]=y&255,w+1},o.prototype.writeInt16LE=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,2,32767,-32768),this[w]=y&255,this[w+1]=y>>>8,w+2},o.prototype.writeInt16BE=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,2,32767,-32768),this[w]=y>>>8,this[w+1]=y&255,w+2},o.prototype.writeInt32LE=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,4,2147483647,-2147483648),this[w]=y&255,this[w+1]=y>>>8,this[w+2]=y>>>16,this[w+3]=y>>>24,w+4},o.prototype.writeInt32BE=function(y,w,L){return y=+y,w=w>>>0,L||ee(this,y,w,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[w]=y>>>24,this[w+1]=y>>>16,this[w+2]=y>>>8,this[w+3]=y&255,w+4},o.prototype.writeBigInt64LE=Le(function(y,w=0){return Q(this,y,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Le(function(y,w=0){return oe(this,y,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(T,y,w,L,H,Y){if(w+L>T.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function Se(T,y,w,L,H){return y=+y,w=w>>>0,H||we(T,y,w,4),n.write(T,y,w,L,23,4),w+4}o.prototype.writeFloatLE=function(y,w,L){return Se(this,y,w,!0,L)},o.prototype.writeFloatBE=function(y,w,L){return Se(this,y,w,!1,L)};function De(T,y,w,L,H){return y=+y,w=w>>>0,H||we(T,y,w,8),n.write(T,y,w,L,52,8),w+8}o.prototype.writeDoubleLE=function(y,w,L){return De(this,y,w,!0,L)},o.prototype.writeDoubleBE=function(y,w,L){return De(this,y,w,!1,L)},o.prototype.copy=function(y,w,L,H){if(!o.isBuffer(y))throw new TypeError("argument should be a Buffer");if(L||(L=0),!H&&H!==0&&(H=this.length),w>=y.length&&(w=y.length),w||(w=0),H>0&&H<L&&(H=L),H===L||y.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),y.length-w<H-L&&(H=y.length-w+L);const Y=H-L;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,L,H):Uint8Array.prototype.set.call(y,this.subarray(L,H),w),Y},o.prototype.fill=function(y,w,L,H){if(typeof y=="string"){if(typeof w=="string"?(H=w,w=0,L=this.length):typeof L=="string"&&(H=L,L=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!o.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(y.length===1){const se=y.charCodeAt(0);(H==="utf8"&&se<128||H==="latin1")&&(y=se)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(w<0||this.length<w||this.length<L)throw new RangeError("Out of range index");if(L<=w)return this;w=w>>>0,L=L===void 0?this.length:L>>>0,y||(y=0);let Y;if(typeof y=="number")for(Y=w;Y<L;++Y)this[Y]=y;else{const se=o.isBuffer(y)?y:o.from(y,H),Ye=se.length;if(Ye===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(Y=0;Y<L-w;++Y)this[Y+w]=se[Y%Ye]}return this};const Oe={};function Qe(T,y,w){Oe[T]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}Qe("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Qe("ERR_INVALID_ARG_TYPE",function(T,y){return`The "${T}" argument must be of type number. Received type ${typeof y}`},TypeError),Qe("ERR_OUT_OF_RANGE",function(T,y,w){let L=`The value of "${T}" is out of range.`,H=w;return Number.isInteger(w)&&Math.abs(w)>2**32?H=qe(String(w)):typeof w=="bigint"&&(H=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(H=qe(H)),H+="n"),L+=` It must be ${y}. Received ${H}`,L},RangeError);function qe(T){let y="",w=T.length;const L=T[0]==="-"?1:0;for(;w>=L+4;w-=3)y=`_${T.slice(w-3,w)}${y}`;return`${T.slice(0,w)}${y}`}function ge(T,y,w){C(y,"offset"),(T[y]===void 0||T[y+w]===void 0)&&D(y,T.length-(w+1))}function j(T,y,w,L,H,Y){if(T>w||T<y){const se=typeof y=="bigint"?"n":"";let Ye;throw y===0||y===BigInt(0)?Ye=`>= 0${se} and < 2${se} ** ${(Y+1)*8}${se}`:Ye=`>= -(2${se} ** ${(Y+1)*8-1}${se}) and < 2 ** ${(Y+1)*8-1}${se}`,new Oe.ERR_OUT_OF_RANGE("value",Ye,T)}ge(L,H,Y)}function C(T,y){if(typeof T!="number")throw new Oe.ERR_INVALID_ARG_TYPE(y,"number",T)}function D(T,y,w){throw Math.floor(T)!==T?(C(T,w),new Oe.ERR_OUT_OF_RANGE("offset","an integer",T)):y<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,T)}const B=/[^+/0-9A-Za-z-_]/g;function K(T){if(T=T.split("=")[0],T=T.trim().replace(B,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function z(T,y){y=y||1/0;let w;const L=T.length;let H=null;const Y=[];for(let se=0;se<L;++se){if(w=T.charCodeAt(se),w>55295&&w<57344){if(!H){if(w>56319){(y-=3)>-1&&Y.push(239,191,189);continue}else if(se+1===L){(y-=3)>-1&&Y.push(239,191,189);continue}H=w;continue}if(w<56320){(y-=3)>-1&&Y.push(239,191,189),H=w;continue}w=(H-55296<<10|w-56320)+65536}else H&&(y-=3)>-1&&Y.push(239,191,189);if(H=null,w<128){if((y-=1)<0)break;Y.push(w)}else if(w<2048){if((y-=2)<0)break;Y.push(w>>6|192,w&63|128)}else if(w<65536){if((y-=3)<0)break;Y.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((y-=4)<0)break;Y.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return Y}function ae(T){const y=[];for(let w=0;w<T.length;++w)y.push(T.charCodeAt(w)&255);return y}function le(T,y){let w,L,H;const Y=[];for(let se=0;se<T.length&&!((y-=2)<0);++se)w=T.charCodeAt(se),L=w>>8,H=w%256,Y.push(H),Y.push(L);return Y}function ie(T){return t.toByteArray(K(T))}function de(T,y,w,L){let H;for(H=0;H<L&&!(H+w>=y.length||H>=T.length);++H)y[H+w]=T[H];return H}function fe(T,y){return T instanceof y||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===y.name}function ve(T){return T!==T}const Ne=function(){const T="0123456789abcdef",y=new Array(256);for(let w=0;w<16;++w){const L=w*16;for(let H=0;H<16;++H)y[L+H]=T[w]+T[H]}return y}();function Le(T){return typeof BigInt>"u"?Je:T}function Je(){throw new Error("BigInt not supported")}})($r);let Zk=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let n="";for(let r=0;r<t.length;r++)n+=`    ${t[r].stack}
`;super(n),this.name="AggregateError",this.errors=t}};var Vt={AggregateError:Zk,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,n){return e.slice(t,n)},Error,FunctionPrototypeCall(e,t,...n){return e.call(t,...n)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,n){return e.then(t,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,n){return e.set(t,n)},Boolean,Uint8Array},gE={exports:{}},mE={format(e,...t){return e.replace(/%([sdifj])/g,function(...[n,r]){const i=t.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}};const{format:eO,inspect:fd}=mE,{AggregateError:tO}=Vt,nO=globalThis.AggregateError||tO,rO=Symbol("kIsNodeError"),iO=["string","function","number","object","Function","Object","boolean","bigint","symbol"],aO=/^([A-Z][a-z0-9]*)+$/,sO="__node_internal_",tf={};function ns(e,t){if(!e)throw new tf.ERR_INTERNAL_ASSERTION(t)}function Rb(e){let t="",n=e.length;const r=e[0]==="-"?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function oO(e,t,n){if(typeof t=="function")return ns(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const r=(t.match(/%[dfijoOs]/g)||[]).length;return ns(r===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${r}).`),n.length===0?t:eO(t,...n)}function cn(e,t,n){n||(n=Error);class r extends n{constructor(...a){super(oO(e,t,a))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=e,r.prototype[rO]=!0,tf[e]=r}function Db(e){const t=sO+e.name;return Object.defineProperty(e,"name",{value:t}),e}function lO(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new nO([t,e],t.message);return n.code=t.code,n}return e||t}let uO=class extends Error{constructor(t="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new tf.ERR_INVALID_ARG_TYPE("options","Object",n);super(t,n),this.code="ABORT_ERR",this.name="AbortError"}};cn("ERR_ASSERTION","%s",Error);cn("ERR_INVALID_ARG_TYPE",(e,t,n)=>{ns(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const i=[],a=[],s=[];for(const l of t)ns(typeof l=="string","All expected entries have to be of type string"),iO.includes(l)?i.push(l.toLowerCase()):aO.test(l)?a.push(l):(ns(l!=="object",'The value "object" should be written as "Object"'),s.push(l));if(a.length>0){const l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),a.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{const l=i.pop();r+=`one of type ${i.join(", ")}, or ${l}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const l=a.pop();r+=`an instance of ${a.join(", ")}, or ${l}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const l=s.pop();r+=`one of ${s.join(", ")}, or ${l}`}}if(n==null)r+=`. Received ${n}`;else if(typeof n=="function"&&n.name)r+=`. Received function ${n.name}`;else if(typeof n=="object"){var o;if((o=n.constructor)!==null&&o!==void 0&&o.name)r+=`. Received an instance of ${n.constructor.name}`;else{const l=fd(n,{depth:-1});r+=`. Received ${l}`}}else{let l=fd(n,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),r+=`. Received type ${typeof n} (${l})`}return r},TypeError);cn("ERR_INVALID_ARG_VALUE",(e,t,n="is invalid")=>{let r=fd(t);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${r}`},TypeError);cn("ERR_INVALID_RETURN_VALUE",(e,t,n)=>{var r;const i=n!=null&&(r=n.constructor)!==null&&r!==void 0&&r.name?`instance of ${n.constructor.name}`:`type ${typeof n}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);cn("ERR_MISSING_ARGS",(...e)=>{ns(e.length>0,"At least one arg needs to be specified");let t;const n=e.length;switch(e=(Array.isArray(e)?e:[e]).map(r=>`"${r}"`).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}break}return`${t} must be specified`},TypeError);cn("ERR_OUT_OF_RANGE",(e,t,n)=>{ns(t,'Missing "range" argument');let r;if(Number.isInteger(n)&&Math.abs(n)>2**32)r=Rb(String(n));else if(typeof n=="bigint"){r=String(n);const i=BigInt(2)**BigInt(32);(n>i||n<-i)&&(r=Rb(r)),r+="n"}else r=fd(n);return`The value of "${e}" is out of range. It must be ${t}. Received ${r}`},RangeError);cn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);cn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);cn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);cn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);cn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);cn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);cn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);cn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);cn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);cn("ERR_STREAM_WRITE_AFTER_END","write after end",Error);cn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var kn={AbortError:uO,aggregateTwoErrors:Db(lO),hideStackFrames:Db,codes:tf},Go={exports:{}},kb;function Zl(){if(kb)return Go.exports;kb=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Go.exports=e,Go.exports.AbortSignal=t,Go.exports.default=e,Go.exports}var ev={exports:{}},eo=typeof Reflect=="object"?Reflect:null,Ob=eo&&typeof eo.apply=="function"?eo.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Rc;eo&&typeof eo.ownKeys=="function"?Rc=eo.ownKeys:Object.getOwnPropertySymbols?Rc=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Rc=function(t){return Object.getOwnPropertyNames(t)};function cO(e){console&&console.warn&&console.warn(e)}var vE=Number.isNaN||function(t){return t!==t};function xt(){xt.init.call(this)}ev.exports=xt;ev.exports.once=pO;xt.EventEmitter=xt;xt.prototype._events=void 0;xt.prototype._eventsCount=0;xt.prototype._maxListeners=void 0;var Pb=10;function nf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(xt,"defaultMaxListeners",{enumerable:!0,get:function(){return Pb},set:function(e){if(typeof e!="number"||e<0||vE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Pb=e}});xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||vE(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function yE(e){return e._maxListeners===void 0?xt.defaultMaxListeners:e._maxListeners}xt.prototype.getMaxListeners=function(){return yE(this)};xt.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=a[t];if(l===void 0)return!1;if(typeof l=="function")Ob(l,this,n);else for(var u=l.length,c=SE(l,u),r=0;r<u;++r)Ob(c[r],this,n);return!0};function bE(e,t,n,r){var i,a,s;if(nf(n),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),s===void 0)s=a[t]=n,++e._eventsCount;else if(typeof s=="function"?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=yE(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,cO(o)}return e}xt.prototype.addListener=function(t,n){return bE(this,t,n,!1)};xt.prototype.on=xt.prototype.addListener;xt.prototype.prependListener=function(t,n){return bE(this,t,n,!0)};function dO(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _E(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=dO.bind(r);return i.listener=n,r.wrapFn=i,i}xt.prototype.once=function(t,n){return nf(n),this.on(t,_E(this,t,n)),this};xt.prototype.prependOnceListener=function(t,n){return nf(n),this.prependListener(t,_E(this,t,n)),this};xt.prototype.removeListener=function(t,n){var r,i,a,s,o;if(nf(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(a=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,a=s;break}if(a<0)return this;a===0?r.shift():fO(r,a),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,o||n)}return this};xt.prototype.off=xt.prototype.removeListener;xt.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var a=Object.keys(r),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function wE(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?hO(i):SE(i,i.length)}xt.prototype.listeners=function(t){return wE(this,t,!0)};xt.prototype.rawListeners=function(t){return wE(this,t,!1)};xt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):xE.call(e,t)};xt.prototype.listenerCount=xE;function xE(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}xt.prototype.eventNames=function(){return this._eventsCount>0?Rc(this._events):[]};function SE(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function fO(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function hO(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function pO(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,a),r(s)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}EE(e,t,a,{once:!0}),t!=="error"&&gO(e,i,{once:!0})})}function gO(e,t,n){typeof e.on=="function"&&EE(e,"error",t,n)}function EE(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(a){r.once&&e.removeEventListener(t,i),n(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var rf=ev.exports;(function(e){const t=$r,{format:n,inspect:r}=mE,{codes:{ERR_INVALID_ARG_TYPE:i}}=kn,{kResistStopPropagation:a,AggregateError:s,SymbolDispose:o}=Vt,l=globalThis.AbortSignal||Zl().AbortSignal,u=globalThis.AbortController||Zl().AbortController,c=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||t.Blob,f=typeof d<"u"?function(m){return m instanceof d}:function(m){return!1},h=(g,m)=>{if(g!==void 0&&(g===null||typeof g!="object"||!("aborted"in g)))throw new i(m,"AbortSignal",g)},p=(g,m)=>{if(typeof g!="function")throw new i(m,"Function",g)};e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(g){let m=!1;return function(...v){m||(m=!0,g.apply(this,v))}},createDeferredPromise:function(){let g,m;return{promise:new Promise((_,x)=>{g=_,m=x}),resolve:g,reject:m}},promisify(g){return new Promise((m,v)=>{g((_,...x)=>_?v(_):m(...x))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(g){return g instanceof c},isArrayBufferView(g){return ArrayBuffer.isView(g)}},isBlob:f,deprecate(g,m){return g},addAbortListener:rf.addAbortListener||function(m,v){if(m===void 0)throw new i("signal","AbortSignal",m);h(m,"signal"),p(v,"listener");let _;return m.aborted?queueMicrotask(()=>v()):(m.addEventListener("abort",v,{__proto__:null,once:!0,[a]:!0}),_=()=>{m.removeEventListener("abort",v)}),{__proto__:null,[o](){var x;(x=_)===null||x===void 0||x()}}},AbortSignalAny:l.any||function(m){if(m.length===1)return m[0];const v=new u,_=()=>v.abort();return m.forEach(x=>{h(x,"signals"),x.addEventListener("abort",_,{once:!0})}),v.signal.addEventListener("abort",()=>{m.forEach(x=>x.removeEventListener("abort",_))},{once:!0}),v.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(gE);var Bn=gE.exports,tv={};const{ArrayIsArray:nv,ArrayPrototypeIncludes:IE,ArrayPrototypeJoin:CE,ArrayPrototypeMap:mO,NumberIsInteger:rv,NumberIsNaN:vO,NumberMAX_SAFE_INTEGER:yO,NumberMIN_SAFE_INTEGER:bO,NumberParseInt:_O,ObjectPrototypeHasOwnProperty:wO,RegExpPrototypeExec:TE,String:xO,StringPrototypeToUpperCase:SO,StringPrototypeTrim:EO}=Vt,{hideStackFrames:br,codes:{ERR_SOCKET_BAD_PORT:IO,ERR_INVALID_ARG_TYPE:bn,ERR_INVALID_ARG_VALUE:xo,ERR_OUT_OF_RANGE:ls,ERR_UNKNOWN_SIGNAL:Lb}}=kn,{normalizeEncoding:CO}=Bn,{isAsyncFunction:TO,isArrayBufferView:AO}=Bn.types,Fb={};function NO(e){return e===(e|0)}function RO(e){return e===e>>>0}const DO=/^[0-7]+$/,kO="must be a 32-bit unsigned integer or an octal string";function OO(e,t,n){if(typeof e>"u"&&(e=n),typeof e=="string"){if(TE(DO,e)===null)throw new xo(t,e,kO);e=_O(e,8)}return AE(e,t),e}const PO=br((e,t,n=bO,r=yO)=>{if(typeof e!="number")throw new bn(t,"number",e);if(!rv(e))throw new ls(t,"an integer",e);if(e<n||e>r)throw new ls(t,`>= ${n} && <= ${r}`,e)}),LO=br((e,t,n=-2147483648,r=2147483647)=>{if(typeof e!="number")throw new bn(t,"number",e);if(!rv(e))throw new ls(t,"an integer",e);if(e<n||e>r)throw new ls(t,`>= ${n} && <= ${r}`,e)}),AE=br((e,t,n=!1)=>{if(typeof e!="number")throw new bn(t,"number",e);if(!rv(e))throw new ls(t,"an integer",e);const r=n?1:0,i=4294967295;if(e<r||e>i)throw new ls(t,`>= ${r} && <= ${i}`,e)});function iv(e,t){if(typeof e!="string")throw new bn(t,"string",e)}function FO(e,t,n=void 0,r){if(typeof e!="number")throw new bn(t,"number",e);if(n!=null&&e<n||r!=null&&e>r||(n!=null||r!=null)&&vO(e))throw new ls(t,`${n!=null?`>= ${n}`:""}${n!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,e)}const jO=br((e,t,n)=>{if(!IE(n,e)){const i="must be one of: "+CE(mO(n,a=>typeof a=="string"?`'${a}'`:xO(a)),", ");throw new xo(t,e,i)}});function NE(e,t){if(typeof e!="boolean")throw new bn(t,"boolean",e)}function Rh(e,t,n){return e==null||!wO(e,t)?n:e[t]}const $O=br((e,t,n=null)=>{const r=Rh(n,"allowArray",!1),i=Rh(n,"allowFunction",!1);if(!Rh(n,"nullable",!1)&&e===null||!r&&nv(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new bn(t,"Object",e)}),VO=br((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new bn(t,"a dictionary",e)}),af=br((e,t,n=0)=>{if(!nv(e))throw new bn(t,"Array",e);if(e.length<n){const r=`must be longer than ${n}`;throw new xo(t,e,r)}});function MO(e,t){af(e,t);for(let n=0;n<e.length;n++)iv(e[n],`${t}[${n}]`)}function BO(e,t){af(e,t);for(let n=0;n<e.length;n++)NE(e[n],`${t}[${n}]`)}function UO(e,t){af(e,t);for(let n=0;n<e.length;n++){const r=e[n],i=`${t}[${n}]`;if(r==null)throw new bn(i,"AbortSignal",r);RE(r,i)}}function HO(e,t="signal"){if(iv(e,t),Fb[e]===void 0)throw Fb[SO(e)]!==void 0?new Lb(e+" (signals must use all capital letters)"):new Lb(e)}const GO=br((e,t="buffer")=>{if(!AO(e))throw new bn(t,["Buffer","TypedArray","DataView"],e)});function WO(e,t){const n=CO(t),r=e.length;if(n==="hex"&&r%2!==0)throw new xo("encoding",t,`is invalid for data of length ${r}`)}function zO(e,t="Port",n=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&EO(e).length===0||+e!==+e>>>0||e>65535||e===0&&!n)throw new IO(t,e,n);return e|0}const RE=br((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new bn(t,"AbortSignal",e)}),KO=br((e,t)=>{if(typeof e!="function")throw new bn(t,"Function",e)}),qO=br((e,t)=>{if(typeof e!="function"||TO(e))throw new bn(t,"Function",e)}),JO=br((e,t)=>{if(e!==void 0)throw new bn(t,"undefined",e)});function YO(e,t,n){if(!IE(n,e))throw new bn(t,`('${CE(n,"|")}')`,e)}const QO=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function jb(e,t){if(typeof e>"u"||!TE(QO,e))throw new xo(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function XO(e){if(typeof e=="string")return jb(e,"hints"),e;if(nv(e)){const t=e.length;let n="";if(t===0)return n;for(let r=0;r<t;r++){const i=e[r];jb(i,"hints"),n+=i,r!==t-1&&(n+=", ")}return n}throw new xo("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var pu={isInt32:NO,isUint32:RO,parseFileMode:OO,validateArray:af,validateStringArray:MO,validateBooleanArray:BO,validateAbortSignalArray:UO,validateBoolean:NE,validateBuffer:GO,validateDictionary:VO,validateEncoding:WO,validateFunction:KO,validateInt32:LO,validateInteger:PO,validateNumber:FO,validateObject:$O,validateOneOf:jO,validatePlainFunction:qO,validatePort:zO,validateSignalName:HO,validateString:iv,validateUint32:AE,validateUndefined:JO,validateUnion:YO,validateAbortSignal:RE,validateLinkHeaderValue:XO},av={exports:{}},DE={exports:{}},Wt=DE.exports={},ti,ni;function mg(){throw new Error("setTimeout has not been defined")}function vg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ti=setTimeout:ti=mg}catch{ti=mg}try{typeof clearTimeout=="function"?ni=clearTimeout:ni=vg}catch{ni=vg}})();function kE(e){if(ti===setTimeout)return setTimeout(e,0);if((ti===mg||!ti)&&setTimeout)return ti=setTimeout,setTimeout(e,0);try{return ti(e,0)}catch{try{return ti.call(null,e,0)}catch{return ti.call(this,e,0)}}}function ZO(e){if(ni===clearTimeout)return clearTimeout(e);if((ni===vg||!ni)&&clearTimeout)return ni=clearTimeout,clearTimeout(e);try{return ni(e)}catch{try{return ni.call(null,e)}catch{return ni.call(this,e)}}}var Li=[],to=!1,Ya,Dc=-1;function eP(){!to||!Ya||(to=!1,Ya.length?Li=Ya.concat(Li):Dc=-1,Li.length&&OE())}function OE(){if(!to){var e=kE(eP);to=!0;for(var t=Li.length;t;){for(Ya=Li,Li=[];++Dc<t;)Ya&&Ya[Dc].run();Dc=-1,t=Li.length}Ya=null,to=!1,ZO(e)}}Wt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Li.push(new PE(e,t)),Li.length===1&&!to&&kE(OE)};function PE(e,t){this.fun=e,this.array=t}PE.prototype.run=function(){this.fun.apply(null,this.array)};Wt.title="browser";Wt.browser=!0;Wt.env={};Wt.argv=[];Wt.version="";Wt.versions={};function Hi(){}Wt.on=Hi;Wt.addListener=Hi;Wt.once=Hi;Wt.off=Hi;Wt.removeListener=Hi;Wt.removeAllListeners=Hi;Wt.emit=Hi;Wt.prependListener=Hi;Wt.prependOnceListener=Hi;Wt.listeners=function(e){return[]};Wt.binding=function(e){throw new Error("process.binding is not supported")};Wt.cwd=function(){return"/"};Wt.chdir=function(e){throw new Error("process.chdir is not supported")};Wt.umask=function(){return 0};var vs=DE.exports;const{SymbolAsyncIterator:$b,SymbolIterator:Vb,SymbolFor:ys}=Vt,LE=ys("nodejs.stream.destroyed"),FE=ys("nodejs.stream.errored"),yg=ys("nodejs.stream.readable"),bg=ys("nodejs.stream.writable"),jE=ys("nodejs.stream.disturbed"),tP=ys("nodejs.webstream.isClosedPromise"),nP=ys("nodejs.webstream.controllerErrorFunction");function sf(e,t=!1){var n;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((n=e._readableState)===null||n===void 0?void 0:n.readable)!==!1)&&(!e._writableState||e._readableState))}function of(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function rP(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function mi(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function $E(e){return!!(e&&!mi(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function VE(e){return!!(e&&!mi(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function ME(e){return!!(e&&!mi(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function iP(e){return $E(e)||VE(e)||ME(e)}function aP(e,t){return e==null?!1:t===!0?typeof e[$b]=="function":t===!1?typeof e[Vb]=="function":typeof e[$b]=="function"||typeof e[Vb]=="function"}function lf(e){if(!mi(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[LE]||r!=null&&r.destroyed)}function BE(e){if(!of(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function sP(e,t){if(!of(e))return null;if(e.writableFinished===!0)return!0;const n=e._writableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.finished)!="boolean"?null:!!(n.finished||t===!1&&n.ended===!0&&n.length===0)}function oP(e){if(!sf(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function UE(e,t){if(!sf(e))return null;const n=e._readableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.endEmitted)!="boolean"?null:!!(n.endEmitted||t===!1&&n.ended===!0&&n.length===0)}function HE(e){return e&&e[yg]!=null?e[yg]:typeof(e==null?void 0:e.readable)!="boolean"?null:lf(e)?!1:sf(e)&&e.readable&&!UE(e)}function GE(e){return e&&e[bg]!=null?e[bg]:typeof(e==null?void 0:e.writable)!="boolean"?null:lf(e)?!1:of(e)&&e.writable&&!BE(e)}function lP(e,t){return mi(e)?lf(e)?!0:!((t==null?void 0:t.readable)!==!1&&HE(e)||(t==null?void 0:t.writable)!==!1&&GE(e)):null}function uP(e){var t,n;return mi(e)?e.writableErrored?e.writableErrored:(t=(n=e._writableState)===null||n===void 0?void 0:n.errored)!==null&&t!==void 0?t:null:null}function cP(e){var t,n;return mi(e)?e.readableErrored?e.readableErrored:(t=(n=e._readableState)===null||n===void 0?void 0:n.errored)!==null&&t!==void 0?t:null:null}function dP(e){if(!mi(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,n=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(n==null?void 0:n.closed)=="boolean"?(t==null?void 0:t.closed)||(n==null?void 0:n.closed):typeof e._closed=="boolean"&&WE(e)?e._closed:null}function WE(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function zE(e){return typeof e._sent100=="boolean"&&WE(e)}function fP(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function hP(e){if(!mi(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&zE(e)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}function pP(e){var t;return!!(e&&((t=e[jE])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function gP(e){var t,n,r,i,a,s,o,l,u,c;return!!(e&&((t=(n=(r=(i=(a=(s=e[FE])!==null&&s!==void 0?s:e.readableErrored)!==null&&a!==void 0?a:e.writableErrored)!==null&&i!==void 0?i:(o=e._readableState)===null||o===void 0?void 0:o.errorEmitted)!==null&&r!==void 0?r:(l=e._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((c=e._writableState)===null||c===void 0)&&c.errored))}var Gi={isDestroyed:lf,kIsDestroyed:LE,isDisturbed:pP,kIsDisturbed:jE,isErrored:gP,kIsErrored:FE,isReadable:HE,kIsReadable:yg,kIsClosedPromise:tP,kControllerErrorFunction:nP,kIsWritable:bg,isClosed:dP,isDuplexNodeStream:rP,isFinished:lP,isIterable:aP,isReadableNodeStream:sf,isReadableStream:$E,isReadableEnded:oP,isReadableFinished:UE,isReadableErrored:cP,isNodeStream:mi,isWebStream:iP,isWritable:GE,isWritableNodeStream:of,isWritableStream:VE,isWritableEnded:BE,isWritableFinished:sP,isWritableErrored:uP,isServerRequest:fP,isServerResponse:zE,willEmitClose:hP,isTransformStream:ME};const na=vs,{AbortError:KE,codes:mP}=kn,{ERR_INVALID_ARG_TYPE:vP,ERR_STREAM_PREMATURE_CLOSE:Mb}=mP,{kEmptyObject:_g,once:wg}=Bn,{validateAbortSignal:yP,validateFunction:bP,validateObject:_P,validateBoolean:wP}=pu,{Promise:xP,PromisePrototypeThen:SP,SymbolDispose:qE}=Vt,{isClosed:EP,isReadable:Bb,isReadableNodeStream:Dh,isReadableStream:IP,isReadableFinished:Ub,isReadableErrored:Hb,isWritable:Gb,isWritableNodeStream:Wb,isWritableStream:CP,isWritableFinished:zb,isWritableErrored:Kb,isNodeStream:TP,willEmitClose:AP,kIsClosedPromise:NP}=Gi;let no;function RP(e){return e.setHeader&&typeof e.abort=="function"}const xg=()=>{};function JE(e,t,n){var r,i;if(arguments.length===2?(n=t,t=_g):t==null?t=_g:_P(t,"options"),bP(n,"callback"),yP(t.signal,"options.signal"),n=wg(n),IP(e)||CP(e))return DP(e,t,n);if(!TP(e))throw new vP("stream",["ReadableStream","WritableStream","Stream"],e);const a=(r=t.readable)!==null&&r!==void 0?r:Dh(e),s=(i=t.writable)!==null&&i!==void 0?i:Wb(e),o=e._writableState,l=e._readableState,u=()=>{e.writable||f()};let c=AP(e)&&Dh(e)===a&&Wb(e)===s,d=zb(e,!1);const f=()=>{d=!0,e.destroyed&&(c=!1),!(c&&(!e.readable||a))&&(!a||h)&&n.call(e)};let h=Ub(e,!1);const p=()=>{h=!0,e.destroyed&&(c=!1),!(c&&(!e.writable||s))&&(!s||d)&&n.call(e)},g=S=>{n.call(e,S)};let m=EP(e);const v=()=>{m=!0;const S=Kb(e)||Hb(e);if(S&&typeof S!="boolean")return n.call(e,S);if(a&&!h&&Dh(e,!0)&&!Ub(e,!1))return n.call(e,new Mb);if(s&&!d&&!zb(e,!1))return n.call(e,new Mb);n.call(e)},_=()=>{m=!0;const S=Kb(e)||Hb(e);if(S&&typeof S!="boolean")return n.call(e,S);n.call(e)},x=()=>{e.req.on("finish",f)};RP(e)?(e.on("complete",f),c||e.on("abort",v),e.req?x():e.on("request",x)):s&&!o&&(e.on("end",u),e.on("close",u)),!c&&typeof e.aborted=="boolean"&&e.on("aborted",v),e.on("end",p),e.on("finish",f),t.error!==!1&&e.on("error",g),e.on("close",v),m?na.nextTick(v):o!=null&&o.errorEmitted||l!=null&&l.errorEmitted?c||na.nextTick(_):(!a&&(!c||Bb(e))&&(d||Gb(e)===!1)||!s&&(!c||Gb(e))&&(h||Bb(e)===!1)||l&&e.req&&e.aborted)&&na.nextTick(_);const I=()=>{n=xg,e.removeListener("aborted",v),e.removeListener("complete",f),e.removeListener("abort",v),e.removeListener("request",x),e.req&&e.req.removeListener("finish",f),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",f),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",v)};if(t.signal&&!m){const S=()=>{const E=n;I(),E.call(e,new KE(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)na.nextTick(S);else{no=no||Bn.addAbortListener;const E=no(t.signal,S),N=n;n=wg((...A)=>{E[qE](),N.apply(e,A)})}}return I}function DP(e,t,n){let r=!1,i=xg;if(t.signal)if(i=()=>{r=!0,n.call(e,new KE(void 0,{cause:t.signal.reason}))},t.signal.aborted)na.nextTick(i);else{no=no||Bn.addAbortListener;const s=no(t.signal,i),o=n;n=wg((...l)=>{s[qE](),o.apply(e,l)})}const a=(...s)=>{r||na.nextTick(()=>n.apply(e,s))};return SP(e[NP].promise,a,a),xg}function kP(e,t){var n;let r=!1;return t===null&&(t=_g),(n=t)!==null&&n!==void 0&&n.cleanup&&(wP(t.cleanup,"cleanup"),r=t.cleanup),new xP((i,a)=>{const s=JE(e,t,o=>{r&&s(),o?a(o):i()})})}av.exports=JE;av.exports.finished=kP;var Ea=av.exports;const ci=vs,{aggregateTwoErrors:OP,codes:{ERR_MULTIPLE_CALLBACK:PP},AbortError:LP}=kn,{Symbol:YE}=Vt,{kIsDestroyed:FP,isDestroyed:jP,isFinished:$P,isServerRequest:VP}=Gi,QE=YE("kDestroy"),Sg=YE("kConstruct");function XE(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function MP(e,t){const n=this._readableState,r=this._writableState,i=r||n;return r!=null&&r.destroyed||n!=null&&n.destroyed?(typeof t=="function"&&t(),this):(XE(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?qb(this,e,t):this.once(QE,function(a){qb(this,OP(a,e),t)}),this)}function qb(e,t,n){let r=!1;function i(a){if(r)return;r=!0;const s=e._readableState,o=e._writableState;XE(a,o,s),o&&(o.closed=!0),s&&(s.closed=!0),typeof n=="function"&&n(a),a?ci.nextTick(BP,e,a):ci.nextTick(ZE,e)}try{e._destroy(t||null,i)}catch(a){i(a)}}function BP(e,t){Eg(e,t),ZE(e)}function ZE(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(n!=null&&n.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function Eg(e,t){const n=e._readableState,r=e._writableState;r!=null&&r.errorEmitted||n!=null&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function UP(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function Ig(e,t,n){const r=e._readableState,i=e._writableState;if(i!=null&&i.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||i!=null&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),r&&!r.errored&&(r.errored=t),n?ci.nextTick(Eg,e,t):Eg(e,t))}function HP(e,t){if(typeof e._construct!="function")return;const n=e._readableState,r=e._writableState;n&&(n.constructed=!1),r&&(r.constructed=!1),e.once(Sg,t),!(e.listenerCount(Sg)>1)&&ci.nextTick(GP,e)}function GP(e){let t=!1;function n(r){if(t){Ig(e,r??new PP);return}t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(QE,r):r?Ig(e,r,!0):ci.nextTick(WP,e)}try{e._construct(r=>{ci.nextTick(n,r)})}catch(r){ci.nextTick(n,r)}}function WP(e){e.emit(Sg)}function Jb(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function eI(e){e.emit("close")}function zP(e,t){e.emit("error",t),ci.nextTick(eI,e)}function KP(e,t){!e||jP(e)||(!t&&!$P(e)&&(t=new LP),VP(e)?(e.socket=null,e.destroy(t)):Jb(e)?e.abort():Jb(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?ci.nextTick(zP,e,t):ci.nextTick(eI,e),e.destroyed||(e[FP]=!0))}var So={construct:HP,destroyer:KP,destroy:MP,undestroy:UP,errorOrDestroy:Ig};const{ArrayIsArray:qP,ObjectSetPrototypeOf:tI}=Vt,{EventEmitter:uf}=rf;function cf(e){uf.call(this,e)}tI(cf.prototype,uf.prototype);tI(cf,uf);cf.prototype.pipe=function(e,t){const n=this;function r(c){e.writable&&e.write(c)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(n.on("end",s),n.on("close",o));let a=!1;function s(){a||(a=!0,e.end())}function o(){a||(a=!0,typeof e.destroy=="function"&&e.destroy())}function l(c){u(),uf.listenerCount(this,"error")===0&&this.emit("error",c)}Cg(n,"error",l),Cg(e,"error",l);function u(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",o),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e};function Cg(e,t,n){if(typeof e.prependListener=="function")return e.prependListener(t,n);!e._events||!e._events[t]?e.on(t,n):qP(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]}var sv={Stream:cf,prependListener:Cg},nI={exports:{}};(function(e){const{SymbolDispose:t}=Vt,{AbortError:n,codes:r}=kn,{isNodeStream:i,isWebStream:a,kControllerErrorFunction:s}=Gi,o=Ea,{ERR_INVALID_ARG_TYPE:l}=r;let u;const c=(d,f)=>{if(typeof d!="object"||!("aborted"in d))throw new l(f,"AbortSignal",d)};e.exports.addAbortSignal=function(f,h){if(c(f,"signal"),!i(h)&&!a(h))throw new l("stream",["ReadableStream","WritableStream","Stream"],h);return e.exports.addAbortSignalNoValidate(f,h)},e.exports.addAbortSignalNoValidate=function(d,f){if(typeof d!="object"||!("aborted"in d))return f;const h=i(f)?()=>{f.destroy(new n(void 0,{cause:d.reason}))}:()=>{f[s](new n(void 0,{cause:d.reason}))};if(d.aborted)h();else{u=u||Bn.addAbortListener;const p=u(d,h);o(f,p[t])}return f}})(nI);var df=nI.exports;const{StringPrototypeSlice:Yb,SymbolIterator:JP,TypedArrayPrototypeSet:Xu,Uint8Array:YP}=Vt,{Buffer:kh}=$r,{inspect:QP}=Bn;var XP=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}unshift(t){const n={data:t,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let n=this.head,r=""+n.data;for(;(n=n.next)!==null;)r+=t+n.data;return r}concat(t){if(this.length===0)return kh.alloc(0);const n=kh.allocUnsafe(t>>>0);let r=this.head,i=0;for(;r;)Xu(n,r.data,i),i+=r.data.length,r=r.next;return n}consume(t,n){const r=this.head.data;if(t<r.length){const i=r.slice(0,t);return this.head.data=r.slice(t),i}return t===r.length?this.shift():n?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[JP](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let n="",r=this.head,i=0;do{const a=r.data;if(t>a.length)n+=a,t-=a.length;else{t===a.length?(n+=a,++i,r.next?this.head=r.next:this.head=this.tail=null):(n+=Yb(a,0,t),this.head=r,r.data=Yb(a,t));break}++i}while((r=r.next)!==null);return this.length-=i,n}_getBuffer(t){const n=kh.allocUnsafe(t),r=t;let i=this.head,a=0;do{const s=i.data;if(t>s.length)Xu(n,s,r-t),t-=s.length;else{t===s.length?(Xu(n,s,r-t),++a,i.next?this.head=i.next:this.head=this.tail=null):(Xu(n,new YP(s.buffer,s.byteOffset,t),r-t),this.head=i,i.data=s.slice(t));break}++a}while((i=i.next)!==null);return this.length-=a,n}[Symbol.for("nodejs.util.inspect.custom")](t,n){return QP(this,{...n,depth:0,customInspect:!1})}};const{MathFloor:ZP,NumberIsInteger:eL}=Vt,{validateInteger:tL}=pu,{ERR_INVALID_ARG_VALUE:nL}=kn.codes;let rI=16*1024,iI=16;function rL(e,t,n){return e.highWaterMark!=null?e.highWaterMark:t?e[n]:null}function aI(e){return e?iI:rI}function iL(e,t){tL(t,"value",0),e?iI=t:rI=t}function aL(e,t,n,r){const i=rL(t,r,n);if(i!=null){if(!eL(i)||i<0){const a=r?`options.${n}`:"options.highWaterMark";throw new nL(a,i)}return ZP(i)}return aI(e.objectMode)}var ff={getHighWaterMark:aL,getDefaultHighWaterMark:aI,setDefaultHighWaterMark:iL},sI={},Tg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=$r,r=n.Buffer;function i(s,o){for(var l in s)o[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a);function a(s,o,l){return r(s,o,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(s,o,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,o,l)},a.alloc=function(s,o,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=r(s);return o!==void 0?typeof l=="string"?u.fill(o,l):u.fill(o):u.fill(0),u},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(Tg,Tg.exports);var sL=Tg.exports,ov=sL.Buffer,Qb=ov.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function oL(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function lL(e){var t=oL(e);if(typeof t!="string"&&(ov.isEncoding===Qb||!Qb(e)))throw new Error("Unknown encoding: "+e);return t||e}var uL=sI.StringDecoder=gu;function gu(e){this.encoding=lL(e);var t;switch(this.encoding){case"utf16le":this.text=gL,this.end=mL,t=4;break;case"utf8":this.fillLast=fL,t=4;break;case"base64":this.text=vL,this.end=yL,t=3;break;default:this.write=bL,this.end=_L;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ov.allocUnsafe(t)}gu.prototype.write=function(e){if(e.length===0)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""};gu.prototype.end=pL;gu.prototype.text=hL;gu.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Oh(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function cL(e,t,n){var r=t.length-1;if(r<n)return 0;var i=Oh(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||i===-2?0:(i=Oh(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||i===-2?0:(i=Oh(t[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function dL(e,t,n){if((t[0]&192)!==128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,""}}function fL(e){var t=this.lastTotal-this.lastNeed,n=dL(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function hL(e,t){var n=cL(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function pL(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function gL(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function mL(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function vL(e,t){var n=(e.length-t)%3;return n===0?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function yL(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function bL(e){return e.toString(this.encoding)}function _L(e){return e&&e.length?this.write(e):""}const Xb=vs,{PromisePrototypeThen:wL,SymbolAsyncIterator:Zb,SymbolIterator:e_}=Vt,{Buffer:xL}=$r,{ERR_INVALID_ARG_TYPE:SL,ERR_STREAM_NULL_VALUES:EL}=kn.codes;function IL(e,t,n){let r;if(typeof t=="string"||t instanceof xL)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});let i;if(t&&t[Zb])i=!0,r=t[Zb]();else if(t&&t[e_])i=!1,r=t[e_]();else throw new SL("iterable",["Iterable"],t);const a=new e({objectMode:!0,highWaterMark:1,...n});let s=!1;a._read=function(){s||(s=!0,l())},a._destroy=function(u,c){wL(o(u),()=>Xb.nextTick(c,u),d=>Xb.nextTick(c,d||u))};async function o(u){const c=u!=null,d=typeof r.throw=="function";if(c&&d){const{value:f,done:h}=await r.throw(u);if(await f,h)return}if(typeof r.return=="function"){const{value:f}=await r.return();await f}}async function l(){for(;;){try{const{value:u,done:c}=i?await r.next():r.next();if(c)a.push(null);else{const d=u&&typeof u.then=="function"?await u:u;if(d===null)throw s=!1,new EL;if(a.push(d))continue;s=!1}}catch(u){a.destroy(u)}break}}return a}var oI=IL,Ph,t_;function hf(){if(t_)return Ph;t_=1;const e=vs,{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:s,ObjectSetPrototypeOf:o,Promise:l,SafeSet:u,SymbolAsyncDispose:c,SymbolAsyncIterator:d,Symbol:f}=Vt;Ph=fe,fe.ReadableState=de;const{EventEmitter:h}=rf,{Stream:p,prependListener:g}=sv,{Buffer:m}=$r,{addAbortSignal:v}=df,_=Ea;let x=Bn.debuglog("stream",k=>{x=k});const I=XP,S=So,{getHighWaterMark:E,getDefaultHighWaterMark:N}=ff,{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_OUT_OF_RANGE:V,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:F},AbortError:U}=kn,{validateObject:J}=pu,G=f("kPaused"),{StringDecoder:he}=sI,ne=oI;o(fe.prototype,p.prototype),o(fe,p);const Z=()=>{},{errorOrDestroy:re}=S,W=1,ee=2,Q=4,oe=8,we=16,Se=32,De=64,Oe=128,Qe=256,qe=512,ge=1024,j=2048,C=4096,D=8192,B=16384,K=32768,z=65536,ae=1<<17,le=1<<18;function ie(k){return{enumerable:!1,get(){return(this.state&k)!==0},set($){$?this.state|=k:this.state&=~k}}}a(de.prototype,{objectMode:ie(W),ended:ie(ee),endEmitted:ie(Q),reading:ie(oe),constructed:ie(we),sync:ie(Se),needReadable:ie(De),emittedReadable:ie(Oe),readableListening:ie(Qe),resumeScheduled:ie(qe),errorEmitted:ie(ge),emitClose:ie(j),autoDestroy:ie(C),destroyed:ie(D),closed:ie(B),closeEmitted:ie(K),multiAwaitDrain:ie(z),readingMore:ie(ae),dataEmitted:ie(le)});function de(k,$,ye){typeof ye!="boolean"&&(ye=$ instanceof ji()),this.state=j|C|we|Se,k&&k.objectMode&&(this.state|=W),ye&&k&&k.readableObjectMode&&(this.state|=W),this.highWaterMark=k?E(this,k,"readableHighWaterMark",ye):N(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this[G]=null,k&&k.emitClose===!1&&(this.state&=-2049),k&&k.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=k&&k.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,k&&k.encoding&&(this.decoder=new he(k.encoding),this.encoding=k.encoding)}function fe(k){if(!(this instanceof fe))return new fe(k);const $=this instanceof ji();this._readableState=new de(k,this,$),k&&(typeof k.read=="function"&&(this._read=k.read),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.construct=="function"&&(this._construct=k.construct),k.signal&&!$&&v(k.signal,this)),p.call(this,k),S.construct(this,()=>{this._readableState.needReadable&&H(this,this._readableState)})}fe.prototype.destroy=S.destroy,fe.prototype._undestroy=S.undestroy,fe.prototype._destroy=function(k,$){$(k)},fe.prototype[h.captureRejectionSymbol]=function(k){this.destroy(k)},fe.prototype[c]=function(){let k;return this.destroyed||(k=this.readableEnded?null:new U,this.destroy(k)),new l(($,ye)=>_(this,_e=>_e&&_e!==k?ye(_e):$(null)))},fe.prototype.push=function(k,$){return ve(this,k,$,!1)},fe.prototype.unshift=function(k,$){return ve(this,k,$,!0)};function ve(k,$,ye,_e){x("readableAddChunk",$);const Fe=k._readableState;let qt;if(Fe.state&W||(typeof $=="string"?(ye=ye||Fe.defaultEncoding,Fe.encoding!==ye&&(_e&&Fe.encoding?$=m.from($,ye).toString(Fe.encoding):($=m.from($,ye),ye=""))):$ instanceof m?ye="":p._isUint8Array($)?($=p._uint8ArrayToBuffer($),ye=""):$!=null&&(qt=new R("chunk",["string","Buffer","Uint8Array"],$))),qt)re(k,qt);else if($===null)Fe.state&=-9,y(k,Fe);else if(Fe.state&W||$&&$.length>0)if(_e)if(Fe.state&Q)re(k,new F);else{if(Fe.destroyed||Fe.errored)return!1;Ne(k,Fe,$,!0)}else if(Fe.ended)re(k,new P);else{if(Fe.destroyed||Fe.errored)return!1;Fe.state&=-9,Fe.decoder&&!ye?($=Fe.decoder.write($),Fe.objectMode||$.length!==0?Ne(k,Fe,$,!1):H(k,Fe)):Ne(k,Fe,$,!1)}else _e||(Fe.state&=-9,H(k,Fe));return!Fe.ended&&(Fe.length<Fe.highWaterMark||Fe.length===0)}function Ne(k,$,ye,_e){$.flowing&&$.length===0&&!$.sync&&k.listenerCount("data")>0?($.state&z?$.awaitDrainWriters.clear():$.awaitDrainWriters=null,$.dataEmitted=!0,k.emit("data",ye)):($.length+=$.objectMode?1:ye.length,_e?$.buffer.unshift(ye):$.buffer.push(ye),$.state&De&&w(k)),H(k,$)}fe.prototype.isPaused=function(){const k=this._readableState;return k[G]===!0||k.flowing===!1},fe.prototype.setEncoding=function(k){const $=new he(k);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;const ye=this._readableState.buffer;let _e="";for(const Fe of ye)_e+=$.write(Fe);return ye.clear(),_e!==""&&ye.push(_e),this._readableState.length=_e.length,this};const Le=1073741824;function Je(k){if(k>Le)throw new V("size","<= 1GiB",k);return k--,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,k|=k>>>16,k++,k}function T(k,$){return k<=0||$.length===0&&$.ended?0:$.state&W?1:r(k)?$.flowing&&$.length?$.buffer.first().length:$.length:k<=$.length?k:$.ended?$.length:0}fe.prototype.read=function(k){x("read",k),k===void 0?k=NaN:n(k)||(k=i(k,10));const $=this._readableState,ye=k;if(k>$.highWaterMark&&($.highWaterMark=Je(k)),k!==0&&($.state&=-129),k===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return x("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?Vo(this):w(this),null;if(k=T(k,$),k===0&&$.ended)return $.length===0&&Vo(this),null;let _e=($.state&De)!==0;if(x("need readable",_e),($.length===0||$.length-k<$.highWaterMark)&&(_e=!0,x("length less than watermark",_e)),$.ended||$.reading||$.destroyed||$.errored||!$.constructed)_e=!1,x("reading, ended or constructing",_e);else if(_e){x("do read"),$.state|=oe|Se,$.length===0&&($.state|=De);try{this._read($.highWaterMark)}catch(qt){re(this,qt)}$.state&=-33,$.reading||(k=T(ye,$))}let Fe;return k>0?Fe=Is(k,$):Fe=null,Fe===null?($.needReadable=$.length<=$.highWaterMark,k=0):($.length-=k,$.multiAwaitDrain?$.awaitDrainWriters.clear():$.awaitDrainWriters=null),$.length===0&&($.ended||($.needReadable=!0),ye!==k&&$.ended&&Vo(this)),Fe!==null&&!$.errorEmitted&&!$.closeEmitted&&($.dataEmitted=!0,this.emit("data",Fe)),Fe};function y(k,$){if(x("onEofChunk"),!$.ended){if($.decoder){const ye=$.decoder.end();ye&&ye.length&&($.buffer.push(ye),$.length+=$.objectMode?1:ye.length)}$.ended=!0,$.sync?w(k):($.needReadable=!1,$.emittedReadable=!0,L(k))}}function w(k){const $=k._readableState;x("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(x("emitReadable",$.flowing),$.emittedReadable=!0,e.nextTick(L,k))}function L(k){const $=k._readableState;x("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&!$.errored&&($.length||$.ended)&&(k.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,ct(k)}function H(k,$){!$.readingMore&&$.constructed&&($.readingMore=!0,e.nextTick(Y,k,$))}function Y(k,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){const ye=$.length;if(x("maybeReadMore read 0"),k.read(0),ye===$.length)break}$.readingMore=!1}fe.prototype._read=function(k){throw new M("_read()")},fe.prototype.pipe=function(k,$){const ye=this,_e=this._readableState;_e.pipes.length===1&&(_e.multiAwaitDrain||(_e.multiAwaitDrain=!0,_e.awaitDrainWriters=new u(_e.awaitDrainWriters?[_e.awaitDrainWriters]:[]))),_e.pipes.push(k),x("pipe count=%d opts=%j",_e.pipes.length,$);const qt=(!$||$.end!==!1)&&k!==e.stdout&&k!==e.stderr?cy:Mo;_e.endEmitted?e.nextTick(qt):ye.once("end",qt),k.on("unpipe",sr);function sr(Aa,_i){x("onunpipe"),Aa===ye&&_i&&_i.hasUnpiped===!1&&(_i.hasUnpiped=!0,hA())}function cy(){x("onend"),k.end()}let Ta,dy=!1;function hA(){x("cleanup"),k.removeListener("close",lh),k.removeListener("finish",uh),Ta&&k.removeListener("drain",Ta),k.removeListener("error",oh),k.removeListener("unpipe",sr),ye.removeListener("end",cy),ye.removeListener("end",Mo),ye.removeListener("data",hy),dy=!0,Ta&&_e.awaitDrainWriters&&(!k._writableState||k._writableState.needDrain)&&Ta()}function fy(){dy||(_e.pipes.length===1&&_e.pipes[0]===k?(x("false write response, pause",0),_e.awaitDrainWriters=k,_e.multiAwaitDrain=!1):_e.pipes.length>1&&_e.pipes.includes(k)&&(x("false write response, pause",_e.awaitDrainWriters.size),_e.awaitDrainWriters.add(k)),ye.pause()),Ta||(Ta=se(ye,k),k.on("drain",Ta))}ye.on("data",hy);function hy(Aa){x("ondata");const _i=k.write(Aa);x("dest.write",_i),_i===!1&&fy()}function oh(Aa){if(x("onerror",Aa),Mo(),k.removeListener("error",oh),k.listenerCount("error")===0){const _i=k._writableState||k._readableState;_i&&!_i.errorEmitted?re(k,Aa):k.emit("error",Aa)}}g(k,"error",oh);function lh(){k.removeListener("finish",uh),Mo()}k.once("close",lh);function uh(){x("onfinish"),k.removeListener("close",lh),Mo()}k.once("finish",uh);function Mo(){x("unpipe"),ye.unpipe(k)}return k.emit("pipe",ye),k.writableNeedDrain===!0?fy():_e.flowing||(x("pipe resume"),ye.resume()),k};function se(k,$){return function(){const _e=k._readableState;_e.awaitDrainWriters===$?(x("pipeOnDrain",1),_e.awaitDrainWriters=null):_e.multiAwaitDrain&&(x("pipeOnDrain",_e.awaitDrainWriters.size),_e.awaitDrainWriters.delete($)),(!_e.awaitDrainWriters||_e.awaitDrainWriters.size===0)&&k.listenerCount("data")&&k.resume()}}fe.prototype.unpipe=function(k){const $=this._readableState,ye={hasUnpiped:!1};if($.pipes.length===0)return this;if(!k){const Fe=$.pipes;$.pipes=[],this.pause();for(let qt=0;qt<Fe.length;qt++)Fe[qt].emit("unpipe",this,{hasUnpiped:!1});return this}const _e=t($.pipes,k);return _e===-1?this:($.pipes.splice(_e,1),$.pipes.length===0&&this.pause(),k.emit("unpipe",this,ye),this)},fe.prototype.on=function(k,$){const ye=p.prototype.on.call(this,k,$),_e=this._readableState;return k==="data"?(_e.readableListening=this.listenerCount("readable")>0,_e.flowing!==!1&&this.resume()):k==="readable"&&!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.flowing=!1,_e.emittedReadable=!1,x("on readable",_e.length,_e.reading),_e.length?w(this):_e.reading||e.nextTick(Xe,this)),ye},fe.prototype.addListener=fe.prototype.on,fe.prototype.removeListener=function(k,$){const ye=p.prototype.removeListener.call(this,k,$);return k==="readable"&&e.nextTick(Ye,this),ye},fe.prototype.off=fe.prototype.removeListener,fe.prototype.removeAllListeners=function(k){const $=p.prototype.removeAllListeners.apply(this,arguments);return(k==="readable"||k===void 0)&&e.nextTick(Ye,this),$};function Ye(k){const $=k._readableState;$.readableListening=k.listenerCount("readable")>0,$.resumeScheduled&&$[G]===!1?$.flowing=!0:k.listenerCount("data")>0?k.resume():$.readableListening||($.flowing=null)}function Xe(k){x("readable nexttick read 0"),k.read(0)}fe.prototype.resume=function(){const k=this._readableState;return k.flowing||(x("resume"),k.flowing=!k.readableListening,nt(this,k)),k[G]=!1,this};function nt(k,$){$.resumeScheduled||($.resumeScheduled=!0,e.nextTick(bt,k,$))}function bt(k,$){x("resume",$.reading),$.reading||k.read(0),$.resumeScheduled=!1,k.emit("resume"),ct(k),$.flowing&&!$.reading&&k.read(0)}fe.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[G]=!0,this};function ct(k){const $=k._readableState;for(x("flow",$.flowing);$.flowing&&k.read()!==null;);}fe.prototype.wrap=function(k){let $=!1;k.on("data",_e=>{!this.push(_e)&&k.pause&&($=!0,k.pause())}),k.on("end",()=>{this.push(null)}),k.on("error",_e=>{re(this,_e)}),k.on("close",()=>{this.destroy()}),k.on("destroy",()=>{this.destroy()}),this._read=()=>{$&&k.resume&&($=!1,k.resume())};const ye=s(k);for(let _e=1;_e<ye.length;_e++){const Fe=ye[_e];this[Fe]===void 0&&typeof k[Fe]=="function"&&(this[Fe]=k[Fe].bind(k))}return this},fe.prototype[d]=function(){return zn(this)},fe.prototype.iterator=function(k){return k!==void 0&&J(k,"options"),zn(this,k)};function zn(k,$){typeof k.read!="function"&&(k=fe.wrap(k,{objectMode:!0}));const ye=Uu(k,$);return ye.stream=k,ye}async function*Uu(k,$){let ye=Z;function _e(sr){this===k?(ye(),ye=Z):ye=sr}k.on("readable",_e);let Fe;const qt=_(k,{writable:!1},sr=>{Fe=sr?A(Fe,sr):null,ye(),ye=Z});try{for(;;){const sr=k.destroyed?null:k.read();if(sr!==null)yield sr;else{if(Fe)throw Fe;if(Fe===null)return;await new l(_e)}}}catch(sr){throw Fe=A(Fe,sr),Fe}finally{(Fe||($==null?void 0:$.destroyOnReturn)!==!1)&&(Fe===void 0||k._readableState.autoDestroy)?S.destroyer(k,null):(k.off("readable",_e),qt())}}a(fe.prototype,{readable:{__proto__:null,get(){const k=this._readableState;return!!k&&k.readable!==!1&&!k.destroyed&&!k.errorEmitted&&!k.endEmitted},set(k){this._readableState&&(this._readableState.readable=!!k)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(k){this._readableState&&(this._readableState.destroyed=k)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(de.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[G]!==!1},set(k){this[G]=!!k}}}),fe._fromList=Is;function Is(k,$){if($.length===0)return null;let ye;return $.objectMode?ye=$.buffer.shift():!k||k>=$.length?($.decoder?ye=$.buffer.join(""):$.buffer.length===1?ye=$.buffer.first():ye=$.buffer.concat($.length),$.buffer.clear()):ye=$.buffer.consume(k,$.decoder),ye}function Vo(k){const $=k._readableState;x("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,e.nextTick(ot,$,k))}function ot(k,$){if(x("endReadableNT",k.endEmitted,k.length),!k.errored&&!k.closeEmitted&&!k.endEmitted&&k.length===0){if(k.endEmitted=!0,$.emit("end"),$.writable&&$.allowHalfOpen===!1)e.nextTick(We,$);else if(k.autoDestroy){const ye=$._writableState;(!ye||ye.autoDestroy&&(ye.finished||ye.writable===!1))&&$.destroy()}}}function We(k){k.writable&&!k.writableEnded&&!k.destroyed&&k.end()}fe.from=function(k,$){return ne(fe,k,$)};let St;function sn(){return St===void 0&&(St={}),St}return fe.fromWeb=function(k,$){return sn().newStreamReadableFromReadableStream(k,$)},fe.toWeb=function(k,$){return sn().newReadableStreamFromStreamReadable(k,$)},fe.wrap=function(k,$){var ye,_e;return new fe({objectMode:(ye=(_e=k.readableObjectMode)!==null&&_e!==void 0?_e:k.objectMode)!==null&&ye!==void 0?ye:!0,...$,destroy(Fe,qt){S.destroyer(k,Fe),qt(Fe)}}).wrap(k)},Ph}var Lh,n_;function lv(){if(n_)return Lh;n_=1;const e=vs,{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:o,Symbol:l,SymbolHasInstance:u}=Vt;Lh=J,J.WritableState=F;const{EventEmitter:c}=rf,d=sv.Stream,{Buffer:f}=$r,h=So,{addAbortSignal:p}=df,{getHighWaterMark:g,getDefaultHighWaterMark:m}=ff,{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:I,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:E,ERR_STREAM_NULL_VALUES:N,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:R}=kn.codes,{errorOrDestroy:M}=h;s(J.prototype,d.prototype),s(J,d);function V(){}const P=l("kOnFinished");function F(C,D,B){typeof B!="boolean"&&(B=D instanceof ji()),this.objectMode=!!(C&&C.objectMode),B&&(this.objectMode=this.objectMode||!!(C&&C.writableObjectMode)),this.highWaterMark=C?g(this,C,"writableHighWaterMark",B):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const K=!!(C&&C.decodeStrings===!1);this.decodeStrings=!K,this.defaultEncoding=C&&C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=re.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!C||C.emitClose!==!1,this.autoDestroy=!C||C.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function U(C){C.buffered=[],C.bufferedIndex=0,C.allBuffers=!0,C.allNoop=!0}F.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(F.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function J(C){const D=this instanceof ji();if(!D&&!r(J,this))return new J(C);this._writableState=new F(C,this,D),C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final),typeof C.construct=="function"&&(this._construct=C.construct),C.signal&&p(C.signal,this)),d.call(this,C),h.construct(this,()=>{const B=this._writableState;B.writing||oe(this,B),Oe(this,B)})}i(J,u,{__proto__:null,value:function(C){return r(this,C)?!0:this!==J?!1:C&&C._writableState instanceof F}}),J.prototype.pipe=function(){M(this,new I)};function G(C,D,B,K){const z=C._writableState;if(typeof B=="function")K=B,B=z.defaultEncoding;else{if(!B)B=z.defaultEncoding;else if(B!=="buffer"&&!f.isEncoding(B))throw new R(B);typeof K!="function"&&(K=V)}if(D===null)throw new N;if(!z.objectMode)if(typeof D=="string")z.decodeStrings!==!1&&(D=f.from(D,B),B="buffer");else if(D instanceof f)B="buffer";else if(d._isUint8Array(D))D=d._uint8ArrayToBuffer(D),B="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],D);let ae;return z.ending?ae=new A:z.destroyed&&(ae=new S("write")),ae?(e.nextTick(K,ae),M(C,ae,!0),ae):(z.pendingcb++,he(C,z,D,B,K))}J.prototype.write=function(C,D,B){return G(this,C,D,B)===!0},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){const C=this._writableState;C.corked&&(C.corked--,C.writing||oe(this,C))},J.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=o(D)),!f.isEncoding(D))throw new R(D);return this._writableState.defaultEncoding=D,this};function he(C,D,B,K,z){const ae=D.objectMode?1:B.length;D.length+=ae;const le=D.length<D.highWaterMark;return le||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:B,encoding:K,callback:z}),D.allBuffers&&K!=="buffer"&&(D.allBuffers=!1),D.allNoop&&z!==V&&(D.allNoop=!1)):(D.writelen=ae,D.writecb=z,D.writing=!0,D.sync=!0,C._write(B,K,D.onwrite),D.sync=!1),le&&!D.errored&&!D.destroyed}function ne(C,D,B,K,z,ae,le){D.writelen=K,D.writecb=le,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new S("write")):B?C._writev(z,D.onwrite):C._write(z,ae,D.onwrite),D.sync=!1}function Z(C,D,B,K){--D.pendingcb,K(B),Q(D),M(C,B)}function re(C,D){const B=C._writableState,K=B.sync,z=B.writecb;if(typeof z!="function"){M(C,new x);return}B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0,D?(D.stack,B.errored||(B.errored=D),C._readableState&&!C._readableState.errored&&(C._readableState.errored=D),K?e.nextTick(Z,C,B,D,z):Z(C,B,D,z)):(B.buffered.length>B.bufferedIndex&&oe(C,B),K?B.afterWriteTickInfo!==null&&B.afterWriteTickInfo.cb===z?B.afterWriteTickInfo.count++:(B.afterWriteTickInfo={count:1,cb:z,stream:C,state:B},e.nextTick(W,B.afterWriteTickInfo)):ee(C,B,1,z))}function W({stream:C,state:D,count:B,cb:K}){return D.afterWriteTickInfo=null,ee(C,D,B,K)}function ee(C,D,B,K){for(!D.ending&&!C.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,C.emit("drain"));B-- >0;)D.pendingcb--,K();D.destroyed&&Q(D),Oe(C,D)}function Q(C){if(C.writing)return;for(let z=C.bufferedIndex;z<C.buffered.length;++z){var D;const{chunk:ae,callback:le}=C.buffered[z],ie=C.objectMode?1:ae.length;C.length-=ie,le((D=C.errored)!==null&&D!==void 0?D:new S("write"))}const B=C[P].splice(0);for(let z=0;z<B.length;z++){var K;B[z]((K=C.errored)!==null&&K!==void 0?K:new S("end"))}U(C)}function oe(C,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;const{buffered:B,bufferedIndex:K,objectMode:z}=D,ae=B.length-K;if(!ae)return;let le=K;if(D.bufferProcessing=!0,ae>1&&C._writev){D.pendingcb-=ae-1;const ie=D.allNoop?V:fe=>{for(let ve=le;ve<B.length;++ve)B[ve].callback(fe)},de=D.allNoop&&le===0?B:t(B,le);de.allBuffers=D.allBuffers,ne(C,D,!0,D.length,de,"",ie),U(D)}else{do{const{chunk:ie,encoding:de,callback:fe}=B[le];B[le++]=null;const ve=z?1:ie.length;ne(C,D,!1,ve,ie,de,fe)}while(le<B.length&&!D.writing);le===B.length?U(D):le>256?(B.splice(0,le),D.bufferedIndex=0):D.bufferedIndex=le}D.bufferProcessing=!1}J.prototype._write=function(C,D,B){if(this._writev)this._writev([{chunk:C,encoding:D}],B);else throw new _("_write()")},J.prototype._writev=null,J.prototype.end=function(C,D,B){const K=this._writableState;typeof C=="function"?(B=C,C=null,D=null):typeof D=="function"&&(B=D,D=null);let z;if(C!=null){const ae=G(this,C,D);ae instanceof n&&(z=ae)}return K.corked&&(K.corked=1,this.uncork()),z||(!K.errored&&!K.ending?(K.ending=!0,Oe(this,K,!0),K.ended=!0):K.finished?z=new E("end"):K.destroyed&&(z=new S("end"))),typeof B=="function"&&(z||K.finished?e.nextTick(B,z):K[P].push(B)),this};function we(C){return C.ending&&!C.destroyed&&C.constructed&&C.length===0&&!C.errored&&C.buffered.length===0&&!C.finished&&!C.writing&&!C.errorEmitted&&!C.closeEmitted}function Se(C,D){let B=!1;function K(z){if(B){M(C,z??x());return}if(B=!0,D.pendingcb--,z){const ae=D[P].splice(0);for(let le=0;le<ae.length;le++)ae[le](z);M(C,z,D.sync)}else we(D)&&(D.prefinished=!0,C.emit("prefinish"),D.pendingcb++,e.nextTick(Qe,C,D))}D.sync=!0,D.pendingcb++;try{C._final(K)}catch(z){K(z)}D.sync=!1}function De(C,D){!D.prefinished&&!D.finalCalled&&(typeof C._final=="function"&&!D.destroyed?(D.finalCalled=!0,Se(C,D)):(D.prefinished=!0,C.emit("prefinish")))}function Oe(C,D,B){we(D)&&(De(C,D),D.pendingcb===0&&(B?(D.pendingcb++,e.nextTick((K,z)=>{we(z)?Qe(K,z):z.pendingcb--},C,D)):we(D)&&(D.pendingcb++,Qe(C,D))))}function Qe(C,D){D.pendingcb--,D.finished=!0;const B=D[P].splice(0);for(let K=0;K<B.length;K++)B[K]();if(C.emit("finish"),D.autoDestroy){const K=C._readableState;(!K||K.autoDestroy&&(K.endEmitted||K.readable===!1))&&C.destroy()}}a(J.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(C){this._writableState&&(this._writableState.destroyed=C)}},writable:{__proto__:null,get(){const C=this._writableState;return!!C&&C.writable!==!1&&!C.destroyed&&!C.errored&&!C.ending&&!C.ended},set(C){this._writableState&&(this._writableState.writable=!!C)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const C=this._writableState;return C?!C.destroyed&&!C.ending&&C.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const qe=h.destroy;J.prototype.destroy=function(C,D){const B=this._writableState;return!B.destroyed&&(B.bufferedIndex<B.buffered.length||B[P].length)&&e.nextTick(Q,B),qe.call(this,C,D),this},J.prototype._undestroy=h.undestroy,J.prototype._destroy=function(C,D){D(C)},J.prototype[c.captureRejectionSymbol]=function(C){this.destroy(C)};let ge;function j(){return ge===void 0&&(ge={}),ge}return J.fromWeb=function(C,D){return j().newStreamWritableFromWritableStream(C,D)},J.toWeb=function(C){return j().newWritableStreamFromStreamWritable(C)},Lh}var Fh,r_;function CL(){if(r_)return Fh;r_=1;const e=vs,t=$r,{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:s,isWritableNodeStream:o,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:c}=Gi,d=Ea,{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p}}=kn,{destroyer:g}=So,m=ji(),v=hf(),_=lv(),{createDeferredPromise:x}=Bn,I=oI,S=globalThis.Blob||t.Blob,E=typeof S<"u"?function(F){return F instanceof S}:function(F){return!1},N=globalThis.AbortController||Zl().AbortController,{FunctionPrototypeCall:A}=Vt;class R extends m{constructor(F){super(F),(F==null?void 0:F.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(F==null?void 0:F.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Fh=function P(F,U){if(l(F))return F;if(s(F))return V({readable:F});if(o(F))return V({writable:F});if(a(F))return V({writable:!1,readable:!1});if(u(F))return V({readable:v.fromWeb(F)});if(c(F))return V({writable:_.fromWeb(F)});if(typeof F=="function"){const{value:G,write:he,final:ne,destroy:Z}=M(F);if(i(G))return I(R,G,{objectMode:!0,write:he,final:ne,destroy:Z});const re=G==null?void 0:G.then;if(typeof re=="function"){let W;const ee=A(re,G,Q=>{if(Q!=null)throw new p("nully","body",Q)},Q=>{g(W,Q)});return W=new R({objectMode:!0,readable:!1,write:he,final(Q){ne(async()=>{try{await ee,e.nextTick(Q,null)}catch(oe){e.nextTick(Q,oe)}})},destroy:Z})}throw new p("Iterable, AsyncIterable or AsyncFunction",U,G)}if(E(F))return P(F.arrayBuffer());if(i(F))return I(R,F,{objectMode:!0,writable:!1});if(u(F==null?void 0:F.readable)&&c(F==null?void 0:F.writable))return R.fromWeb(F);if(typeof(F==null?void 0:F.writable)=="object"||typeof(F==null?void 0:F.readable)=="object"){const G=F!=null&&F.readable?s(F==null?void 0:F.readable)?F==null?void 0:F.readable:P(F.readable):void 0,he=F!=null&&F.writable?o(F==null?void 0:F.writable)?F==null?void 0:F.writable:P(F.writable):void 0;return V({readable:G,writable:he})}const J=F==null?void 0:F.then;if(typeof J=="function"){let G;return A(J,F,he=>{he!=null&&G.push(he),G.push(null)},he=>{g(G,he)}),G=new R({objectMode:!0,writable:!1,read(){}})}throw new h(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],F)};function M(P){let{promise:F,resolve:U}=x();const J=new N,G=J.signal;return{value:P(async function*(){for(;;){const ne=F;F=null;const{chunk:Z,done:re,cb:W}=await ne;if(e.nextTick(W),re)return;if(G.aborted)throw new f(void 0,{cause:G.reason});({promise:F,resolve:U}=x()),yield Z}}(),{signal:G}),write(ne,Z,re){const W=U;U=null,W({chunk:ne,done:!1,cb:re})},final(ne){const Z=U;U=null,Z({done:!0,cb:ne})},destroy(ne,Z){J.abort(),Z(ne)}}}function V(P){const F=P.readable&&typeof P.readable.read!="function"?v.wrap(P.readable):P.readable,U=P.writable;let J=!!n(F),G=!!r(U),he,ne,Z,re,W;function ee(Q){const oe=re;re=null,oe?oe(Q):Q&&W.destroy(Q)}return W=new R({readableObjectMode:!!(F!=null&&F.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:J,writable:G}),G&&(d(U,Q=>{G=!1,Q&&g(F,Q),ee(Q)}),W._write=function(Q,oe,we){U.write(Q,oe)?we():he=we},W._final=function(Q){U.end(),ne=Q},U.on("drain",function(){if(he){const Q=he;he=null,Q()}}),U.on("finish",function(){if(ne){const Q=ne;ne=null,Q()}})),J&&(d(F,Q=>{J=!1,Q&&g(F,Q),ee(Q)}),F.on("readable",function(){if(Z){const Q=Z;Z=null,Q()}}),F.on("end",function(){W.push(null)}),W._read=function(){for(;;){const Q=F.read();if(Q===null){Z=W._read;return}if(!W.push(Q))return}}),W._destroy=function(Q,oe){!Q&&re!==null&&(Q=new f),Z=null,he=null,ne=null,re===null?oe(Q):(re=oe,g(U,Q),g(F,Q))},W}return Fh}var jh,i_;function ji(){if(i_)return jh;i_=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=Vt;jh=s;const i=hf(),a=lv();r(s.prototype,i.prototype),r(s,i);{const c=n(a.prototype);for(let d=0;d<c.length;d++){const f=c[d];s.prototype[f]||(s.prototype[f]=a.prototype[f])}}function s(c){if(!(this instanceof s))return new s(c);i.call(this,c),a.call(this,c),c?(this.allowHalfOpen=c.allowHalfOpen!==!1,c.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),c.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(c){this._readableState&&this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}});let o;function l(){return o===void 0&&(o={}),o}s.fromWeb=function(c,d){return l().newStreamDuplexFromReadableWritablePair(c,d)},s.toWeb=function(c){return l().newReadableWritablePairFromDuplex(c)};let u;return s.from=function(c){return u||(u=CL()),u(c,"body")},jh}const{ObjectSetPrototypeOf:lI,Symbol:TL}=Vt;var uI=$i;const{ERR_METHOD_NOT_IMPLEMENTED:AL}=kn.codes,uv=ji(),{getHighWaterMark:NL}=ff;lI($i.prototype,uv.prototype);lI($i,uv);const Ol=TL("kCallback");function $i(e){if(!(this instanceof $i))return new $i(e);const t=e?NL(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),uv.call(this,e),this._readableState.sync=!1,this[Ol]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",RL)}function Ag(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,n)=>{if(t){e?e(t):this.destroy(t);return}n!=null&&this.push(n),this.push(null),e&&e()}):(this.push(null),e&&e())}function RL(){this._final!==Ag&&Ag.call(this)}$i.prototype._final=Ag;$i.prototype._transform=function(e,t,n){throw new AL("_transform()")};$i.prototype._write=function(e,t,n){const r=this._readableState,i=this._writableState,a=r.length;this._transform(e,t,(s,o)=>{if(s){n(s);return}o!=null&&this.push(o),i.ended||a===r.length||r.length<r.highWaterMark?n():this[Ol]=n})};$i.prototype._read=function(){if(this[Ol]){const e=this[Ol];this[Ol]=null,e()}};const{ObjectSetPrototypeOf:cI}=Vt;var dI=po;const cv=uI;cI(po.prototype,cv.prototype);cI(po,cv);function po(e){if(!(this instanceof po))return new po(e);cv.call(this,e)}po.prototype._transform=function(e,t,n){n(null,e)};const vl=vs,{ArrayIsArray:DL,Promise:kL,SymbolAsyncIterator:OL,SymbolDispose:PL}=Vt,hd=Ea,{once:LL}=Bn,FL=So,a_=ji(),{aggregateTwoErrors:jL,codes:{ERR_INVALID_ARG_TYPE:Ng,ERR_INVALID_RETURN_VALUE:$h,ERR_MISSING_ARGS:$L,ERR_STREAM_DESTROYED:VL,ERR_STREAM_PREMATURE_CLOSE:ML},AbortError:BL}=kn,{validateFunction:UL,validateAbortSignal:HL}=pu,{isIterable:Ha,isReadable:Vh,isReadableNodeStream:kc,isNodeStream:s_,isTransformStream:Vs,isWebStream:GL,isReadableStream:Mh,isReadableFinished:WL}=Gi,zL=globalThis.AbortController||Zl().AbortController;let Bh,Uh,Hh;function o_(e,t,n){let r=!1;e.on("close",()=>{r=!0});const i=hd(e,{readable:t,writable:n},a=>{r=!a});return{destroy:a=>{r||(r=!0,FL.destroyer(e,a||new VL("pipe")))},cleanup:i}}function KL(e){return UL(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function Gh(e){if(Ha(e))return e;if(kc(e))return qL(e);throw new Ng("val",["Readable","Iterable","AsyncIterable"],e)}async function*qL(e){Uh||(Uh=hf()),yield*Uh.prototype[OL].call(e)}async function Zu(e,t,n,{end:r}){let i,a=null;const s=u=>{if(u&&(i=u),a){const c=a;a=null,c()}},o=()=>new kL((u,c)=>{i?c(i):a=()=>{i?c(i):u()}});t.on("drain",s);const l=hd(t,{readable:!1},s);try{t.writableNeedDrain&&await o();for await(const u of e)t.write(u)||await o();r&&(t.end(),await o()),n()}catch(u){n(i!==u?jL(i,u):u)}finally{l(),t.off("drain",s)}}async function Wh(e,t,n,{end:r}){Vs(t)&&(t=t.writable);const i=t.getWriter();try{for await(const a of e)await i.ready,i.write(a).catch(()=>{});await i.ready,r&&await i.close(),n()}catch(a){try{await i.abort(a),n(a)}catch(s){n(s)}}}function JL(...e){return fI(e,LL(KL(e)))}function fI(e,t,n){if(e.length===1&&DL(e[0])&&(e=e[0]),e.length<2)throw new $L("streams");const r=new zL,i=r.signal,a=n==null?void 0:n.signal,s=[];HL(a,"options.signal");function o(){p(new BL)}Hh=Hh||Bn.addAbortListener;let l;a&&(l=Hh(a,o));let u,c;const d=[];let f=0;function h(_){p(_,--f===0)}function p(_,x){var I;if(_&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=_),!(!u&&!x)){for(;d.length;)d.shift()(u);(I=l)===null||I===void 0||I[PL](),r.abort(),x&&(u||s.forEach(S=>S()),vl.nextTick(t,u,c))}}let g;for(let _=0;_<e.length;_++){const x=e[_],I=_<e.length-1,S=_>0,E=I||(n==null?void 0:n.end)!==!1,N=_===e.length-1;if(s_(x)){let A=function(R){R&&R.name!=="AbortError"&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"&&h(R)};if(E){const{destroy:R,cleanup:M}=o_(x,I,S);d.push(R),Vh(x)&&N&&s.push(M)}x.on("error",A),Vh(x)&&N&&s.push(()=>{x.removeListener("error",A)})}if(_===0)if(typeof x=="function"){if(g=x({signal:i}),!Ha(g))throw new $h("Iterable, AsyncIterable or Stream","source",g)}else Ha(x)||kc(x)||Vs(x)?g=x:g=a_.from(x);else if(typeof x=="function"){if(Vs(g)){var m;g=Gh((m=g)===null||m===void 0?void 0:m.readable)}else g=Gh(g);if(g=x(g,{signal:i}),I){if(!Ha(g,!0))throw new $h("AsyncIterable",`transform[${_-1}]`,g)}else{var v;Bh||(Bh=dI);const A=new Bh({objectMode:!0}),R=(v=g)===null||v===void 0?void 0:v.then;if(typeof R=="function")f++,R.call(g,P=>{c=P,P!=null&&A.write(P),E&&A.end(),vl.nextTick(h)},P=>{A.destroy(P),vl.nextTick(h,P)});else if(Ha(g,!0))f++,Zu(g,A,h,{end:E});else if(Mh(g)||Vs(g)){const P=g.readable||g;f++,Zu(P,A,h,{end:E})}else throw new $h("AsyncIterable or Promise","destination",g);g=A;const{destroy:M,cleanup:V}=o_(g,!1,!0);d.push(M),N&&s.push(V)}}else if(s_(x)){if(kc(g)){f+=2;const A=YL(g,x,h,{end:E});Vh(x)&&N&&s.push(A)}else if(Vs(g)||Mh(g)){const A=g.readable||g;f++,Zu(A,x,h,{end:E})}else if(Ha(g))f++,Zu(g,x,h,{end:E});else throw new Ng("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=x}else if(GL(x)){if(kc(g))f++,Wh(Gh(g),x,h,{end:E});else if(Mh(g)||Ha(g))f++,Wh(g,x,h,{end:E});else if(Vs(g))f++,Wh(g.readable,x,h,{end:E});else throw new Ng("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);g=x}else g=a_.from(x)}return(i!=null&&i.aborted||a!=null&&a.aborted)&&vl.nextTick(o),g}function YL(e,t,n,{end:r}){let i=!1;if(t.on("close",()=>{i||n(new ML)}),e.pipe(t,{end:!1}),r){let a=function(){i=!0,t.end()};WL(e)?vl.nextTick(a):e.once("end",a)}else n();return hd(e,{readable:!0,writable:!1},a=>{const s=e._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?e.once("end",n).once("error",n):n(a)}),hd(t,{readable:!1,writable:!0},n)}var dv={pipelineImpl:fI,pipeline:JL};const{pipeline:QL}=dv,ec=ji(),{destroyer:XL}=So,{isNodeStream:tc,isReadable:l_,isWritable:u_,isWebStream:zh,isTransformStream:Pa,isWritableStream:c_,isReadableStream:d_}=Gi,{AbortError:ZL,codes:{ERR_INVALID_ARG_VALUE:f_,ERR_MISSING_ARGS:eF}}=kn,tF=Ea;var hI=function(...t){if(t.length===0)throw new eF("streams");if(t.length===1)return ec.from(t[0]);const n=[...t];if(typeof t[0]=="function"&&(t[0]=ec.from(t[0])),typeof t[t.length-1]=="function"){const h=t.length-1;t[h]=ec.from(t[h])}for(let h=0;h<t.length;++h)if(!(!tc(t[h])&&!zh(t[h]))){if(h<t.length-1&&!(l_(t[h])||d_(t[h])||Pa(t[h])))throw new f_(`streams[${h}]`,n[h],"must be readable");if(h>0&&!(u_(t[h])||c_(t[h])||Pa(t[h])))throw new f_(`streams[${h}]`,n[h],"must be writable")}let r,i,a,s,o;function l(h){const p=s;s=null,p?p(h):h?o.destroy(h):!f&&!d&&o.destroy()}const u=t[0],c=QL(t,l),d=!!(u_(u)||c_(u)||Pa(u)),f=!!(l_(c)||d_(c)||Pa(c));if(o=new ec({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(c!=null&&c.readableObjectMode),writable:d,readable:f}),d){if(tc(u))o._write=function(p,g,m){u.write(p,g)?m():r=m},o._final=function(p){u.end(),i=p},u.on("drain",function(){if(r){const p=r;r=null,p()}});else if(zh(u)){const g=(Pa(u)?u.writable:u).getWriter();o._write=async function(m,v,_){try{await g.ready,g.write(m).catch(()=>{}),_()}catch(x){_(x)}},o._final=async function(m){try{await g.ready,g.close().catch(()=>{}),i=m}catch(v){m(v)}}}const h=Pa(c)?c.readable:c;tF(h,()=>{if(i){const p=i;i=null,p()}})}if(f){if(tc(c))c.on("readable",function(){if(a){const h=a;a=null,h()}}),c.on("end",function(){o.push(null)}),o._read=function(){for(;;){const h=c.read();if(h===null){a=o._read;return}if(!o.push(h))return}};else if(zh(c)){const p=(Pa(c)?c.readable:c).getReader();o._read=async function(){for(;;)try{const{value:g,done:m}=await p.read();if(!o.push(g))return;if(m){o.push(null);return}}catch{return}}}}return o._destroy=function(h,p){!h&&s!==null&&(h=new ZL),a=null,r=null,i=null,s===null?p(h):(s=p,tc(c)&&XL(c,h))},o};const nF=globalThis.AbortController||Zl().AbortController,{codes:{ERR_INVALID_ARG_VALUE:rF,ERR_INVALID_ARG_TYPE:mu,ERR_MISSING_ARGS:iF,ERR_OUT_OF_RANGE:aF},AbortError:di}=kn,{validateAbortSignal:bs,validateInteger:h_,validateObject:_s}=pu,sF=Vt.Symbol("kWeak"),oF=Vt.Symbol("kResistStopPropagation"),{finished:lF}=Ea,uF=hI,{addAbortSignalNoValidate:cF}=df,{isWritable:dF,isNodeStream:fF}=Gi,{deprecate:hF}=Bn,{ArrayPrototypePush:pF,Boolean:gF,MathFloor:p_,Number:mF,NumberIsNaN:vF,Promise:g_,PromiseReject:m_,PromiseResolve:yF,PromisePrototypeThen:v_,Symbol:pI}=Vt,pd=pI("kEmpty"),y_=pI("kEof");function bF(e,t){if(t!=null&&_s(t,"options"),(t==null?void 0:t.signal)!=null&&bs(t.signal,"options.signal"),fF(e)&&!dF(e))throw new rF("stream",e,"must be writable");const n=uF(this,e);return t!=null&&t.signal&&cF(t.signal,n),n}function pf(e,t){if(typeof e!="function")throw new mu("fn",["Function","AsyncFunction"],e);t!=null&&_s(t,"options"),(t==null?void 0:t.signal)!=null&&bs(t.signal,"options.signal");let n=1;(t==null?void 0:t.concurrency)!=null&&(n=p_(t.concurrency));let r=n-1;return(t==null?void 0:t.highWaterMark)!=null&&(r=p_(t.highWaterMark)),h_(n,"options.concurrency",1),h_(r,"options.highWaterMark",0),r+=n,(async function*(){const a=Bn.AbortSignalAny([t==null?void 0:t.signal].filter(gF)),s=this,o=[],l={signal:a};let u,c,d=!1,f=0;function h(){d=!0,p()}function p(){f-=1,g()}function g(){c&&!d&&f<n&&o.length<r&&(c(),c=null)}async function m(){try{for await(let v of s){if(d)return;if(a.aborted)throw new di;try{if(v=e(v,l),v===pd)continue;v=yF(v)}catch(_){v=m_(_)}f+=1,v_(v,p,h),o.push(v),u&&(u(),u=null),!d&&(o.length>=r||f>=n)&&await new g_(_=>{c=_})}o.push(y_)}catch(v){const _=m_(v);v_(_,p,h),o.push(_)}finally{d=!0,u&&(u(),u=null)}}m();try{for(;;){for(;o.length>0;){const v=await o[0];if(v===y_)return;if(a.aborted)throw new di;v!==pd&&(yield v),o.shift(),g()}await new g_(v=>{u=v})}}finally{d=!0,c&&(c(),c=null)}}).call(this)}function _F(e=void 0){return e!=null&&_s(e,"options"),(e==null?void 0:e.signal)!=null&&bs(e.signal,"options.signal"),(async function*(){let n=0;for await(const i of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new di({cause:e.signal.reason});yield[n++,i]}}).call(this)}async function gI(e,t=void 0){for await(const n of fv.call(this,e,t))return!0;return!1}async function wF(e,t=void 0){if(typeof e!="function")throw new mu("fn",["Function","AsyncFunction"],e);return!await gI.call(this,async(...n)=>!await e(...n),t)}async function xF(e,t){for await(const n of fv.call(this,e,t))return n}async function SF(e,t){if(typeof e!="function")throw new mu("fn",["Function","AsyncFunction"],e);async function n(r,i){return await e(r,i),pd}for await(const r of pf.call(this,n,t));}function fv(e,t){if(typeof e!="function")throw new mu("fn",["Function","AsyncFunction"],e);async function n(r,i){return await e(r,i)?r:pd}return pf.call(this,n,t)}class EF extends iF{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function IF(e,t,n){var r;if(typeof e!="function")throw new mu("reducer",["Function","AsyncFunction"],e);n!=null&&_s(n,"options"),(n==null?void 0:n.signal)!=null&&bs(n.signal,"options.signal");let i=arguments.length>1;if(n!=null&&(r=n.signal)!==null&&r!==void 0&&r.aborted){const u=new di(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await lF(this.destroy(u)),u}const a=new nF,s=a.signal;if(n!=null&&n.signal){const u={once:!0,[sF]:this,[oF]:!0};n.signal.addEventListener("abort",()=>a.abort(),u)}let o=!1;try{for await(const u of this){var l;if(o=!0,n!=null&&(l=n.signal)!==null&&l!==void 0&&l.aborted)throw new di;i?t=await e(t,u,{signal:s}):(t=u,i=!0)}if(!o&&!i)throw new EF}finally{a.abort()}return t}async function CF(e){e!=null&&_s(e,"options"),(e==null?void 0:e.signal)!=null&&bs(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new di(void 0,{cause:e.signal.reason});pF(t,r)}return t}function TF(e,t){const n=pf.call(this,e,t);return(async function*(){for await(const i of n)yield*i}).call(this)}function mI(e){if(e=mF(e),vF(e))return 0;if(e<0)throw new aF("number",">= 0",e);return e}function AF(e,t=void 0){return t!=null&&_s(t,"options"),(t==null?void 0:t.signal)!=null&&bs(t.signal,"options.signal"),e=mI(e),(async function*(){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new di;for await(const a of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new di;e--<=0&&(yield a)}}).call(this)}function NF(e,t=void 0){return t!=null&&_s(t,"options"),(t==null?void 0:t.signal)!=null&&bs(t.signal,"options.signal"),e=mI(e),(async function*(){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new di;for await(const a of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new di;if(e-- >0&&(yield a),e<=0)return}}).call(this)}tv.streamReturningOperators={asIndexedPairs:hF(_F,"readable.asIndexedPairs will be removed in a future version."),drop:AF,filter:fv,flatMap:TF,map:pf,take:NF,compose:bF};tv.promiseReturningOperators={every:wF,forEach:SF,reduce:IF,toArray:CF,some:gI,find:xF};var Kh,b_;function vI(){if(b_)return Kh;b_=1;const{ArrayPrototypePop:e,Promise:t}=Vt,{isIterable:n,isNodeStream:r,isWebStream:i}=Gi,{pipelineImpl:a}=dv,{finished:s}=Ea;yI();function o(...l){return new t((u,c)=>{let d,f;const h=l[l.length-1];if(h&&typeof h=="object"&&!r(h)&&!n(h)&&!i(h)){const p=e(l);d=p.signal,f=p.end}a(l,(p,g)=>{p?c(p):u(g)},{signal:d,end:f})})}return Kh={finished:s,pipeline:o},Kh}var __;function yI(){if(__)return Ah.exports;__=1;const{Buffer:e}=$r,{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=Vt,{promisify:{custom:i}}=Bn,{streamReturningOperators:a,promiseReturningOperators:s}=tv,{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=kn,l=hI,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:c}=ff,{pipeline:d}=dv,{destroyer:f}=So,h=Ea,p=vI(),g=Gi,m=Ah.exports=sv.Stream;m.isDestroyed=g.isDestroyed,m.isDisturbed=g.isDisturbed,m.isErrored=g.isErrored,m.isReadable=g.isReadable,m.isWritable=g.isWritable,m.Readable=hf();for(const _ of n(a)){let I=function(...S){if(new.target)throw o();return m.Readable.from(r(x,this,S))};const x=a[_];t(I,"name",{__proto__:null,value:x.name}),t(I,"length",{__proto__:null,value:x.length}),t(m.Readable.prototype,_,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}for(const _ of n(s)){let I=function(...S){if(new.target)throw o();return r(x,this,S)};const x=s[_];t(I,"name",{__proto__:null,value:x.name}),t(I,"length",{__proto__:null,value:x.length}),t(m.Readable.prototype,_,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}m.Writable=lv(),m.Duplex=ji(),m.Transform=uI,m.PassThrough=dI,m.pipeline=d;const{addAbortSignal:v}=df;return m.addAbortSignal=v,m.finished=h,m.destroy=f,m.compose=l,m.setDefaultHighWaterMark=u,m.getDefaultHighWaterMark=c,t(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p}}),t(d,i,{__proto__:null,enumerable:!0,get(){return p.pipeline}}),t(h,i,{__proto__:null,enumerable:!0,get(){return p.finished}}),m.Stream=m,m._isUint8Array=function(x){return x instanceof Uint8Array},m._uint8ArrayToBuffer=function(x){return e.from(x.buffer,x.byteOffset,x.byteLength)},Ah.exports}(function(e){const t=yI(),n=vI(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(hE);var kt=hE.exports;async function hv(e){const t=[];for await(const n of e)t.push(n);return t}function RF(e){const t=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}async function bI(e,t){const n=new uL(t);let r="";for await(const i of e)r+=n.write(i);return r+=n.end(),r}async function gf(e,t,n){const r=t.method==="PUT"?"write":"read",i=r==="read"?"from":"to";if(!n.ok)throw new Error(`can't ${r} data ${i} <${e.toString()}>[${n.status}]: ${await n.text()}`)}const DF=new Map([["json","application/ld+json"],["n3","text/n3"],["nq","application/n-quads"],["nt","application/n-triples"],["rdf","application/rdf+xml"],["trig","application/trig"],["ttl","text/turtle"]]);function _I(e,t){const n=new Headers,r=e.toString().match(/\.([a-z]+)$/),i=DF.get(r&&r[1]);return i&&n.set("content-type",i),{method:"PUT",headers:n,body:t}}async function kF(e,t,{factory:n,...r}){const i=n.formats.parsers.get(e);if(!i)throw new Error(`unknown media type: ${e}`);const a=n.dataset(),s=i.import(kt.Readable.from([t]),r);for await(const o of s)a.add(o);return a}async function OF(e,{factory:t,mediaType:n,...r}){const i=await t.fetch(e,{...r,method:"GET"});return await gf(e,{},i),n&&i.headers.set("content-type",n),i.dataset()}async function PF(e,t,{factory:n,prefixes:r,...i}){const a=n.formats.serializers.get(e);if(!a)throw new Error(`unknown media type: ${e}`);const s=a.import(kt.Readable.from(t),{...i,prefixes:r});return bI(s,"utf-8")}async function LF(e,t,{factory:n,prefixes:r,...i}){const a=_I(e,kt.Readable.from(t)),s=await n.fetch(e,{...i,...a,prefixes:r});await gf(e,a,s)}const qh=new Set(["_write","_writableState","writable"]);function mf(e){return new Proxy(e,{has(t,n){return qh.has(n)?!1:Reflect.has(...arguments)},get(t,n){if(qh.has(n))return;const r=Reflect.get(...arguments);return r&&typeof r.bind=="function"?r.bind(t):r},set(t,n,r){if(!qh.has(n))return Reflect.set(...arguments)}})}function FF(e,t,{factory:n,...r}){const i=n.formats.parsers.get(e);return i?i.import(kt.Readable.from([t]),r):new kt.Readable({read(){this.destroy(new Error(`unknown media type: ${e}`))}})}function jF(e,{factory:t,mediaType:n,...r}){const i=new kt.PassThrough({objectMode:!0});return setTimeout(async()=>{try{const a=await t.fetch(e,{...r,method:"GET"});await gf(e,{},a),n&&a.headers.set("content-type",n),(await a.quadStream()).on("error",o=>i.destroy(o)).pipe(i)}catch(a){i.destroy(a)}},0),mf(i)}async function $F(e,t,{factory:n,prefixes:r,...i}){const a=n.formats.serializers.get(e);if(!a)throw new Error(`unknown media type: ${e}`);const s=a.import(t,{...i,prefixes:r});return bI(s,"utf-8")}async function VF(e,t,{factory:n,prefixes:r,...i}){const a=_I(e,t),s=await n.fetch(e,{...i,...a,prefixes:r});await gf(e,a,s)}let MF=class{init(){this.io={dataset:{fromText:(t,n,r)=>kF(t,n,{...r,factory:this}),fromURL:(t,n)=>OF(t,{...n,factory:this}),toText:(t,n,r)=>PF(t,n,{...r,factory:this}),toURL:(t,n,r)=>LF(t,n,{...r,factory:this})},stream:{fromText:(t,n,r)=>FF(t,n,{...r,factory:this}),fromURL:(t,n)=>jF(t,{...n,factory:this}),toText:(t,n,r)=>$F(t,n,{...r,factory:this}),toURL:(t,n,r)=>VF(t,{...r,factory:this})}}}},pv=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};pv.prototype.termType="BlankNode";let vf=class{equals(t){return!!t&&t.termType===this.termType}};vf.prototype.termType="DefaultGraph";vf.prototype.value="";function gd(e,t){if(!t)return null;if(t.termType==="BlankNode")return e.blankNode(t.value);if(t.termType==="DefaultGraph")return e.defaultGraph();if(t.termType==="Literal")return e.literal(t.value,t.language||e.namedNode(t.datatype.value));if(t.termType==="NamedNode")return e.namedNode(t.value);if(t.termType==="Quad"){const n=e.fromTerm(t.subject),r=e.fromTerm(t.predicate),i=e.fromTerm(t.object),a=e.fromTerm(t.graph);return e.quad(n,r,i,a)}if(t.termType==="Variable")return e.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}let Pl=class{constructor(t,n,r,i=""){this.value=t,this.language=n,this.datatype=r,this.direction=i}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)&&(t.direction||"")===this.direction}};Pl.prototype.termType="Literal";let Eo=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};Eo.prototype.termType="NamedNode";let yf=class{constructor(t,n,r,i){this.subject=t,this.predicate=n,this.object=r,this.graph=i}equals(t){return!!t&&(t.termType==="Quad"||!t.termType)&&t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}};yf.prototype.termType="Quad";yf.prototype.value="";let gv=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};gv.prototype.termType="Variable";const BF=new Eo("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),w_=new Eo("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),UF=new Eo("http://www.w3.org/2001/XMLSchema#string");let wI=class{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new vf}}namedNode(t){return new Eo(t)}blankNode(t){return t=t||"b"+ ++this._data.blankNodeCounter,new pv(t)}literal(t,n){return typeof n=="string"?new Pl(t,n,w_):typeof(n==null?void 0:n.language)=="string"?new Pl(t,n.language,n.direction?BF:w_,n.direction):new Pl(t,"",n||UF)}variable(t){return new gv(t)}defaultGraph(){return this._data.defaultGraph}quad(t,n,r,i=this.defaultGraph()){return new yf(t,n,r,i)}fromTerm(t){return gd(this,t)}fromQuad(t){return gd(this,t)}};wI.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"];const vu=new wI,HF={apply:(e,t,n)=>e(n[0]),get:(e,t)=>e(t)};function ws(e,{factory:t=vu}={}){const n=(r="")=>t.namedNode(`${e}${r.raw||r}`);return typeof Proxy>"u"?n:new Proxy(n,HF)}let xI=class{namespace(t){return ws(t,{factory:this})}};xI.exports=["namespace"];class Rg extends Map{constructor(t=[],{factory:n}){super(t),this.factory=n}resolve(t){if(t.value.includes("://"))return null;const[n,r]=t.value.split(":",2);return r===void 0||!this.has(n)?null:this.factory.namedNode(`${this.get(n).value}${r}`)}shrink(t){if(!t)return null;const[n]=[...this].filter(([,r])=>t.value.startsWith(r.value)).sort((r,i)=>i[1].value.length-r[1].value.length);return n===void 0?null:this.factory.namedNode(`${n[0]}:${t.value.slice(n[1].value.length)}`)}import(t){return t.on("prefix",(n,r)=>{this.set(n,r)}),new Promise((n,r)=>{kt.finished(t,i=>{i?r(i):n(this)})})}export(t){for(const[n,r]of this)t.emit("prefix",n,r);return this}}let SI=class{init(){this.prefixes=new Rg([],{factory:this})}clone(t){if(t.prefixes)for(const[n,r]of t.prefixes)this.prefixes.set(n,r)}prefixMap(t){return new Rg(t,{factory:this})}};SI.exports=["prefixMap"];function bf({factor:e,score:t}){return({dataset:n,graph:r,terms:i=[]})=>t({dataset:n,graph:r,terms:i}).map(a=>(a.score*=e,a))}function GF(e){return"_:"+e.value}function WF(e,t){return[...e].map(n=>t(n)).join(`
`)+`
`}function zF(){return""}function EI(e){return"<"+e.value+">"}const KF=/["\\\\\n\r]/,qF=/["\\\\\n\r]/g,JF={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function YF(e){return JF[e]}function QF(e){return KF.test(e)?e.replace(qF,YF):e}function XF(e){const t=QF(e.value);return e.datatype.value==="http://www.w3.org/2001/XMLSchema#string"?'"'+t+'"':e.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?'"'+t+'"@'+e.language:'"'+t+'"^^'+EI(e.datatype)}function ZF(e,t){const n=t(e.subject),r=t(e.predicate),i=t(e.object),a=t(e.graph);return`${n} ${r} ${i} ${a?a+" ":""}.`}function ej(e){return"?"+e.value}function Ut(e){if(!e)return null;if(e.termType==="BlankNode")return GF(e);if(e.termType==="DefaultGraph")return zF();if(e.termType==="Literal")return XF(e);if(e.termType==="NamedNode")return EI(e);if(e.termType==="Quad"||e.subject&&e.predicate&&e.object&&e.graph)return ZF(e,Ut);if(e.termType==="Variable")return ej(e);if(e[Symbol.iterator])return WF(e,Ut);throw new Error(`unknown termType ${e.termType}`)}class Ll extends Set{constructor(t=[]){super(),this._index=new Map;for(const n of t)this.add(n)}add(t){return this._index.set(Ll.key(t),t),super.add(t)}delete(t){const n=this._index.get(Ll.key(t));return super.delete(n)}has(t){return this._index.has(Ll.key(t))}static key(t){return t.map(n=>n&&Ut(n)||"undefined").join(" ")}}class la extends Map{constructor(t=[]){super(),this._keys=new Map;for(const[n,r]of t)this.set(n,r)}delete(t){const n=la.key(t);return this._keys.delete(n),super.delete(n)}get(t){return super.get(la.key(t))}has(t){return super.has(la.key(t))}keys(){return new Ll(this._keys.values())}set(t,n){const r=la.key(t);return this._keys.set(r,t),super.set(r,n)}static key(t){return t.map(n=>n&&Ut(n)||"undefined").join(" ")}}function mv(e){return({dataset:t,graph:n,terms:r=[]})=>{const i=new la;for(let a=0;a<e.length;a++){const s=e[a],o=s({dataset:t,graph:n,terms:r});for(const l of o){const u=i.get([l.term,n]);u?u.score+=l.score:i.set([l.term,n],l)}}return[...i.values()]}}function II(e){const t=1/e.length;return mv(e.map(n=>bf({factor:t,score:n})))}function tj(e){const t=2/(e.length*(e.length+1)),n=e.map((r,i)=>{const a=(e.length-i)*t;return bf({factor:a,score:r})});return mv(n)}II.prioritized=tj;function nj(e){return({dataset:t,graph:n,terms:r=[]})=>e.flatMap(i=>i({dataset:t,graph:n,terms:r}))}class mr{constructor(t){if(this.index=new Map,t)for(const[n,r]of t)this.set(n,r)}get size(){return this.index.size}clear(){this.index.clear()}delete(t){return this.index.delete(Ut(t))}*entries(){for(const[,{term:t,value:n}]of this.index)yield[t,n]}forEach(t,n){for(const r of this.entries())t.call(n,r[1],r[0],this)}get(t){const n=this.index.get(Ut(t));return n&&n.value}has(t){return this.index.has(Ut(t))}*keys(){for(const[,{term:t}]of this.index)yield t}set(t,n){const r=Ut(t);return this.index.set(r,{term:t,value:n}),this}*values(){for(const[,{value:t}]of this.index)yield t}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}function rj({graph:e,object:t,predicate:n,subject:r=!0}={}){const i={subject:r,predicate:n,object:t,graph:e};return({dataset:a,graph:s,terms:o=[]})=>{const l=new mr;let u=0;const c=f=>{for(const h of o){const p=[f==="subject"&&h,f==="predicate"&&h,f==="object"&&h,s||f==="graph"&&h],g=a.match(...p);for(const m of g){const v=m[f],_=l.get(v)||{count:0};l.has(v)||l.set(v,_),_.count++,u++}}};for(const f of["subject","predicate","object","graph"])i[f]&&c(f);const d=[];for(const[f,h]of l)d.push({dataset:a,graph:s,term:f,score:h.count/u});return d}}function CI(e){const t=new la;for(const n of e){const r=t.get([n.term,n.graph]);r?r.score<n.score&&(t.delete([n.term,n.graph]),t.set([n.term,n.graph],n)):t.set([n.term,n.graph],n)}return[...t.values()]}function ij({graph:e,object:t,predicate:n,subject:r}){const i={subject:r,predicate:n,object:t,graph:e};return({dataset:a,graph:s,terms:o=[]})=>{for(const l of o){const u=[{dataset:a,graph:s,term:l,score:1}];if(i.subject&&i.subject.equals(l)&&a.match(l,null,null,s).size>0||i.predicate&&i.predicate.equals(l)&&a.match(null,l,null,s).size>0||i.object&&i.object.equals(l)&&a.match(null,null,l,s).size>0||i.graph&&i.graph.equals(l)&&(!s||i.graph.equals(s))&&a.match(null,null,null,s).size>0)return u}return[]}}function aj(e){return({dataset:t,graph:n,terms:r=[]})=>{for(const i of e){const a=i({dataset:t,graph:n,terms:r});if(a.length>0)return a}return[]}}function sj(e){const t=e;return({dataset:n,graph:r,terms:i=[]})=>{for(const a of i)if(a.equals(t))return[{dataset:n,graph:r,term:a,score:1}];return[]}}function oj(e){const t=new Map;let n;for(const[r,i]of Object.entries(e)){const a=1-r/e.length;i==="*"?n=a:t.set(i,a)}return({dataset:r,graph:i,terms:a=[]})=>{const s=[];for(const o of a){let l=t.get(o.language);typeof l>"u"&&typeof o.language=="string"&&n&&(l=n),typeof l<"u"&&s.push({dataset:r,graph:i,term:o,score:l})}return s}}function x_(e){try{return Ut(e)}catch{return null}}class us{constructor(t){if(this.index=new Map,t)for(const n of t)this.add(n)}get size(){return this.index.size}add(t){const n=Ut(t);return this.index.has(n)||this.index.set(n,t),this}clear(){this.index.clear()}delete(t){return t?this.index.delete(x_(t)):!1}entries(){return this.values().entries()}forEach(t,n){return this.values().forEach(t,n)}has(t){return t?this.index.has(x_(t)):!1}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.index.values()}}function lj({alpha:e=.85,epsilon:t=1e-6}={}){return({dataset:n,graph:r,terms:i})=>{i=new us(i);const a=new mr,s=1/i.size;let o=1;for(const u of i){const c=n.match(null,null,u,r);a.set(u,{weight:s,outbound:c.size,subjects:[...c].map(d=>d.subject).filter(d=>i.has(d))})}for(;o>t;){const u=new mr;let c=0;for(const[d,f]of a)u.set(d,f.weight),f.outbound===0&&(c+=f.weight),f.weight=0;c*=e;for(const[d,f]of a){for(const h of f.subjects)a.get(h).weight+=e*u.get(d)/f.outbound;f.weight+=(1-e)*s+c*s}o=0;for(const[d,f]of a)o+=Math.abs(f.weight-u.get(d))}const l=[];for(const[u,c]of a)l.push({dataset:n,graph:r,term:u,score:c.weight});return l}}function uj(){return({dataset:e,graph:t,terms:n=[]})=>{const r=[];for(const i of n){let a=Number.EPSILON;if(i.termType==="NamedNode"){let s=new URL(i.value).pathname;s.endsWith("/")&&(s=s.slice(0,-1)),a=1/s.split("/").length}r.push({dataset:e,graph:t,term:i,score:a})}return r}}function cj(e){return({dataset:t,graph:n,terms:r=[]})=>{const i=[],a=2/(e.length*(e.length+1));for(let s=0;s<e.length;s++){const o=(e.length-s)*a,l=bf({factor:o,score:e[s]});for(const u of l({dataset:t,graph:n,terms:r}))i.push(u)}return i}}function dj(e){return({dataset:t,graph:n,terms:r=[]})=>{if(e.length===0)return[];const i=e[0]({dataset:t,graph:n,terms:r}),a=new la(i.map(s=>[[s.term,n],s]));for(let s=1;s<e.length;s++){const o=e[s],l=a.keys(),u=o({dataset:t,graph:n,terms:r});for(const c of u){const d=a.get([c.term,n]);d&&(d.score*=c.score),l.delete([c.term,n])}for(const c of l)a.delete(c)}return[...a.values()]}}function TI(e){return e.slice().sort((t,n)=>{const r=n.score-t.score;return r!==0?r:t.term.value.localeCompare(n.term.value)})}function fj({dataset:e,objects:t,score:n,termCallback:r=i=>i.term}={}){const i=new mr(t.map(u=>[r(u),u])),a=t.map(u=>r(u));return TI(CI(n({dataset:e,terms:a}))).map(({term:u})=>i.get(u))}function hj(e){const t={rdf:{type:vu.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")}};return({dataset:n,graph:r,terms:i=[]})=>{const a=[];for(const s of i)for(const o of n.match(s,t.rdf.type,e,r))a.push({dataset:n,graph:o.graph,term:s,score:1});return a}}let pj=class{init(){this.score={combine:II,concat:nj,count:rj,distinct:CI,exists:ij,fallback:aj,fixed:sj,language:oj,pageRank:lj,pathDepth:uj,prioritized:cj,product:dj,scale:bf,sort:TI,sortObjects:fj,sum:mv,type:hj}}},AI=class{termMap(t){return new mr(t)}};AI.exports=["termMap"];let NI=class{termSet(t){return new us(t)}};NI.exports=["termSet"];class gj{constructor(){this.quadLevel=new Map}add(t,n){this.quadLevel.set(Ut(t),n)}has(t,n){const r=this.quadLevel.get(Ut(t));return r===void 0?!1:r<=n}}function Jh({backward:e,callback:t,dataset:n,filter:r,forward:i,term:a,visited:s=new gj}){const o=(l,u)=>{const c=d=>{for(const f of d){if(s.has(f,u))continue;s.add(f,u);const h={dataset:n,level:u,quad:f};r(h)&&(t(h),i&&o(f.object,u+1),e&&o(f.subject,u+1))}};i&&c(n.match(l)),e&&c(n.match(null,null,l))};o(a,0)}class mj{constructor(t,{backward:n=!1,factory:r,forward:i=!0}){this.backward=n,this.factory=r,this.filter=t,this.forward=i}forEach({term:t,dataset:n},r){Jh({backward:this.backward,callback:r,dataset:n,filter:this.filter,forward:this.forward,term:t})}match({term:t,dataset:n}){const r=this.factory.dataset();return Jh({backward:this.backward,callback:({quad:i})=>r.add(i),dataset:n,filter:this.filter,forward:this.forward,term:t}),r}reduce({term:t,dataset:n},r,i){let a=i;return Jh({backward:this.backward,callback:s=>{a=r(s,a)},dataset:n,filter:this.filter,forward:this.forward,term:t}),a}}let RI=class{traverser(t,{backward:n=!1,forward:r=!0}={}){return new mj(t,{backward:n,factory:this,forward:r})}};RI.exports=["traverser"];class S_{constructor({dataset:t,end:n,quad:r,start:i}){this.dataset=t,this.end=n,this.quad=r,this.start=i}get term(){return this.quad[this.end]}get graph(){return this.quad.graph}get startTerm(){return this.quad[this.start]}}function vj(e,{factory:t}){const n=yj(e,{factory:t});return r=>{for(const i of[...r]){const a=n(i);a!==i&&(r.delete(i),r.add(a))}}}function yj(e,{factory:t}){const n=DI(e,{factory:t});return r=>{const i=n(r.subject),a=n(r.predicate),s=n(r.object);return i===r.subject&&a===r.predicate&&s===r.object?r:t.quad(i,a,s,r.graph)}}function DI(e,{factory:t}){return n=>n.termType!=="NamedNode"||/^[a-z]+:\/\//.test(n.value)?n:t.namedNode(new URL(n.value,e.value).toString())}const E_=/^[a-z][a-z0-9+.-]*:/;function bj(e,t,{factory:n}){const r=_j(e,t,{factory:n});return i=>{for(const a of[...i]){const s=r(a);s!==a&&(i.delete(a),i.add(s))}}}function _j(e,t,{factory:n}){const r=wj(e,t,{factory:n});return i=>{const a=r(i.subject),s=r(i.predicate),o=r(i.object);return a===i.subject&&s===i.predicate&&o===i.object?i:n.quad(a,s,o,i.graph)}}function wj(e,t,{factory:n}){return r=>r.termType!=="NamedNode"||!r.value.startsWith(e.value)||E_.test(r.value)!==E_.test(e.value)?r:n.namedNode(t.value+r.value.slice(e.value.length))}function xj(e,t,{factory:n}){const r=Sj(e,t,{factory:n});return i=>{const a=[...i.match(e),...i.match(null,e),...i.match(null,null,e)];for(const s of a){const o=r(s);o!==s&&(i.delete(s),i.add(o))}}}function Sj(e,t,{factory:n}){const r=Ej(e,t);return i=>{const a=r(i.subject),s=r(i.predicate),o=r(i.object);return a===i.subject&&s===i.predicate&&o===i.object?i:n.quad(a,s,o,i.graph)}}function Ej(e,t){return n=>n.equals(e)?t:n}function Ij(e){return e.slice().sort((t,n)=>{const r=n.score-t.score;return r!==0?r:t.term.value.localeCompare(n.term.value)})}ws("http://www.w3.org/2001/XMLSchema#");const zr=ws("http://www.w3.org/1999/02/22-rdf-syntax-ns#");ws("http://www.w3.org/2000/01/rdf-schema#");class wt{static add({ptr:t,start:n,end:r,subjects:i=[null],predicates:a=[null],objects:s=[null],graphs:o,callback:l}={}){if(!t.factory)throw new Error("add operation requires a factory");let u=()=>{};l&&(u=c=>{l(new S_({dataset:t.dataset,start:n,end:r,quad:c}))});for(const c of i)for(const d of a)for(const f of s)for(const h of o){const p={subject:c,predicate:d,object:f,graph:h};p[n]=t.term;const g=t.factory.quad(p.subject,p.predicate,p.object,p.graph);t.dataset.add(g),u(g)}return t}static addList({ptr:t,predicates:n,items:r,graphs:i}){if(t.isAny())throw new Error("can't attach a list to an any ptr");for(const a of n)for(const s of i){const o=r.map(()=>t.factory.blankNode());t.dataset.add(t.factory.quad(t.term,a,o[0]||zr.nil,s));for(let l=0;l<o.length;l++)t.dataset.add(t.factory.quad(o[l],zr.first,r[l],s)),t.dataset.add(t.factory.quad(o[l],zr.rest,o[l+1]||zr.nil,s))}return t}static delete({ptr:t,start:n,subjects:r=[null],predicates:i=[null],objects:a=[null]}){for(const s of r)for(const o of i)for(const l of a){const u={subject:s,predicate:o,object:l};u[n]=t.term;const c=t.dataset.match(u.subject,u.predicate,u.object);for(const d of c)t.dataset.delete(d)}return t}static deleteList({ptr:t,predicates:n}){const r=[];for(const i of n)for(const a of t.dataset.match(t.term,i)){let s=a.object;for(r.push(a);!zr.nil.equals(s);){s=r[r.length-1].object;const o=t.dataset.match(s);if(o.size===0)break;for(const l of o)r.push(l)}}for(const i of r)t.dataset.delete(i);return t}static execute({ptr:t,operation:n="traverse",quantifier:r,start:i,end:a,subjects:s,predicates:o,objects:l,graphs:u,items:c,callback:d}={}){if(n==="add")return wt.add({ptr:t,start:i,end:a,subjects:s,predicates:o,objects:l,graphs:u,callback:d});if(n==="addList")return wt.addList({ptr:t,predicates:o,items:c,graphs:u});if(n==="delete")return wt.delete({ptr:t,start:i,subjects:s,predicates:o,objects:l});if(n==="deleteList")return wt.deleteList({ptr:t,predicates:o});if(n==="isList")return wt.isList({ptr:t});if(n==="list")return wt.list({ptr:t});if(n==="traverse")return wt.traverse({ptr:t,quantifier:r,start:i,end:a,subjects:s,predicates:o,objects:l,graphs:u});throw new Error(`unknown operation ${n}`)}static isList({ptr:t}){return t.isAny()?!1:!!(zr.nil.equals(t.term)||wt.traverse({ptr:t,predicates:[zr.first]}).length===1)}static list({ptr:t}){if(t.isList())return{*[Symbol.iterator](){for(;t&&!t.term.equals(zr.nil);){const n=t.out([zr.first]);if(n.length!==1)throw new Error(`Invalid list: rdf:first count not equals one on ${t.value}`);const r=t.out([zr.rest]);if(r.length!==1)throw new Error(`Invalid list: rdf:rest count not equals one on ${t.value}`);yield n[0],t=r[0]}}}}static traverse({ptr:t,quantifier:n="one",start:r="subject",end:i="object",subjects:a=[null],predicates:s=[null],objects:o=[null],graphs:l=[null],callback:u}){if(n==="one")return wt.traverseOne({ptr:t,start:r,end:i,subjects:a,predicates:s,objects:o,graphs:l,callback:u});if(n==="oneOrMore"){const c=wt.traverse({ptr:t,end:i,start:r,subjects:a,predicates:s,objects:o,graphs:l,callback:u});return wt.traverseMore({ptrs:c,end:i,start:r,subjects:a,predicates:s,objects:o,graphs:l,callback:u})}if(n==="zeroOrMore")return wt.traverseMore({ptrs:[t],end:i,start:r,subjects:a,predicates:s,objects:o,graphs:l,callback:u});if(n==="zeroOrOne")return[t,...wt.traverse({ptr:t,end:i,start:r,subjects:a,predicates:s,objects:o,graphs:l,callback:u})];throw new Error(`unknown quantifier ${n}`)}static traverseMore({ptrs:t,end:n,start:r,subjects:i,predicates:a,objects:s,graphs:o,callback:l}={}){let u=[...t],c,d;do{c=[];for(const f of t)c=[...c,...wt.traverseOne({ptr:f,end:n,start:r,subjects:i,predicates:a,objects:s,graphs:o,callback:l})];d&&(c=c.filter(f=>!d.has(f.term))),t=c,u=[...u,...c],d=new us(u.map(f=>f.term))}while(c.length>0);return u}static traverseOne({ptr:t,start:n,end:r,subjects:i,predicates:a,objects:s,graphs:o,callback:l=(u,c)=>c.extend(u)}={}){const u=[];for(const c of i)for(const d of a)for(const f of s)for(const h of o){const p={subject:c,predicate:d,object:f,graph:h};p[n]=t.term;for(const g of t.dataset.match(p.subject,p.predicate,p.object,p.graph))u.push(l(new S_({dataset:t.dataset,end:r,quad:g,start:n}),t))}return u}}function I_(e,t){return t?n=>t(e.extend(n)):()=>{}}class go{constructor({dataset:t,edges:n=[],factory:r,graph:i,term:a}){if(!t&&n.length===0)throw new Error("dataset or edges is required");if(n.length===0&&typeof a>"u")throw new Error("edges or term must be given");if(n.length>0&&a)throw new Error("edges or term must be given");this.dataset=t||n[n.length-1].dataset,this.edges=n,this.factory=r,this._graph=i,n.length===0&&(this._term=a)}get edge(){return this.edges[this.edges.length-1]}get graph(){return typeof this._graph=="object"?this._graph:this.edge&&this.edge.graph}get length(){return this._term!==void 0?1:this.edges.length+1}get startTerm(){return this._term||this.edges[0].startTerm}get term(){return this._term!==void 0?this._term:this.edge.term}get value(){const t=this.term;return t===null?void 0:t.value}addIn(t,n,r){return wt.add({ptr:this,start:"object",end:"subject",subjects:n,predicates:t,graphs:[this.graph||this.factory.defaultGraph()],callback:I_(this,r)})}addList(t,n){return wt.addList({ptr:this,predicates:t,graphs:[this.graph||this.factory.defaultGraph()],items:n})}addOut(t,n,r){return wt.add({ptr:this,start:"subject",end:"object",predicates:t,objects:n,graphs:[this.graph||this.factory.defaultGraph()],callback:I_(this,r)})}deleteIn(t,n){return wt.delete({ptr:this,start:"object",subjects:n,predicates:t})}deleteList(t){return wt.deleteList({ptr:this,predicates:t})}deleteOut(t,n){return wt.delete({ptr:this,start:"subject",predicates:t,objects:n})}execute({operation:t,quantifier:n,start:r,end:i,subjects:a,predicates:s,objects:o,graphs:l,items:u,callback:c}){return wt.execute({ptr:this,operation:t,quantifier:n,start:r,end:i,subjects:a,predicates:s,objects:o,graphs:l,items:u,callback:c})}extend(t){return new this.constructor({dataset:this.dataset,edges:[...this.edges,t],factory:this.factory,graph:this._graph})}hasIn(t,n){return wt.traverse({ptr:this,start:"object",end:"object",subjects:n,predicates:t,graphs:[this.graph]})}hasOut(t,n){return wt.traverse({ptr:this,start:"subject",end:"subject",predicates:t,objects:n,graphs:[this.graph]})}in(t,n){return wt.traverse({ptr:this,start:"object",end:"subject",subjects:n,predicates:t,graphs:[this.graph]})}isAny(){return!this.term}isList(){return wt.isList({ptr:this})}list(){return wt.list({ptr:this})}*nodes(){for(let t=0;t<this.length;t++)this._term!==void 0?yield{dataset:this.dataset,term:this._term}:this.edges.length>t?yield{dataset:this.edges[t].dataset,term:this.edges[t].startTerm}:this.edges.length===t&&(yield{dataset:this.edges[t-1].dataset,term:this.edges[t-1].term})}out(t,n){return wt.traverse({ptr:this,predicates:t,objects:n,graphs:[this.graph]})}*quads(){for(const{quad:t}of this.edges)yield t}trim(){return new this.constructor({dataset:this.dataset,factory:this.factory,graph:this.graph,term:this.term})}}function md(e,{factory:t}){if(e===null)return null;if(e===void 0)return;if(typeof e=="string")return t.literal(e);if(e.constructor.name==="URL")return t.namedNode(e.toString());if(e.termType)return e;const n=e.term;if(n!==void 0)return n;throw new Error(`can't convert ${e.toString()} to a Term object`)}function Cj(e){return typeof e.term=="object"&&typeof e.dataset=="object"}function Tj(e){return e instanceof go}function C_(e,{dataset:t,factory:n,graph:r}){if(e===null)return null;if(e!==void 0)return Tj(e)?e:Cj(e)?new go({dataset:e.dataset,graph:e.graph,term:e.term,factory:e.factory||n}):new go({dataset:t,graph:r,term:md(e,{factory:n}),factory:n})}function kI(e,{factory:t}){try{e=[md(e,{factory:t})]}catch{}return e[Symbol.iterator]&&(e=[...e]),e=e.map(n=>md(n,{factory:t})),e}function Aj(e,{dataset:t,factory:n,graph:r}){try{e=[C_(e,{dataset:t,factory:n,graph:r})]}catch{}return e[Symbol.iterator]&&(e=[...e]),e.flatMap(i=>kI(r,{factory:n}).flatMap(a=>C_(i,{dataset:t,factory:n,graph:a})))}function T_(e,t){return e?e.equals(t):e===t}function Nj(e,t){return!(e.dataset!==t.dataset||!T_(e.graph,t.graph)||!T_(e.term,t.term))}function A_(e,t){return t?n=>t(new e.constructor({factory:e.factory,ptrs:[n]})):()=>{}}class Rj{constructor({dataset:t,factory:n,ptrs:r,terms:i,graphs:a}){if(this.factory=n,r)this.ptrs=[...r];else{this.ptrs=[];for(const s of i||[null])for(const o of a||[null])this.ptrs.push(new go({dataset:t,factory:n,graph:o,term:s}))}}get dataset(){const t=new Set(this.datasets);return t.size!==1?null:t[Symbol.iterator]().next().value}get datasets(){return this.ptrs.map(t=>t.dataset)}get term(){const t=new us(this.terms);if(t.size===1)return t[Symbol.iterator]().next().value}get terms(){return this.ptrs.map(t=>t.term)}get value(){const t=this.term;return t==null?void 0:t.value}get values(){return this.ptrs.map(t=>t.value)}addIn(t,n,r){const i=A_(this,r);for(const a of this.ptrs)a.addIn(t,n,i);return this}addList(t,n){if(this.isAny())throw new Error("can't attach a list to an any ptr");for(const r of this.ptrs)r.addList(t,n);return this}addOut(t,n,r){const i=A_(this,r);for(const a of this.ptrs)a.addOut(t,n,i);return this}clone(t){return new this.constructor({factory:this.factory,ptrs:this.ptrs,...t})}deleteIn(t,n){for(const r of this.ptrs)r.deleteIn(t,n);return this}deleteList(t){for(const n of this.ptrs)n.deleteList(t);return this}deleteOut(t,n){for(const r of this.ptrs)r.deleteOut(t,n);return this}distinct(){const t=this.ptrs.reduce((n,r)=>(n.some(i=>Nj(i,r))||n.push(r.trim()),n),[]);return this.clone({ptrs:t})}execute(t){return this.clone({ptrs:this.ptrs.flatMap(n=>n.execute(t))})}executeAll(t){let n=this;for(const r of t)n=n.execute(r);return n}filter(t){return this.clone({ptrs:[...this].filter(t).map(n=>n.ptrs[0])})}hasIn(t,n){return this.clone({ptrs:this.ptrs.flatMap(r=>r.hasIn(t,n))})}hasOut(t,n){return this.clone({ptrs:this.ptrs.flatMap(r=>r.hasOut(t,n))})}in(t,n){return this.clone({ptrs:this.ptrs.flatMap(r=>r.in(t,n))})}isAny(){return this.ptrs.length>0&&this.ptrs.some(t=>t.isAny())}isList(){return this.ptrs.length!==1?!1:this.ptrs[0].isList()}list(){if(!this.isList())return;const t=this.ptrs[0].list(),n=this;return function*(){for(const r of t)yield n.clone({ptrs:[r]})}()}map(t){return[...this].map(t)}node(t){const n=this.dataset,r=[...t].map(i=>new go({dataset:n,factory:this.factory,term:i}));return this.clone({ptrs:r})}out(t,n){return this.clone({ptrs:this.ptrs.flatMap(r=>r.out(t,n))})}*quads(){for(const{edges:t}of this.ptrs)for(const{quad:n}of t)yield n}trim(){return this.clone({ptrs:this.ptrs.map(t=>t.trim())})}*[Symbol.iterator](){for(const t of this.ptrs)yield this.clone({ptrs:[t]})}}class Dj extends Rj{constructor({dataset:t,factory:n,ptrs:r,term:i,terms:a,graph:s,graphs:o}){(i||a)&&(a=a||i),(s||o)&&(o=o||s),!r&&a&&(r=Aj(a,{dataset:t,factory:n,graph:o})),super({dataset:t,factory:n,ptrs:r,graphs:o})}_toTerm(t){return md(t,{factory:this.factory})}_toTermArray(t){return kI(t,{factory:this.factory})}addIn(t,n,r){return typeof n=="function"&&(r=n,n=null),n||(n=[this.factory.blankNode()]),super.addIn(this._toTermArray(t),this._toTermArray(n),r)}addList(t,n){return super.addList(this._toTermArray(t),this._toTermArray(n))}addOut(t,n,r){return typeof n=="function"&&(r=n,n=null),n||(n=[this.factory.blankNode()]),super.addOut(this._toTermArray(t),this._toTermArray(n),r)}base(t){if(!t)throw new Error("base parameter is required");t=this._toTerm(t);for(const n of this.ptrs)vj(t,{factory:this.factory})(n.dataset);return this.node(DI(t,{factory:this.factory})(this.term))}best(t){return this.score(t,{limit:1})}deleteIn(t,n){return super.deleteIn(this._toTermArray(t),this._toTermArray(n))}deleteList(t){return super.deleteList(this._toTermArray(t))}deleteOut(t,n){return super.deleteOut(this._toTermArray(t),this._toTermArray(n))}hasIn(t,n){return super.hasIn(this._toTermArray(t),this._toTermArray(n))}hasOut(t,n){return super.hasOut(this._toTermArray(t),this._toTermArray(n))}in(t,n){return super.in(this._toTermArray(t),this._toTermArray(n))}out(t,n){return super.out(this._toTermArray(t),this._toTermArray(n))}node(t=null){return super.node(this._toTermArray(t))}rebase(t){if(!t)throw new Error("base parameter is required");t=this._toTerm(t);for(const n of this.ptrs)bj(n.term,t,{factory:this.factory})(n.dataset);return this.node(t)}replace(t){if(!t)throw new Error("replacement parameter is required");t=this._toTerm(t);for(const n of this.ptrs)xj(n.term,t,{factory:this.factory})(n.dataset);return this.node(t)}score(t,{limit:n=1/0,offset:r=0}={}){const i=Ij(t(this)).slice(r,r+n).map(a=>new go({...a,factory:this.factory}));return this.clone({ptrs:i})}}function kj(e){return new Dj(e)}let OI=class{grapoi({...t}={}){return!t.dataset&&typeof this.dataset=="function"&&(t.dataset=this.dataset()),kj({...t,factory:this})}};OI.exports=["grapoi"];let Oj=class extends pv{toCanonical(){return Ut(this)}toString(){return this.toCanonical()}},Pj=class extends vf{toCanonical(){return Ut(this)}toString(){return this.toCanonical()}},N_=class extends Pl{toCanonical(){return Ut(this)}toString(){return this.value}},vv=class extends Eo{toCanonical(){return Ut(this)}toString(){return this.value}toURL(){return new URL(this.value)}},Lj=class extends yf{toCanonical(){return Ut(this)}toString(){return this.toCanonical()}},Fj=class extends gv{toCanonical(){return Ut(this)}toString(){return this.toCanonical()}};const jj=new vv("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),$j=new vv("http://www.w3.org/2001/XMLSchema#string");let PI=class{init(){this._data={blankNodeCounter:0,defaultGraph:new Pj}}namedNode(t){return typeof t!="string"&&(t=t.toString()),new vv(t)}blankNode(t){return t=t||"b"+ ++this._data.blankNodeCounter,new Oj(t)}literal(t,n){return typeof n=="string"?new N_(t,n,jj):new N_(t,"",n||$j)}variable(t){return new Fj(t)}defaultGraph(){return this._data.defaultGraph}quad(t,n,r,i=this.defaultGraph()){return new Lj(t,n,r,i)}fromTerm(t){return gd(this,t)}fromQuad(t){return gd(this,t)}};PI.exports=["namedNode","blankNode","literal","variable","defaultGraph","quad","fromTerm","fromQuad"];function La(e){return typeof e=="string"||e instanceof String}const Vj="http://www.w3.org/2001/XMLSchema#string";function zt(e){if(typeof e=="string")return e;if(!e)return"";if(typeof e.id<"u"&&e.termType!=="Quad")return e.id;let t,n,r,i;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return e.language?`"${e.value}"@${e.language}`:`"${e.value}"${e.datatype&&e.datatype.value!==Vj?`^^${e.datatype.value}`:""}`;case"Quad":return t=Yh(zt(e.subject)),n=Yh(zt(e.predicate)),r=Yh(zt(e.object)),i=e.graph.termType==="DefaultGraph"?"":` ${zt(e.graph)}`,`<<${t} ${n} ${r}${i}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}const Mj=/^"(.*".*)(?="[^"]*$)/;function Yh(e){return e.replace(Mj,(t,n)=>`"${n.replace(/"/g,'""')}`)}class Bj{constructor(t){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,t)for(const n of t)this.add(n)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const s in r=n[a].subjects)for(const o in i=r[s])t+=Object.keys(i[o]).length;return this._size=t,this._size}add(t){let n=zt(t.subject),r=zt(t.predicate),i=zt(t.object);const a=zt(t.graph);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s));const o=this._ids,l=this._entities;return n=o[n]||(o[l[++this._id]=n]=this._id),r=o[r]||(o[l[++this._id]=r]=this._id),i=o[i]||(o[l[++this._id]=i]=this._id),this._addToIndex(s.subjects,n,r,i),this._addToIndex(s.predicates,r,i,n),this._addToIndex(s.objects,i,n,r),this._setQuad(n,r,i,a,t),this._size=null,this}delete(t){let n=zt(t.subject),r=zt(t.predicate),i=zt(t.object);const a=zt(t.graph),s=this._ids,o=this._graphs;let l,u,c;if(!(n=s[n])||!(r=s[r])||!(i=s[i])||!(l=o[a])||!(u=l.subjects[n])||!(c=u[r])||!(i in c))return this;this._removeFromIndex(l.subjects,n,r,i),this._removeFromIndex(l.predicates,r,i,n),this._removeFromIndex(l.objects,i,n,r),this._size!==null&&this._size--,this._deleteQuad(n,r,i,a);for(n in l.subjects)return this;return delete o[a],this}has(t){const n=zt(t.subject),r=zt(t.predicate),i=zt(t.object),a=zt(t.graph),s=this._graphs[a];if(!s)return!1;const o=this._ids;let l,u,c;return La(n)&&!(l=o[n])||La(r)&&!(u=o[r])||La(i)&&!(c=o[i])?!1:this._countInIndex(s.objects,c,l,u)===1}match(t,n,r,i){return this._createDataset(this._match(t,n,r,i))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),s=a[r]||(a[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(t,n,r,i){const a=t[n],s=a[r];delete s[i];for(const o in s)return;delete a[r];for(const o in a)return;delete t[n]}_findInIndex(t,n,r,i,a,s,o,l,u,c){let d,f,h;n&&((d=t,t={})[n]=d[n]);for(const p in t)if(f=t[p],f){r&&((d=f,f={})[r]=d[r]);for(const g in f)if(h=f[g],h){const m=i?i in h?[i]:[]:Object.keys(h);for(let v=0;v<m.length;v++){const _={[a]:p,[s]:g,[o]:m[v]},x=this._getQuad(_.subject,_.predicate,_.object,l);if(c)c.push(x);else if(u(x))return!0}}}return c}_countInIndex(t,n,r,i){let a=0,s,o,l;n&&((s=t,t={})[n]=s[n]);for(const u in t)if(o=t[u],o){r&&((s=o,o={})[r]=s[r]);for(const c in o)l=o[c],l&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return La(t)?{[t]:this._graphs[t]}:this._graphs}_match(t,n,r,i){t=t&&zt(t),n=n&&zt(n),r=r&&zt(r),i=i&&zt(i);const a=[],s=this._getGraphs(i),o=this._ids;let l,u,c,d;if(La(t)&&!(u=o[t])||La(n)&&!(c=o[n])||La(r)&&!(d=o[r]))return a;for(const f in s)l=s[f],l&&(u?d?this._findInIndex(l.objects,d,u,c,"object","subject","predicate",f,null,a):this._findInIndex(l.subjects,u,c,null,"subject","predicate","object",f,null,a):c?this._findInIndex(l.predicates,c,d,null,"predicate","object","subject",f,null,a):d?this._findInIndex(l.objects,d,null,null,"object","subject","predicate",f,null,a):this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",f,null,a));return a}_getQuad(t,n,r,i){return this._quads.get(this._toId(t,n,r,i))}_setQuad(t,n,r,i,a){this._quads.set(this._toId(t,n,r,i),a)}_deleteQuad(t,n,r,i){this._quads.delete(this._toId(t,n,r,i))}_createDataset(t){return new this.constructor(t)}_toId(t,n,r,i){return`${t}:${n}:${r}:${i}`}}var Uj=class LI{constructor(t,n=new Map,r=0){this.prefix=t,this._existing=n,this.counter=r}clone(){const{prefix:t,_existing:n,counter:r}=this;return new LI(t,new Map(n),r)}getId(t){const n=t&&this._existing.get(t);if(n)return n;const r=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,r),r}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}},_f={};(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,a=e.document,s;function o(_){typeof _!="function"&&(_=new Function(""+_));for(var x=new Array(arguments.length-1),I=0;I<x.length;I++)x[I]=arguments[I+1];var S={callback:_,args:x};return r[n]=S,s(n),n++}function l(_){delete r[_]}function u(_){var x=_.callback,I=_.args;switch(I.length){case 0:x();break;case 1:x(I[0]);break;case 2:x(I[0],I[1]);break;case 3:x(I[0],I[1],I[2]);break;default:x.apply(t,I);break}}function c(_){if(i)setTimeout(c,0,_);else{var x=r[_];if(x){i=!0;try{u(x)}finally{l(_),i=!1}}}}function d(){s=function(_){process.nextTick(function(){c(_)})}}function f(){if(e.postMessage&&!e.importScripts){var _=!0,x=e.onmessage;return e.onmessage=function(){_=!1},e.postMessage("","*"),e.onmessage=x,_}}function h(){var _="setImmediate$"+Math.random()+"$",x=function(I){I.source===e&&typeof I.data=="string"&&I.data.indexOf(_)===0&&c(+I.data.slice(_.length))};e.addEventListener?e.addEventListener("message",x,!1):e.attachEvent("onmessage",x),s=function(I){e.postMessage(_+I,"*")}}function p(){var _=new MessageChannel;_.port1.onmessage=function(x){var I=x.data;c(I)},s=function(x){_.port2.postMessage(x)}}function g(){var _=a.documentElement;s=function(x){var I=a.createElement("script");I.onreadystatechange=function(){c(x),I.onreadystatechange=null,_.removeChild(I),I=null},_.appendChild(I)}}function m(){s=function(_){setTimeout(c,0,_)}}var v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,{}.toString.call(e.process)==="[object process]"?d():f()?h():e.MessageChannel?p():a&&"onreadystatechange"in a.createElement("script")?g():m(),v.setImmediate=o,v.clearImmediate=l})(typeof self>"u"?tt:self);/*!
 * Copyright (c) 2023 Digital Bazaar, Inc. All rights reserved.
 */_f.setImmediate=setImmediate;_f.crypto=globalThis.crypto;const FI=[];for(let e=0;e<=255;++e)FI.push(e.toString(16).padStart(2,"0"));_f.bufferToHex=function(t){let n="";const r=new Uint8Array(t);for(let i=0;i<r.length;++i)n+=FI[r[i]];return n};/*!
 * Copyright (c) 2016-2023 Digital Bazaar, Inc. All rights reserved.
 */const{bufferToHex:Hj,crypto:Qh}=_f,R_=new Map([["sha256","SHA-256"],["SHA256","SHA-256"],["SHA-256","SHA-256"],["sha384","SHA-384"],["SHA384","SHA-384"],["SHA-384","SHA-384"],["sha512","SHA-512"],["SHA512","SHA-512"],["SHA-512","SHA-512"]]);var Gj=class{constructor(t){if(!(Qh&&Qh.subtle))throw new Error("crypto.subtle not found.");if(!R_.has(t))throw new Error(`Unsupported algorithm "${t}".`);this.algorithm=R_.get(t),this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),n=await Qh.subtle.digest(this.algorithm,t);return Hj(n)}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var Wj=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<t.length;++n)this.dir.set(t[n],!0)}hasNext(){return!this.done}next(){const{current:t,dir:n}=this,r=t.slice();let i=null,a=0;const s=t.length;for(let o=0;o<s;++o){const l=t[o],u=n.get(l);(i===null||l>i)&&(u&&o>0&&l>t[o-1]||!u&&o<s-1&&l>t[o+1])&&(i=l,a=o)}if(i===null)this.done=!0;else{const o=n.get(i)?a-1:a+1;t[a]=t[o],t[o]=i;for(const l of t)l>i&&n.set(l,!n.get(l))}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const zj="http://www.w3.org/1999/02/22-rdf-syntax-ns#",D_=zj+"langString",k_="http://www.w3.org/2001/XMLSchema#string",xi="NamedNode",Wo="BlankNode",jI="Literal",Kj="DefaultGraph",ro={};(()=>{const t="A-Za-z-----------"+"_",n=t+"0-9---",r="_:((?:["+t+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",s='(?:<((?:[^\0- <>"{}|^`\\\\]|'+"\\\\u[0-9A-Fa-f]{4}"+"|"+"\\\\U[0-9A-Fa-f]{8}"+")*)>)",o=r,l='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',u="(?:\\^\\^"+s+")",d="(?:"+l+"(?:"+u+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",f="[ \\t]+",h="[ \\t]*",p="(?:"+s+"|"+o+")"+f,g=s+f,m="(?:"+s+"|"+o+"|"+d+")"+h,v="(?:\\.|(?:(?:"+s+"|"+o+")"+h+"\\.))";ro.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,ro.empty=new RegExp("^"+h+"$"),ro.quad=new RegExp("^"+h+p+g+m+v+h+"$")})();var qj=class Dg{static parse(t){const n=[],r={},i=t.split(ro.eoln);let a=0;for(const s of i){if(a++,ro.empty.test(s))continue;const o=s.match(ro.quad);if(o===null)throw new Error("N-Quads parse error on line "+a+".");const l={subject:null,predicate:null,object:null,graph:null};if(o[1]!==void 0?l.subject={termType:xi,value:Ko(o[1])}:l.subject={termType:Wo,value:o[2]},l.predicate={termType:xi,value:Ko(o[3])},o[4]!==void 0?l.object={termType:xi,value:Ko(o[4])}:o[5]!==void 0?l.object={termType:Wo,value:o[5]}:(l.object={termType:jI,value:void 0,datatype:{termType:xi}},o[7]!==void 0?l.object.datatype.value=Ko(o[7]):o[8]!==void 0?(l.object.datatype.value=D_,l.object.language=o[8]):l.object.datatype.value=k_,l.object.value=Qj(o[6])),o[9]!==void 0?l.graph={termType:xi,value:Ko(o[9])}:o[10]!==void 0?l.graph={termType:Wo,value:o[10]}:l.graph={termType:Kj,value:""},!(l.graph.value in r))r[l.graph.value]=[l],n.push(l);else{let u=!0;const c=r[l.graph.value];for(const d of c)if(Jj(d,l)){u=!1;break}u&&(c.push(l),n.push(l))}}return n}static serialize(t){const n=[];for(const r of t)n.push(Dg.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(t,n,r,i){let a="";return t.termType===xi?a+=`<${zo(t.value)}>`:a+=`_:${t.value}`,n.termType===xi?a+=` <${zo(n.value)}> `:a+=` _:${n.value} `,r.termType===xi?a+=`<${zo(r.value)}>`:r.termType===Wo?a+=`_:${r.value}`:(a+=`"${Yj(r.value)}"`,r.datatype.value===D_?r.language&&(a+=`@${r.language}`):r.datatype.value!==k_&&(a+=`^^<${zo(r.datatype.value)}>`)),i.termType===xi?a+=` <${zo(i.value)}>`:i.termType===Wo&&(a+=` _:${i.value}`),a+=` .
`,a}static serializeQuad(t){return Dg.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}};function Jj(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==jI?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const vd=/[\u0000-\u001F\u007F"\\]/g,Wi=[];for(let e=0;e<=127;++e)vd.test(String.fromCharCode(e))&&(Wi[e]="\\u"+e.toString(16).toUpperCase().padStart(4,"0"),vd.lastIndex=0);Wi["\b".codePointAt(0)]="\\b";Wi["	".codePointAt(0)]="\\t";Wi[`
`.codePointAt(0)]="\\n";Wi["\f".codePointAt(0)]="\\f";Wi["\r".codePointAt(0)]="\\r";Wi['"'.codePointAt(0)]='\\"';Wi["\\".codePointAt(0)]="\\\\";function Yj(e){return vd.test(e)?e.replace(vd,function(t){return Wi[t.codePointAt(0)]}):e}const O_=/(?:\\([btnfr"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function Qj(e){return O_.test(e)?e.replace(O_,function(t,n,r,i){if(n)switch(n){case"b":return"\b";case"t":return"	";case"n":return`
`;case"f":return"\f";case"r":return"\r";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(i)return String.fromCodePoint(parseInt(i,16))}):e}const yd=/[\u0000-\u0020<>"{}|^`\\]/g,$I=[];for(let e=0;e<=127;++e)yd.test(String.fromCharCode(e))&&($I[e]="\\u"+e.toString(16).toUpperCase().padStart(4,"0"),yd.lastIndex=0);function zo(e){return yd.test(e)?e.replace(yd,function(t){return $I[t.codePointAt(0)]}):e}const P_=/(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function Ko(e){return P_.test(e)?e.replace(P_,function(t,n,r){if(n)return String.fromCharCode(parseInt(n,16));if(r)return String.fromCodePoint(parseInt(r,16))}):e}/*!
 * Copyright (c) 2016-2023 Digital Bazaar, Inc. All rights reserved.
 */const L_=Uj,Xj=Gj,Zj=Wj,F_=qj;var e$=class{constructor({createMessageDigest:t=null,messageDigestAlgorithm:n="sha256",canonicalIdMap:r=new Map,maxWorkFactor:i=1,maxDeepIterations:a=-1,timeout:s=0}={}){this.name="RDFC-1.0",this.blankNodeInfo=new Map,this.canonicalIssuer=new L_("c14n",r),this.createMessageDigest=t||(()=>new Xj(n)),this.maxWorkFactor=i,this.maxDeepIterations=a,this.remainingDeepIterations=0,this.timeout=s,s>0&&(this.startTime=Date.now()),this.quads=null}main(t){this.quads=t;for(const o of t)this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];for(const o of r)this._hashAndTrackBlankNode({id:o,hashToBlankNodes:n});const i=[...n.keys()].sort(),a=[];for(const o of i){const l=n.get(o);if(l.length>1){a.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}if(this.maxDeepIterations<0)if(this.maxWorkFactor===0)this.maxDeepIterations=0;else if(this.maxWorkFactor===1/0)this.maxDeepIterations=1/0;else{const o=a.reduce((l,u)=>l+u.length,0);this.maxDeepIterations=o**this.maxWorkFactor}this.maxDeepIterations>Number.MAX_SAFE_INTEGER&&(this.maxDeepIterations=1/0),this.remainingDeepIterations=this.maxDeepIterations;for(const o of a){const l=[];for(const u of o){if(this.canonicalIssuer.hasId(u))continue;const c=new L_("b");c.getId(u);const d=this.hashNDegreeQuads(u,c);l.push(d)}l.sort(t$);for(const u of l){const c=u.issuer.getOldIds();for(const d of c)this.canonicalIssuer.getId(d)}}const s=[];for(const o of this.quads){const l=F_.serializeQuadComponents(this._componentWithCanonicalId(o.subject),o.predicate,this._componentWithCanonicalId(o.object),this._componentWithCanonicalId(o.graph));s.push(l)}return s.sort(),s.join("")}hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),i=r.quads;for(const s of i)n.push(F_.serializeQuadComponents(this.modifyFirstDegreeComponent(t,s.subject,"subject"),s.predicate,this.modifyFirstDegreeComponent(t,s.object,"object"),this.modifyFirstDegreeComponent(t,s.graph,"graph")));n.sort();const a=this.createMessageDigest();for(const s of n)a.update(s);return r.hash=a.digest(),r.hash}hashRelatedBlankNode(t,n,r,i){const a=this.createMessageDigest();a.update(i),i!=="g"&&a.update(this.getRelatedPredicate(n));let s;return this.canonicalIssuer.hasId(t)?s="_:"+this.canonicalIssuer.getId(t):r.hasId(t)?s="_:"+r.getId(t):s=this.blankNodeInfo.get(t).hash,a.update(s),a.digest()}hashNDegreeQuads(t,n){if(this.remainingDeepIterations===0)throw new Error(`Maximum deep iterations exceeded (${this.maxDeepIterations}).`);this.remainingDeepIterations--;const r=this.createMessageDigest(),i=this.createHashToRelated(t,n),a=[...i.keys()].sort();for(const s of a){r.update(s);let o="",l;const u=new Zj(i.get(s));let c=0;for(;u.hasNext();){const d=u.next();if(++c%3===0&&this.timeout>0&&Date.now()-this.startTime>this.timeout)throw new Error("Canonize timeout.");let f=n.clone(),h="";const p=[];let g=!1;for(const m of d)if(this.canonicalIssuer.hasId(m)?h+="_:"+this.canonicalIssuer.getId(m):(f.hasId(m)||p.push(m),h+="_:"+f.getId(m)),o.length!==0&&h>o){g=!0;break}if(!g){for(const m of p){const v=this.hashNDegreeQuads(m,f);if(h+="_:"+f.getId(m),h+=`<${v.hash}>`,f=v.issuer,o.length!==0&&h>o){g=!0;break}}g||(o.length===0||h<o)&&(o=h,l=f)}}r.update(o),n=l}return{hash:r.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"a":"z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){const r=new Map,i=this.blankNodeInfo.get(t).quads;for(const a of i)this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:t,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:n,position:r,id:i,issuer:a,hashToRelated:s}){if(!(n.termType==="BlankNode"&&n.value!==i))return;const o=n.value,l=this.hashRelatedBlankNode(o,t,a,r),u=s.get(l);u?u.push(o):s.set(l,[o])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function t$(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}const n$=Zd(e$);function r$(e){return{subject:nc(e.subject),predicate:nc(e.predicate),object:nc(e.object),graph:nc(e.graph)}}function nc(e){return e.termType==="BlankNode"?{termType:"BlankNode",value:`_:${e.value}`}:e}function i$(e){return[...e].map(t=>r$(t))}function a$(e){return new n$({maxDeepIterations:500}).main(i$(e))}function Xh(e,t){return new e.constructor(t)}class s$ extends Bj{addAll(t){for(const n of t)this.add(n);return this}clone(){return Xh(this,this)}deleteMatches(t,n,r,i){for(const a of this.match(t,n,r,i))this.delete(a);return this}difference(t){return this.filter(n=>!t.has(n))}equals(t){return this.toCanonical()===t.toCanonical()}every(t){return Array.from(this).every(n=>t(n,this))}filter(t){return Xh(this,Array.from(this).filter(n=>t(n,this)))}forEach(t){Array.from(this).forEach(n=>t(n,this))}import(t){return t.on("data",n=>this.add(n)),new Promise((n,r)=>{kt.finished(t,i=>{i?r(i):n(this)})})}intersection(t){return this.filter(n=>t.has(n))}map(t){return Xh(this,Array.from(this).map(n=>t(n,this)))}merge(t){return this.clone().addAll(t)}reduce(t,n){return Array.from(this).reduce((r,i,a)=>t(r,i,a,this),n)}some(t){return Array.from(this).some(n=>t(n,this))}toCanonical(){return a$(this)}toStream(){return kt.Readable.from(this)}toString(){return Ut(this)}}class VI{dataset(t,n){const r=new s$;if(t)if(n)for(const i of t)r.add(this.quad(i.subject,i.predicate,i.object,n));else r.addAll(t);return r}}VI.exports=["dataset"];async function o$(e={}){if(!e.body||!e.body.readable)return e;const t=await hv(e.body);return t.length>0?t[0].BYTES_PER_ELEMENT===1?e.body=RF(t):e.body=t.join(""):e.body="",e}var l$=/\s/;function u$(e){for(var t=e.length;t--&&l$.test(e.charAt(t)););return t}var c$=u$,d$=c$,f$=/^\s+/;function h$(e){return e&&e.slice(0,d$(e)+1).replace(f$,"")}var p$=h$;function g$(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var m$=g$,v$=typeof tt=="object"&&tt&&tt.Object===Object&&tt,y$=v$,b$=y$,_$=typeof self=="object"&&self&&self.Object===Object&&self,w$=b$||_$||Function("return this")(),x$=w$,S$=x$,E$=S$.Symbol,MI=E$,j_=MI,BI=Object.prototype,I$=BI.hasOwnProperty,C$=BI.toString,qo=j_?j_.toStringTag:void 0;function T$(e){var t=I$.call(e,qo),n=e[qo];try{e[qo]=void 0;var r=!0}catch{}var i=C$.call(e);return r&&(t?e[qo]=n:delete e[qo]),i}var A$=T$,N$=Object.prototype,R$=N$.toString;function D$(e){return R$.call(e)}var k$=D$,$_=MI,O$=A$,P$=k$,L$="[object Null]",F$="[object Undefined]",V_=$_?$_.toStringTag:void 0;function j$(e){return e==null?e===void 0?F$:L$:V_&&V_ in Object(e)?O$(e):P$(e)}var $$=j$;function V$(e){return e!=null&&typeof e=="object"}var M$=V$,B$=$$,U$=M$,H$="[object Symbol]";function G$(e){return typeof e=="symbol"||U$(e)&&B$(e)==H$}var W$=G$,z$=p$,M_=m$,K$=W$,B_=NaN,q$=/^[-+]0x[0-9a-f]+$/i,J$=/^0b[01]+$/i,Y$=/^0o[0-7]+$/i,Q$=parseInt;function X$(e){if(typeof e=="number")return e;if(K$(e))return B_;if(M_(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=M_(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=z$(e);var n=J$.test(e);return n||Y$.test(e)?Q$(e.slice(2),n?2:8):q$.test(e)?B_:+e}var Z$=X$,eV=Z$,tV=1/0,nV=17976931348623157e292;function rV(e){if(!e)return e===0?e:0;if(e=eV(e),e===tV||e===-1/0){var t=e<0?-1:1;return t*nV}return e===e?e:0}var iV=rV,aV=iV;function sV(e){var t=aV(e),n=t%1;return t===t?n?t-n:t:0}var oV=sV,lV=oV,uV="Expected a function";function cV(e,t){var n;if(typeof t!="function")throw new TypeError(uV);return e=lV(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var dV=cV,fV=dV;function hV(e){return fV(2,e)}var pV=hV;const gV=Zd(pV);function mV(e){return new kt.Readable({read:gV(async function(){try{this.push(new Uint8Array(await e())),this.push(null)}catch(t){this.destroy(t)}})})}class yv{constructor(t,n){this.obj=t;for(const[r,i]of Object.entries(n))this[r]=i;for(const r of yv.properties(t))r in this||(typeof this.obj[r]=="function"?this[r]=(...i)=>this.obj[r].call(t,i):Object.defineProperty(this,r,{get:()=>this.obj[r],set:i=>{this.obj[r]=i},enumerable:!0,configurable:!0}))}static properties(t){return Object.getOwnPropertyNames(Object.getPrototypeOf(t))}}function vV(e){return new kt.Readable({read:async function(){try{let t,n;do t=await e.read(),t.done?this.push(null):n=!this.push(t.value);while(!t.done&&!n)}catch(t){this.destroy(t)}}})}function yV(e){if(e.bodyUsed){const t=new kt.Readable({read:()=>t.destroy(new Error("body already in use"))});return e.body=t,e}return e.body&&e.body.readable?e:e.body&&typeof e.body.getReader=="function"?new yv(e,{body:vV(e.body.getReader())}):(e.body=mV(()=>e.arrayBuffer()),e)}const UI=window.Headers;function HI(e,t){return o$(t).then(n=>fetch(e,n).then(r=>yV(r)))}function bV(e,{checkOpen:t=!0}={}){return e!==null&&typeof e=="object"&&(e.writable||e.readable||!t||e.writable===void 0&&e.readable===void 0)&&typeof e.pipe=="function"}function _V(e,{checkOpen:t=!0}={}){return bV(e,{checkOpen:t})&&(e.readable||!t)&&typeof e.read=="function"&&typeof e.readable=="boolean"&&typeof e.readableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function wV(e,t){if(e.headers=new UI(e.headers),e.headers.has("accept")||e.headers.set("accept",[...t.parsers.keys()].join(", ")),!e.body||typeof e.body=="string")return e;let n=e.headers.get("content-type");if(n&&!t.serializers.has(n))throw new Error(`no serializer found for media type: ${e.headers.get("content-type")}`);return n||(n=t.serializers.keys().next().value,e.headers.set("content-type",n)),!_V(e.body)&&e.body[Symbol.iterator]&&(e.body=kt.Readable.from(e.body)),e.body=t.serializers.import(n,e.body,{prefixes:e.prefixes}),e}async function xV(e,t){for await(const n of t)e.add(n);return e}function SV(e,t){e.dataset=async()=>{const n=await e.quadStream();return xV(t.dataset(),n)}}const EV=/<(.*)>/;function IV(e,t){if(t!=="application/json"||!e.headers.has("link"))return null;const r=e.headers.get("link").split(",").map(a=>a.trim()).find(a=>a.includes('rel="http://www.w3.org/ns/json-ld#context"'));if(!r)return null;const i=(EV.exec(r)||[]).slice(-1)[0];return i?new URL(i,e.url).toString():null}function CV(e,t,n){e.quadStream=async()=>{if(!e.headers.get("content-type"))throw new Error("Content-Type header missing: couldn't determine parser");let r=e.headers.get("content-type").split(";")[0];const i=IV(e,r);if(i&&(r="application/ld+json"),!n.has(r))return Promise.reject(new Error(`unknown content type: ${r}`));let a;return i&&(a=await t(i).then(s=>s.json())),n.import(r,e.body,{baseIRI:e.url,context:a})}}function TV(e,t,n,r){const i=[...e.headers.keys()].some(o=>o.startsWith("content-")),a=e.headers.get("transfer-encoding")==="chunked";return(i||a)&&(CV(e,n,r),t&&SV(e,t)),e}async function bd(e,t={}){const n=t.factory,r=t.fetch||HI,i=t.formats;if(!i)throw new Error("no formats given");t=wV(t,i);const a=await r(e,t);return TV(a,n,r,i.parsers)}function AV(e){const t=function(n,r={}){const i=typeof e.dataset=="function"?e:null;return bd(n,{fetch:e._fetch.fetch,formats:e.formats,...r,factory:i})};return t.config=function(n,r){e._fetch[n]=r},t.Headers=UI,t}let NV=class{init(){this._fetch={fetch:null},this.fetch=AV(this)}clone(t){for(const[n,r]of Object.entries(t._fetch))this._fetch[n]=r}};class RV extends NV{init(){super.init(),this.fetch.config("fetch",HI)}}class Io{constructor(t,n){this.Impl=t,this.options=n}import(t,n){const r=new this.Impl(t,{...this.options,...n});return t.on("end",()=>{r.readable||r.emit("end")}),t.on("error",i=>{r.emit("error",i)}),r}}var GI={},Jo={},{Buffer:sa}=$r,st={},WI=st.LEFT_BRACE=1,Oc=st.RIGHT_BRACE=2,zI=st.LEFT_BRACKET=3,kg=st.RIGHT_BRACKET=4,Pc=st.COLON=5,_d=st.COMMA=6,KI=st.TRUE=7,qI=st.FALSE=8,JI=st.NULL=9,wd=st.STRING=10,YI=st.NUMBER=11,Ga=st.START=17,QI=st.STOP=18,U_=st.TRUE1=33,H_=st.TRUE2=34,G_=st.TRUE3=35,W_=st.FALSE1=49,z_=st.FALSE2=50,K_=st.FALSE3=51,q_=st.FALSE4=52,J_=st.NULL1=65,Y_=st.NULL2=66,Q_=st.NULL3=67,X_=st.NUMBER1=81,Zh=st.NUMBER3=83,Sr=st.STRING1=97,Z_=st.STRING2=98,ew=st.STRING3=99,DV=st.STRING4=100,kV=st.STRING5=101,tw=st.STRING6=102,Gs=st.VALUE=113,ep=st.KEY=114,rc=st.OBJECT=129,ic=st.ARRAY=130,OV=92,PV=47,LV=8,FV=12,jV=10,$V=13,VV=9,bv=64*1024;function ac(e){return sa.alloc?sa.alloc(e):new sa(e)}function ga(){this.tState=Ga,this.value=void 0,this.string=void 0,this.stringBuffer=ac(bv),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=Gs,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:ac(2),3:ac(3),4:ac(4)},this.offset=-1}ga.toknam=function(e){for(var t=Object.keys(st),n=0,r=t.length;n<r;n++){var i=t[n];if(st[i]===e)return i}return e&&"0x"+e.toString(16)};var tr=ga.prototype;tr.onError=function(e){throw e};tr.charError=function(e,t){this.tState=QI,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+ga.toknam(this.tState)))};tr.appendStringChar=function(e){this.stringBufferOffset>=bv&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e};tr.appendStringBuf=function(e,t,n){var r=e.length;typeof t=="number"&&(typeof n=="number"?n<0?r=e.length-t+n:r=n-t:r=e.length-t),r<0&&(r=0),this.stringBufferOffset+r>bv&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,n),this.stringBufferOffset+=r};tr.write=function(e){typeof e=="string"&&(e=new sa(e));for(var t,n=0,r=e.length;n<r;n++)if(this.tState===Ga){if(t=e[n],this.offset++,t===123)this.onToken(WI,"{");else if(t===125)this.onToken(Oc,"}");else if(t===91)this.onToken(zI,"[");else if(t===93)this.onToken(kg,"]");else if(t===58)this.onToken(Pc,":");else if(t===44)this.onToken(_d,",");else if(t===116)this.tState=U_;else if(t===102)this.tState=W_;else if(t===110)this.tState=J_;else if(t===34)this.string="",this.stringBufferOffset=0,this.tState=Sr;else if(t===45)this.string="-",this.tState=X_;else if(t>=48&&t<64)this.string=String.fromCharCode(t),this.tState=Zh;else if(!(t===32||t===9||t===10||t===13))return this.charError(e,n)}else if(this.tState===Sr)if(t=e[n],this.bytes_remaining>0){for(var i=0;i<this.bytes_remaining;i++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+i]=e[i];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,n=n+i-1}else if(this.bytes_remaining===0&&t>=128){if(t<=193||t>244)return this.onError(new Error("Invalid UTF-8 character at position "+n+" in state "+ga.toknam(this.tState)));if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+n>e.length){for(var a=0;a<=e.length-1-n;a++)this.temp_buffs[this.bytes_in_sequence][a]=e[n+a];this.bytes_remaining=n+this.bytes_in_sequence-e.length,n=e.length-1}else this.appendStringBuf(e,n,n+this.bytes_in_sequence),n=n+this.bytes_in_sequence-1}else if(t===34)this.tState=Ga,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(wd,this.string),this.offset+=sa.byteLength(this.string,"utf8")+1,this.string=void 0;else if(t===92)this.tState=Z_;else if(t>=32)this.appendStringChar(t);else return this.charError(e,n);else if(this.tState===Z_)if(t=e[n],t===34)this.appendStringChar(t),this.tState=Sr;else if(t===92)this.appendStringChar(OV),this.tState=Sr;else if(t===47)this.appendStringChar(PV),this.tState=Sr;else if(t===98)this.appendStringChar(LV),this.tState=Sr;else if(t===102)this.appendStringChar(FV),this.tState=Sr;else if(t===110)this.appendStringChar(jV),this.tState=Sr;else if(t===114)this.appendStringChar($V),this.tState=Sr;else if(t===116)this.appendStringChar(VV),this.tState=Sr;else if(t===117)this.unicode="",this.tState=ew;else return this.charError(e,n);else if(this.tState===ew||this.tState===DV||this.tState===kV||this.tState===tw)if(t=e[n],t>=48&&t<64||t>64&&t<=70||t>96&&t<=102){if(this.unicode+=String.fromCharCode(t),this.tState++===tw){var s=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&s>=56320&&s<57344?(this.appendStringBuf(new sa(String.fromCharCode(this.highSurrogate,s))),this.highSurrogate=void 0):this.highSurrogate===void 0&&s>=55296&&s<56320?this.highSurrogate=s:(this.highSurrogate!==void 0&&(this.appendStringBuf(new sa(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new sa(String.fromCharCode(s)))),this.tState=Sr}}else return this.charError(e,n);else if(this.tState===X_||this.tState===Zh)switch(t=e[n],t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(t),this.tState=Zh;break;default:this.tState=Ga;var o=this.numberReviver(this.string,e,n);if(o)return o;this.offset+=this.string.length-1,this.string=void 0,n--;break}else if(this.tState===U_)if(e[n]===114)this.tState=H_;else return this.charError(e,n);else if(this.tState===H_)if(e[n]===117)this.tState=G_;else return this.charError(e,n);else if(this.tState===G_)if(e[n]===101)this.tState=Ga,this.onToken(KI,!0),this.offset+=3;else return this.charError(e,n);else if(this.tState===W_)if(e[n]===97)this.tState=z_;else return this.charError(e,n);else if(this.tState===z_)if(e[n]===108)this.tState=K_;else return this.charError(e,n);else if(this.tState===K_)if(e[n]===115)this.tState=q_;else return this.charError(e,n);else if(this.tState===q_)if(e[n]===101)this.tState=Ga,this.onToken(qI,!1),this.offset+=4;else return this.charError(e,n);else if(this.tState===J_)if(e[n]===117)this.tState=Y_;else return this.charError(e,n);else if(this.tState===Y_)if(e[n]===108)this.tState=Q_;else return this.charError(e,n);else if(this.tState===Q_)if(e[n]===108)this.tState=Ga,this.onToken(JI,null),this.offset+=3;else return this.charError(e,n)};tr.onToken=function(e,t){};tr.parseError=function(e,t){this.tState=QI,this.onError(new Error("Unexpected "+ga.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+ga.toknam(this.state)))};tr.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})};tr.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=Gs)};tr.emit=function(e){this.mode&&(this.state=_d),this.onValue(e)};tr.onValue=function(e){};tr.onToken=function(e,t){if(this.state===Gs)if(e===wd||e===YI||e===KI||e===qI||e===JI)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===WI)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ep,this.mode=rc;else if(e===zI)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=ic,this.state=Gs;else if(e===Oc)if(this.mode===rc)this.pop();else return this.parseError(e,t);else if(e===kg)if(this.mode===ic)this.pop();else return this.parseError(e,t);else return this.parseError(e,t);else if(this.state===ep)if(e===wd)this.key=t,this.state=Pc;else if(e===Oc)this.pop();else return this.parseError(e,t);else if(this.state===Pc)if(e===Pc)this.state=Gs;else return this.parseError(e,t);else if(this.state===_d)if(e===_d)this.mode===ic?(this.key++,this.state=Gs):this.mode===rc&&(this.state=ep);else if(e===kg&&this.mode===ic||e===Oc&&this.mode===rc)this.pop();else return this.parseError(e,t);else return this.parseError(e,t)};tr.numberReviver=function(e,t,n){var r=Number(e);if(isNaN(r))return this.charError(t,n);e.match(/[0-9]+/)==e&&r.toString()!=e?this.onToken(wd,e):this.onToken(YI,r)};ga.C=st;var MV=ga,On={},wf={},Co={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.removeDotSegmentsOfPath=ha.removeDotSegments=ha.resolve=void 0;function BV(e,t){t=t||"";const n=t.indexOf("#");if(n>0&&(t=t.substr(0,n)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const u=t.indexOf("?");return u>0&&(t=t.substr(0,u)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const u=e.indexOf(":");if(u<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return Wa(e,u)}const r=e.indexOf(":");if(r>=0)return Wa(e,r);const i=t.indexOf(":");if(i<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const a=t.substr(0,i+1);if(e.indexOf("//")===0)return a+Wa(e,r);let s;if(t.indexOf("//",i)===i+1){if(s=t.indexOf("/",i+3),s<0)return t.length>i+3?t+"/"+Wa(e,r):a+Wa(e,r)}else if(s=t.indexOf("/",i+1),s<0)return a+Wa(e,r);if(e.indexOf("/")===0)return t.substr(0,s)+xd(e);let o=t.substr(s);const l=o.lastIndexOf("/");return l>=0&&l<o.length-1&&(o=o.substr(0,l+1),e[0]==="."&&e[1]!=="."&&e[1]!=="/"&&e[2]&&(e=e.substr(1))),e=o+e,e=xd(e),t.substr(0,s)+e}ha.resolve=BV;function xd(e){const t=[];let n=0;for(;n<e.length;)switch(e[n]){case"/":if(e[n+1]===".")if(e[n+2]==="."){if(!nw(e[n+3])){t.push([]),n++;break}t.pop(),e[n+3]||t.push([]),n+=3}else{if(!nw(e[n+2])){t.push([]),n++;break}e[n+2]||t.push([]),n+=2}else t.push([]),n++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(n)),n=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[n]),n++;break}return"/"+t.map(r=>r.join("")).join("/")}ha.removeDotSegments=xd;function Wa(e,t){let n=t+1;t>=0?e[t+1]==="/"&&e[t+2]==="/"&&(n=t+3):e[0]==="/"&&e[1]==="/"&&(n=2);const r=e.indexOf("/",n);if(r<0)return e;const i=e.substr(0,r),a=e.substr(r);return i+xd(a)}ha.removeDotSegmentsOfPath=Wa;function nw(e){return!e||e==="#"||e==="?"||e==="/"}(function(e){var t=tt&&tt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=tt&&tt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(ha,e)})(Co);var To={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(r,i){super(r),this.code=i}}e.ErrorCoded=t,function(n){n.COLLIDING_KEYWORDS="colliding keywords",n.CONFLICTING_INDEXES="conflicting indexes",n.CYCLIC_IRI_MAPPING="cyclic IRI mapping",n.INVALID_ID_VALUE="invalid @id value",n.INVALID_INDEX_VALUE="invalid @index value",n.INVALID_NEST_VALUE="invalid @nest value",n.INVALID_PREFIX_VALUE="invalid @prefix value",n.INVALID_PROPAGATE_VALUE="invalid @propagate value",n.INVALID_REVERSE_VALUE="invalid @reverse value",n.INVALID_IMPORT_VALUE="invalid @import value",n.INVALID_VERSION_VALUE="invalid @version value",n.INVALID_BASE_IRI="invalid base IRI",n.INVALID_CONTAINER_MAPPING="invalid container mapping",n.INVALID_CONTEXT_ENTRY="invalid context entry",n.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",n.INVALID_DEFAULT_LANGUAGE="invalid default language",n.INVALID_INCLUDED_VALUE="invalid @included value",n.INVALID_IRI_MAPPING="invalid IRI mapping",n.INVALID_JSON_LITERAL="invalid JSON literal",n.INVALID_KEYWORD_ALIAS="invalid keyword alias",n.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",n.INVALID_LANGUAGE_MAPPING="invalid language mapping",n.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",n.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",n.INVALID_LOCAL_CONTEXT="invalid local context",n.INVALID_REMOTE_CONTEXT="invalid remote context",n.INVALID_REVERSE_PROPERTY="invalid reverse property",n.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",n.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",n.INVALID_SCOPED_CONTEXT="invalid scoped context",n.INVALID_SCRIPT_ELEMENT="invalid script element",n.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",n.INVALID_TERM_DEFINITION="invalid term definition",n.INVALID_TYPE_MAPPING="invalid type mapping",n.INVALID_TYPE_VALUE="invalid type value",n.INVALID_TYPED_VALUE="invalid typed value",n.INVALID_VALUE_OBJECT="invalid value object",n.INVALID_VALUE_OBJECT_VALUE="invalid value object value",n.INVALID_VOCAB_MAPPING="invalid vocab mapping",n.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",n.KEYWORD_REDEFINITION="keyword redefinition",n.LOADING_DOCUMENT_FAILED="loading document failed",n.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",n.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",n.PROCESSING_MODE_CONFLICT="processing mode conflict",n.PROTECTED_TERM_REDEFINITION="protected term redefinition",n.CONTEXT_OVERFLOW="context overflow",n.INVALID_BASE_DIRECTION="invalid base direction",n.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",n.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",n.INVALID_EMBEDDED_NODE="invalid embedded node",n.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))})(To);var yu={},UV=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,HV=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,GV=/\s|\uFEFF|\xA0/,WV=/\r?\n[\x20\x09]+/g,zV=/[;,"]/,KV=/[;,"]|\s/,qV=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,Si={IDLE:1,URI:2,ATTR:4};function rw(e){return e.replace(HV,"")}function Lc(e){return GV.test(e)}function JV(e,t){for(;Lc(e[t]);)t++;return t}function iw(e){return KV.test(e)||!qV.test(e)}function YV(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>n in t&&e[n]===t[n])}class Rt{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var n=[],r=t.toLowerCase(),i=0;i<this.refs.length;i++)typeof this.refs[i].rel=="string"&&this.refs[i].rel.toLowerCase()===r&&n.push(this.refs[i]);return n}get(t,n){t=t.toLowerCase(),n=n.toLowerCase();for(var r=[],i=0;i<this.refs.length;i++)typeof this.refs[i][t]=="string"&&this.refs[i][t].toLowerCase()===n&&r.push(this.refs[i]);return r}set(t){return this.refs.push(t),this}setUnique(t){return this.refs.some(n=>YV(n,t))||this.refs.push(t),this}has(t,n){t=t.toLowerCase(),n=n.toLowerCase();for(var r=0;r<this.refs.length;r++)if(typeof this.refs[r][t]=="string"&&this.refs[r][t].toLowerCase()===n)return!0;return!1}parse(t,a){a=a||0,t=a?t.slice(a):t,t=rw(t).replace(WV,"");for(var r=Si.IDLE,i=t.length,a=0,s=null;a<i;)if(r===Si.IDLE){if(Lc(t[a])){a++;continue}else if(t[a]==="<"){s!=null&&(s.rel!=null?this.refs.push(...Rt.expandRelations(s)):this.refs.push(s));var o=t.indexOf(">",a);if(o===-1)throw new Error("Expected end of URI delimiter at offset "+a);s={uri:t.slice(a+1,o)},a=o,r=Si.URI}else throw new Error('Unexpected character "'+t[a]+'" at offset '+a);a++}else if(r===Si.URI)if(Lc(t[a])){a++;continue}else if(t[a]===";")r=Si.ATTR,a++;else if(t[a]===",")r=Si.IDLE,a++;else throw new Error('Unexpected character "'+t[a]+'" at offset '+a);else if(r===Si.ATTR){if(t[a]===";"||Lc(t[a])){a++;continue}var o=t.indexOf("=",a);o===-1&&(o=t.indexOf(";",a)),o===-1&&(o=t.length);var l=rw(t.slice(a,o)).toLowerCase(),u="";if(a=o+1,a=JV(t,a),t[a]==='"')for(a++;a<i;){if(t[a]==='"'){a++;break}t[a]==="\\"&&a++,u+=t[a],a++}else{for(var o=a+1;!zV.test(t[o])&&o<i;)o++;u=t.slice(a,o),a=o}switch(s[l]&&Rt.isSingleOccurenceAttr(l)||(l[l.length-1]==="*"?s[l]=Rt.parseExtendedValue(u):(u=l==="type"?u.toLowerCase():u,s[l]!=null?Array.isArray(s[l])?s[l].push(u):s[l]=[s[l],u]:s[l]=u)),t[a]){case",":r=Si.IDLE;break;case";":r=Si.ATTR;break}a++}else throw new Error('Unknown parser state "'+r+'"');return s!=null&&(s.rel!=null?this.refs.push(...Rt.expandRelations(s)):this.refs.push(s)),s=null,this}toString(){for(var t=[],n="",r=null,i=0;i<this.refs.length;i++)r=this.refs[i],n=Object.keys(this.refs[i]).reduce(function(a,s){return s==="uri"?a:a+"; "+Rt.formatAttribute(s,r[s])},"<"+r.uri+">"),t.push(n);return t.join(", ")}}Rt.isCompatibleEncoding=function(e){return UV.test(e)};Rt.parse=function(e,t){return new Rt().parse(e,t)};Rt.isSingleOccurenceAttr=function(e){return e==="rel"||e==="type"||e==="media"||e==="title"||e==="title*"};Rt.isTokenAttr=function(e){return e==="rel"||e==="type"||e==="anchor"};Rt.escapeQuotes=function(e){return e.replace(/"/g,'\\"')};Rt.expandRelations=function(e){var t=e.rel.split(" ");return t.map(function(n){var r=Object.assign({},e);return r.rel=n,r})};Rt.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:Rt.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:Rt.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}};Rt.formatExtendedAttribute=function(e,t){var n=(t.encoding||"utf-8").toUpperCase(),r=t.language||"en",i="";return Buffer.isBuffer(t.value)&&Rt.isCompatibleEncoding(n)?i=t.value.toString(n):Buffer.isBuffer(t.value)?i=t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):i=encodeURIComponent(t.value),e+"="+n+"'"+r+"'"+i};Rt.formatAttribute=function(e,t){return Array.isArray(t)?t.map(n=>Rt.formatAttribute(e,n)).join("; "):e[e.length-1]==="*"||typeof t!="string"?Rt.formatExtendedAttribute(e,t):(Rt.isTokenAttr(e)?t=iw(t)?'"'+Rt.escapeQuotes(t)+'"':Rt.escapeQuotes(t):iw(t)&&(t=encodeURIComponent(t),t=t.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),t='"'+t+'"'),e+"="+t)};var XI=Rt;Object.defineProperty(yu,"__esModule",{value:!0});yu.FetchDocumentLoader=void 0;const aw=To,QV=XI,XV=Co;class ZV{constructor(t){this.fetcher=t}async load(t){const n=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(n.ok&&n.headers){let r=n.headers.get("Content-Type");if(r){const i=r.indexOf(";");i>0&&(r=r.substr(0,i))}if(r==="application/ld+json")return await n.json();if(n.headers.has("Link")){let i;if(n.headers.forEach((a,s)=>{if(s==="link"){const o=(0,QV.parse)(a);for(const l of o.get("type","application/ld+json"))if(l.rel==="alternate"){if(i)throw new Error("Multiple JSON-LD alternate links were found on "+t);i=(0,XV.resolve)(l.uri,t)}}}),i)return this.load(i)}throw new aw.ErrorCoded(`Unsupported JSON-LD media type ${r}`,aw.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(n.statusText||`Status code: ${n.status}`)}}yu.FetchDocumentLoader=ZV;var _v={},Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.Util=void 0;let nr=class Ii{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&t[0]==="#")}static getPrefix(t,n){if(t&&t[0]==="#")return null;const r=t.indexOf(":");if(r>=0){if(t.length>r+1&&t.charAt(r+1)==="/"&&t.charAt(r+2)==="/")return null;const i=t.substr(0,r);if(i==="_")return null;if(n[i])return i}return null}static getContextValueId(t){if(t===null||typeof t=="string")return t;const n=t["@id"];return n||null}static isSimpleTermDefinitionPrefix(t,n){return!Ii.isPotentialKeyword(t)&&(n.allowPrefixNonGenDelims||typeof t=="string"&&(t[0]==="_"||Ii.isPrefixIriEndingWithGenDelim(t)))}static isPotentialKeyword(t){return typeof t=="string"&&Ii.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return Ii.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&(typeof t=="string"||t&&typeof t=="object")}static isValidIri(t){return!!(t&&Ii.IRI_REGEX.test(t))}static isValidIriWeak(t){return!!t&&t[0]!==":"&&Ii.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return Ii.VALID_KEYWORDS[t]}static isTermProtected(t,n){const r=t[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(t){for(const n of Object.keys(t))if(Ii.isTermProtected(t,n))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}static deepEqual(t,n){const r=Object.keys(t),i=Object.keys(n);return r.length!==i.length?!1:r.every(a=>{const s=t[a],o=n[a];return s===o||s!==null&&o!==null&&typeof s=="object"&&typeof o=="object"&&this.deepEqual(s,o)})}};nr.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/;nr.IRI_REGEX_WEAK=/(?::[^:])|\//;nr.KEYWORD_REGEX=/^@[a-z]+$/i;nr.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/;nr.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/;nr.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/;nr.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0};nr.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"];nr.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"];nr.ALIAS_RANGE_BLACKLIST=["@context","@preserve"];nr.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"];nr.CONTAINERS_1_0=["@list","@set","@index"];Ao.Util=nr;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Co,n=To,r=Ao;class i{constructor(s){this.contextRaw=s}getContextRaw(){return this.contextRaw}expandTerm(s,o,l=e.defaultExpandOptions){const u=this.contextRaw[s];if(u===null||u&&u["@id"]===null)return null;let c=!0;if(u&&o){const m=r.Util.getContextValueId(u);if(m&&m!==s)if(typeof m!="string"||!r.Util.isValidIri(m)&&!r.Util.isValidKeyword(m))r.Util.isPotentialKeyword(m)||(c=!1);else return m}const d=r.Util.getPrefix(s,this.contextRaw),f=this.contextRaw["@vocab"],h=(!!f||f==="")&&f.indexOf(":")<0,p=this.contextRaw["@base"],g=r.Util.isPotentialKeyword(s);if(d){const m=this.contextRaw[d],v=r.Util.getContextValueId(m);if(v){if(typeof m=="string"||!l.allowPrefixForcing){if(!r.Util.isSimpleTermDefinitionPrefix(v,l))return s}else if(v[0]!=="_"&&!g&&!m["@prefix"]&&!(s in this.contextRaw))return s;return v+s.substr(d.length+1)}}else if(o&&(f||f===""||l.allowVocabRelativeToBase&&p&&h)&&!g&&!r.Util.isCompactIri(s))if(h){if(l.allowVocabRelativeToBase)return(f||p?(0,t.resolve)(f,p):"")+s;throw new n.ErrorCoded(`Relative vocab expansion for term '${s}' with vocab '${f}' is not allowed.`,n.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return f+s;else if(!o&&p&&!g&&!r.Util.isCompactIri(s))return(0,t.resolve)(s,p);if(c)return s;throw new n.ErrorCoded(`Invalid IRI mapping found for context entry '${s}': '${JSON.stringify(u)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(s,o){if(o&&this.contextRaw["@vocab"]&&s.startsWith(this.contextRaw["@vocab"]))return s.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&s.startsWith(this.contextRaw["@base"]))return s.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:s};for(const u in this.contextRaw){const c=this.contextRaw[u];if(c&&!r.Util.isPotentialKeyword(u)){const d=r.Util.getContextValueId(c);if(s.startsWith(d)){const f=s.substr(d.length);if(f)f.length<l.suffix.length&&(l.prefix=u,l.suffix=f);else if(o)return u}}}return l.prefix?l.prefix+":"+l.suffix:s}}e.JsonLdContextNormalized=i,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}})(_v);Object.defineProperty(wf,"__esModule",{value:!0});wf.ContextParser=void 0;const sw=Co,me=To,eM=yu,Er=_v,ze=Ao;class Ri{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new eM.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in t?!!t.redirectSchemaOrgHttps:!0}static validateLanguage(t,n,r){if(typeof t!="string")throw new me.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,r);if(!ze.Util.REGEX_LANGUAGE_TAG.test(t)){if(n)throw new me.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,r);return!1}return!0}static validateDirection(t,n){if(typeof t!="string")throw new me.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,me.ERROR_CODES.INVALID_BASE_DIRECTION);if(!ze.Util.REGEX_DIRECTION_TAG.test(t)){if(n)throw new me.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,me.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(const n of Object.keys(t)){let r=t[n];if(r&&typeof r=="object"&&r["@reverse"]&&!r["@id"]){if(typeof r["@reverse"]!="string"||ze.Util.isValidKeyword(r["@reverse"]))throw new me.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,me.ERROR_CODES.INVALID_IRI_MAPPING);r=t[n]=Object.assign(Object.assign({},r),{"@id":r["@reverse"]}),r["@id"]=r["@reverse"],ze.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return t}expandPrefixedTerms(t,n,r){const i=t.getContextRaw();for(const a of r||Object.keys(i))if(ze.Util.EXPAND_KEYS_BLACKLIST.indexOf(a)<0&&!ze.Util.isReservedInternalKeyword(a)){const s=i[a];if(ze.Util.isPotentialKeyword(a)&&ze.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(a)>=0&&(a!=="@type"||typeof i[a]=="object"&&!(i[a]["@protected"]||i[a]["@container"]==="@set")))throw new me.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${a} to ${JSON.stringify(s)}`,me.ERROR_CODES.KEYWORD_REDEFINITION);if(ze.Util.ALIAS_RANGE_BLACKLIST.indexOf(ze.Util.getContextValueId(s))>=0)throw new me.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${a} to ${JSON.stringify(s)}`,me.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(s&&ze.Util.isPotentialKeyword(ze.Util.getContextValueId(s))&&s["@prefix"]===!0)throw new me.ErrorCoded(`Tried to use keyword aliases as prefix: '${a}': '${JSON.stringify(s)}'`,me.ERROR_CODES.INVALID_TERM_DEFINITION);for(;ze.Util.isPrefixValue(i[a]);){const o=i[a];let l=!1;if(typeof o=="string")i[a]=t.expandTerm(o,!0),l=l||o!==i[a];else{const u=o["@id"],c=o["@type"],d=!("@prefix"in o)||ze.Util.isValidIri(a);if("@id"in o)u!=null&&typeof u=="string"&&(i[a]=Object.assign(Object.assign({},i[a]),{"@id":t.expandTerm(u,!0)}),l=l||u!==i[a]["@id"]);else if(!ze.Util.isPotentialKeyword(a)&&d){const f=t.expandTerm(a,!0);f!==a&&(i[a]=Object.assign(Object.assign({},i[a]),{"@id":f}),l=!0)}if(c&&typeof c=="string"&&c!=="@vocab"&&(!o["@container"]||!o["@container"]["@type"])&&d){let f=t.expandTerm(c,!0);n&&c===f&&(f=t.expandTerm(c,!1)),f!==c&&(l=!0,i[a]=Object.assign(Object.assign({},i[a]),{"@type":f}))}}if(!l)break}}}normalize(t,{processingMode:n,normalizeLanguageTags:r}){if(r||n===1)for(const i of Object.keys(t))if(i==="@language"&&typeof t[i]=="string")t[i]=t[i].toLowerCase();else{const a=t[i];if(a&&typeof a=="object"&&typeof a["@language"]=="string"){const s=a["@language"].toLowerCase();s!==a["@language"]&&(t[i]=Object.assign(Object.assign({},a),{"@language":s}))}}}containersToHash(t){for(const n of Object.keys(t)){const r=t[n];if(r&&typeof r=="object"){if(typeof r["@container"]=="string")t[n]=Object.assign(Object.assign({},r),{"@container":{[r["@container"]]:!0}});else if(Array.isArray(r["@container"])){const i={};for(const a of r["@container"])i[a]=!0;t[n]=Object.assign(Object.assign({},r),{"@container":i})}}}}applyScopedProtected(t,{processingMode:n},r){if(n&&n>=1.1&&t["@protected"]){for(const i of Object.keys(t))if(!ze.Util.isReservedInternalKeyword(i)&&!ze.Util.isPotentialKeyword(i)&&!ze.Util.isTermProtected(t,i)){const a=t[i];a&&typeof a=="object"?"@protected"in t[i]||(t[i]=Object.assign(Object.assign({},t[i]),{"@protected":!0})):(t[i]={"@id":a,"@protected":!0},ze.Util.isSimpleTermDefinitionPrefix(a,r)&&(t[i]=Object.assign(Object.assign({},t[i]),{"@prefix":!0})))}delete t["@protected"]}}validateKeywordRedefinitions(t,n,r,i){for(const a of i??Object.keys(n))if(ze.Util.isTermProtected(t,a)&&(typeof n[a]=="string"?n[a]={"@id":n[a],"@protected":!0}:n[a]=Object.assign(Object.assign({},n[a]),{"@protected":!0}),!ze.Util.deepEqual(t[a],n[a])))throw new me.ErrorCoded(`Attempted to override the protected keyword ${a} from ${JSON.stringify(ze.Util.getContextValueId(t[a]))} to ${JSON.stringify(ze.Util.getContextValueId(n[a]))}`,me.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(t,{processingMode:n}){for(const r of Object.keys(t)){if(ze.Util.isReservedInternalKeyword(r))continue;if(r==="")throw new me.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(t[r])}'`,me.ERROR_CODES.INVALID_TERM_DEFINITION);const i=t[r],a=typeof i;if(ze.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(i!==null&&a!=="string")throw new me.ErrorCoded(`Found an invalid @vocab IRI: ${i}`,me.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(i!==null&&a!=="string")throw new me.ErrorCoded(`Found an invalid @base IRI: ${t[r]}`,me.ERROR_CODES.INVALID_BASE_IRI);break;case"language":i!==null&&Ri.validateLanguage(i,!0,me.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(i!==null&&a!=="number")throw new me.ErrorCoded(`Found an invalid @version number: ${i}`,me.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":i!==null&&Ri.validateDirection(i,!0);break;case"propagate":if(n===1)throw new me.ErrorCoded(`Found an illegal @propagate keyword: ${i}`,me.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(i!==null&&a!=="boolean")throw new me.ErrorCoded(`Found an invalid @propagate value: ${i}`,me.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(ze.Util.isValidKeyword(r)&&ze.Util.isValidKeyword(ze.Util.getContextValueId(i)))throw new me.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${ze.Util.getContextValueId(i)}'`,me.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(i!==null)switch(a){case"string":if(ze.Util.getPrefix(i,t)===r)throw new me.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.CYCLIC_IRI_MAPPING);if(ze.Util.isValidIriWeak(r)){if(i==="@type")throw new me.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${i}'`,me.ERROR_CODES.INVALID_IRI_MAPPING);if(ze.Util.isValidIri(i)&&i!==new Er.JsonLdContextNormalized(t).expandTerm(r))throw new me.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${i}'`,me.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!ze.Util.isCompactIri(r)&&!("@id"in i)&&(i["@type"]==="@id"?!t["@base"]:!t["@vocab"]))throw new me.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_IRI_MAPPING);for(const s of Object.keys(i)){const o=i[s];if(o)switch(s){case"@id":if(ze.Util.isValidKeyword(o)&&o!=="@type"&&o!=="@id"&&o!=="@graph"&&o!=="@nest")throw new me.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_IRI_MAPPING);if(ze.Util.isValidIriWeak(r)){if(o==="@type")throw new me.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_IRI_MAPPING);if(ze.Util.isValidIri(o)&&o!==new Er.JsonLdContextNormalized(t).expandTerm(r))throw new me.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof o!="string")throw new me.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_IRI_MAPPING);if(ze.Util.getPrefix(o,t)===r)throw new me.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(i["@container"]==="@type"&&o!=="@id"&&o!=="@vocab")throw new me.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${o}'`,me.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof o!="string")throw new me.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(a)}'`,me.ERROR_CODES.INVALID_TYPE_MAPPING);if(o!=="@id"&&o!=="@vocab"&&(n===1||o!=="@json")&&(n===1||o!=="@none")&&(o[0]==="_"||!ze.Util.isValidIri(o)))throw new me.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${o}'`,me.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof o=="string"&&i["@id"]&&i["@id"]!==o)throw new me.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${o}' and '${i["@id"]}'`,me.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in i)throw new me.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,me.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(n===1&&(Object.keys(o).length>1||ze.Util.CONTAINERS_1_0.indexOf(Object.keys(o)[0])<0))throw new me.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(o)}') in 1.0, must be only one of ${ze.Util.CONTAINERS_1_0.join(", ")}`,me.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const l of Object.keys(o)){if(l==="@list"&&i["@reverse"])throw new me.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,me.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(ze.Util.CONTAINERS.indexOf(l)<0)throw new me.ErrorCoded(`Invalid term @container for '${r}' ('${l}'), must be one of ${ze.Util.CONTAINERS.join(", ")}`,me.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":Ri.validateLanguage(o,!0,me.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":Ri.validateDirection(o,!0);break;case"@prefix":if(o!==null&&typeof o!="boolean")throw new me.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in i)&&!ze.Util.isValidIri(r))throw new me.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(n===1||!i["@container"]||!i["@container"]["@index"])throw new me.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(ze.Util.isPotentialKeyword(o)&&o!=="@nest")throw new me.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(i)}'`,me.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new me.ErrorCoded(`Found an invalid term value: '${r}': '${i}'`,me.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,n,r){return typeof t=="string"||(r&&!("@base"in t)&&n.parentContext&&typeof n.parentContext=="object"&&"@base"in n.parentContext&&(t["@base"]=n.parentContext["@base"],n.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),n.baseIRI&&!n.external&&("@base"in t?t["@base"]!==null&&typeof t["@base"]=="string"&&!ze.Util.isValidIri(t["@base"])&&(t["@base"]=(0,sw.resolve)(t["@base"],n.parentContext&&n.parentContext["@base"]||n.baseIRI)):(t["@base"]=n.baseIRI,t["@__baseDocument"]=!0))),t}normalizeContextIri(t,n){if(!ze.Util.isValidIri(t))try{t=(0,sw.resolve)(t,n)}catch{throw new Error(`Invalid context IRI: ${t}`)}return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}async parseInnerContexts(t,n,r){for(const i of r??Object.keys(t)){const a=t[i];if(a&&typeof a=="object"&&"@context"in a&&a["@context"]!==null&&!n.ignoreScopedContexts){if(this.validateContext)try{const s=Object.assign(Object.assign({},t),{[i]:Object.assign({},t[i])});delete s[i]["@context"],await this.parse(a["@context"],Object.assign(Object.assign({},n),{external:!1,parentContext:s,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(s){throw new me.ErrorCoded(s.message,me.ERROR_CODES.INVALID_SCOPED_CONTEXT)}t[i]=Object.assign(Object.assign({},a),{"@context":(await this.parse(a["@context"],Object.assign(Object.assign({},n),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()})}}return t}async parse(t,n={},r={}){const{baseIRI:i,parentContext:a,external:s,processingMode:o=Ri.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:l,ignoreProtection:u,minimalProcessing:c}=n,d=n.remoteContexts||{};if(Object.keys(d).length>=this.remoteContextsDepthLimit)throw new me.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(d),me.ERROR_CODES.CONTEXT_OVERFLOW);if(t==null){if(!u&&a&&ze.Util.hasProtectedTerms(a))throw new me.ErrorCoded("Illegal context nullification when terms are protected",me.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new Er.JsonLdContextNormalized(this.applyBaseEntry({},n,!1))}else if(typeof t=="string"){const f=this.normalizeContextIri(t,i),h=this.getOverriddenLoad(f,n);if(h)return new Er.JsonLdContextNormalized(h);const p=await this.parse(await this.load(f),Object.assign(Object.assign({},n),{baseIRI:f,external:!0,remoteContexts:Object.assign(Object.assign({},d),{[f]:!0})}));return this.applyBaseEntry(p.getContextRaw(),n,!0),p}else if(Array.isArray(t)){const f=[],h=await Promise.all(t.map((g,m)=>{if(typeof g=="string"){const v=this.normalizeContextIri(g,i);f[m]=v;const _=this.getOverriddenLoad(v,n);return _||this.load(v)}else return g}));if(c)return new Er.JsonLdContextNormalized(h);const p=await h.reduce((g,m,v)=>g.then(_=>this.parse(m,Object.assign(Object.assign({},n),{baseIRI:f[v]||n.baseIRI,external:!!f[v]||n.external,parentContext:_.getContextRaw(),remoteContexts:f[v]?Object.assign(Object.assign({},d),{[f[v]]:!0}):d}),{skipValidation:v<h.length-1})),Promise.resolve(new Er.JsonLdContextNormalized(a||{})));return this.applyBaseEntry(p.getContextRaw(),n,!0),p}else if(typeof t=="object"){if("@context"in t)return await this.parse(t["@context"],n);if(t=Object.assign({},t),s&&delete t["@base"],this.applyBaseEntry(t,n,!0),this.containersToHash(t),c)return new Er.JsonLdContextNormalized(t);let f={};if("@import"in t)if(o>=1.1){if(typeof t["@import"]!="string")throw new me.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],me.ERROR_CODES.INVALID_IMPORT_VALUE);f=await this.loadImportContext(this.normalizeContextIri(t["@import"],i)),delete t["@import"]}else throw new me.ErrorCoded("Context importing is not supported in JSON-LD 1.0",me.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(f,{processingMode:o},Er.defaultExpandOptions);const h=Object.assign(f,t);this.idifyReverseTerms(h),this.normalize(h,{processingMode:o,normalizeLanguageTags:l}),this.applyScopedProtected(h,{processingMode:o},Er.defaultExpandOptions);const p=Object.keys(h),g=[];if(typeof a=="object")for(const v in a)v in h?g.push(v):h[v]=a[v];await this.parseInnerContexts(h,n,p);const m=new Er.JsonLdContextNormalized(h);return(h&&h["@version"]||Ri.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&typeof t["@vocab"]=="string"||t["@vocab"]==="")&&(a&&"@vocab"in a&&t["@vocab"].indexOf(":")<0?h["@vocab"]=a["@vocab"]+t["@vocab"]:(ze.Util.isCompactIri(t["@vocab"])||t["@vocab"]in h)&&(h["@vocab"]=m.expandTerm(t["@vocab"],!0))),this.expandPrefixedTerms(m,this.expandContentTypeToBase,p),!u&&a&&o>=1.1&&this.validateKeywordRedefinitions(a,h,Er.defaultExpandOptions,g),this.validateContext&&!r.skipValidation&&this.validate(h,{processingMode:o}),m}else throw new me.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,me.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(t){const n=this.documentCache[t];if(n)return n;let r;try{r=await this.documentLoader.load(t)}catch(i){throw new me.ErrorCoded(`Failed to load remote context ${t}: ${i.message}`,me.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new me.ErrorCoded(`Missing @context in remote context at ${t}`,me.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=r["@context"]}getOverriddenLoad(t,n){if(t in(n.remoteContexts||{})){if(n.ignoreRemoteScopedContexts)return t;throw new me.ErrorCoded("Detected a cyclic context inclusion of "+t,me.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(t){let n=await this.load(t);if(typeof n!="object"||Array.isArray(n))throw new me.ErrorCoded("An imported context must be a single object: "+t,me.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in n)throw new me.ErrorCoded("An imported context can not import another context: "+t,me.ERROR_CODES.INVALID_CONTEXT_ENTRY);return n=Object.assign({},n),this.containersToHash(n),n}}Ri.DEFAULT_PROCESSING_MODE=1.1;wf.ContextParser=Ri;var ZI={};Object.defineProperty(ZI,"__esModule",{value:!0});var e1={};Object.defineProperty(e1,"__esModule",{value:!0});(function(e){var t=tt&&tt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=tt&&tt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(wf,e),n(To,e),n(yu,e),n(ZI,e),n(e1,e),n(_v,e),n(Ao,e)})(On);var xf={},Yo={},wv={},bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.BlankNode=void 0;let tM=class{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&t.termType==="BlankNode"&&t.value===this.value}};bu.BlankNode=tM;var Sf={},_u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.DefaultGraph=void 0;let Og=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&t.termType==="DefaultGraph"}};_u.DefaultGraph=Og;Og.INSTANCE=new Og;var wu={},No={};Object.defineProperty(No,"__esModule",{value:!0});No.NamedNode=void 0;let nM=class{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&t.termType==="NamedNode"&&t.value===this.value}};No.NamedNode=nM;Object.defineProperty(wu,"__esModule",{value:!0});wu.Literal=void 0;const xv=No;let Ef=class yl{constructor(t,n){this.termType="Literal",this.value=t,typeof n=="string"?(this.language=n,this.datatype=yl.RDF_LANGUAGE_STRING,this.direction=""):n?"termType"in n?(this.language="",this.datatype=n,this.direction=""):(this.language=n.language,this.datatype=n.direction?yl.RDF_DIRECTIONAL_LANGUAGE_STRING:yl.RDF_LANGUAGE_STRING,this.direction=n.direction||""):(this.language="",this.datatype=yl.XSD_STRING,this.direction="")}equals(t){return!!t&&t.termType==="Literal"&&t.value===this.value&&t.language===this.language&&(t.direction===this.direction||!t.direction&&this.direction==="")&&this.datatype.equals(t.datatype)}};wu.Literal=Ef;Ef.RDF_LANGUAGE_STRING=new xv.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");Ef.RDF_DIRECTIONAL_LANGUAGE_STRING=new xv.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString");Ef.XSD_STRING=new xv.NamedNode("http://www.w3.org/2001/XMLSchema#string");var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.Quad=void 0;let rM=class{constructor(t,n,r,i){this.termType="Quad",this.value="",this.subject=t,this.predicate=n,this.object=r,this.graph=i}equals(t){return!!t&&(t.termType==="Quad"||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}};xu.Quad=rM;var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.Variable=void 0;let iM=class{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&t.termType==="Variable"&&t.value===this.value}};Su.Variable=iM;Object.defineProperty(Sf,"__esModule",{value:!0});Sf.DataFactory=void 0;const aM=bu,sM=_u,ow=wu,oM=No,lM=xu,uM=Su;let cM=0,dM=class{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${cM++}_`}namedNode(t){return new oM.NamedNode(t)}blankNode(t){return new aM.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,n){return new ow.Literal(t,n)}variable(t){return new uM.Variable(t)}defaultGraph(){return sM.DefaultGraph.INSTANCE}quad(t,n,r,i){return new lM.Quad(t,n,r,i||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(ow.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}};Sf.DataFactory=dM;(function(e){var t=tt&&tt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=tt&&tt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(bu,e),n(Sf,e),n(_u,e),n(wu,e),n(No,e),n(xu,e),n(Su,e)})(wv);var Qo={},If={};Object.defineProperty(If,"__esModule",{value:!0});If.ContainerHandlerIdentifier=void 0;class fM{canCombineWithGraph(){return!0}async handle(t,n,r,i,a,s){let o;if(n.emittedStack[s+1]&&n.idStack[s+1])o=n.idStack[s+1][0];else{const c=await r.getContainerKey(i[s],i,s)!==null?await r.resourceToTerm(await n.getContext(i),i[s]):r.dataFactory.blankNode();if(!c){n.emittedStack[s]=!1;return}o=c,n.idStack[s+1]=[o]}let l=n.idStack[s];l||(l=n.idStack[s]=[]),l.some(u=>u.equals(o))||l.push(o),await n.handlePendingContainerFlushBuffers()||(n.emittedStack[s]=!1)}}If.ContainerHandlerIdentifier=fM;var Xo={},Zo={},lw;function Cf(){if(lw)return Zo;lw=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.EntryHandlerPredicate=void 0;const e=On,t=xs();let n=class t1{static async handlePredicateObject(i,a,s,o,l,u,c,d,f){const h=await a.getPropertiesDepth(s,o),p=await a.getDepthOffsetGraph(o,s),g=o-p,m=i.idStack[h];if(m&&!f)for(const v of m)if(p>=0){const x=i.idStack[g-1];if(x)for(const I of x)a.emitQuadChecked(o,v,l,u,I,c,d);else c?(a.validateReverseSubject(u),i.getUnidentifiedGraphBufferSafe(g-1).push({subject:u,predicate:l,object:v,isEmbedded:d})):i.getUnidentifiedGraphBufferSafe(g-1).push({subject:v,predicate:l,object:u,isEmbedded:d})}else{const x=await a.getGraphContainerValue(s,h);a.emitQuadChecked(o,v,l,u,x,c,d)}else if(c&&a.validateReverseSubject(u),f){if(i.rdfstar){i.idStack[o]&&i.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${i.idStack[o][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let x=0;x<o;x++)await a.unaliasKeyword(s[x],s,x)==="@id"&&i.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const v=i.getAnnotationsBufferSafe(h),_={predicate:l,object:u,reverse:c,nestedAnnotations:[],depth:h};v.push(_);for(let x=v.length-2;x>=0;x--){const I=v[x];I.depth>h&&(_.nestedAnnotations.push(I),v.splice(x,1))}}}else i.getUnidentifiedValueBufferSafe(h).push({predicate:l,object:u,reverse:c,isEmbedded:d})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(i,a,s,o,l){const u=s[o];if(u){const c=await i.getContext(s);if(!i.jsonLiteralStack[o]&&await a.predicateToTerm(c,s[o]))return t.Util.getContextValueType(c,u)==="@json"&&(i.jsonLiteralStack[o+1]=!0),!0}return!1}async test(i,a,s,o,l){return o[l]}async handle(i,a,s,o,l,u,c){const d=o[u],f=await i.getContext(o),h=await a.predicateToTerm(f,s);if(h){const p=await a.valueToTerm(f,s,l,u,o);if(p.length)for(let g of p){let m=await a.unaliasKeywordParent(o,u);const v=t.Util.isPropertyReverse(f,d,m);let _=0;for(;m==="@reverse"||typeof m=="number";)typeof m=="number"?_++:u--,m=await a.unaliasKeywordParent(o,u-_);const x=t.Util.isPropertyInEmbeddedNode(m);a.validateReverseInEmbeddedNode(s,v,x);const I=t.Util.isPropertyInAnnotationObject(m);if(l){const S="@list"in t.Util.getContextValueContainer(f,s);if(S||l["@list"]){if((S&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&g!==a.rdfNil){const E=a.dataFactory.blankNode();i.emitQuad(u,a.dataFactory.quad(E,a.rdfRest,a.rdfNil,a.getDefaultGraph())),i.emitQuad(u,a.dataFactory.quad(E,a.rdfFirst,g,a.getDefaultGraph())),g=E}if(v&&!i.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${s}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await t1.handlePredicateObject(i,a,o,u,h,g,v,x,I)}}}};return Zo.EntryHandlerPredicate=n,Zo}var uw;function hM(){if(uw)return Xo;uw=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.ContainerHandlerIndex=void 0;const e=On,t=Cf(),n=xs();let r=class{canCombineWithGraph(){return!0}async handle(a,s,o,l,u,c){if(!Array.isArray(u)){const d="@graph"in a,f=await s.getContext(l),h=l[c-1],p=n.Util.getContextValueIndex(f,h);if(p){if(e.Util.isPotentialKeyword(p))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${p}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof p!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${p}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="object"){if(n.Util.getContextValueType(f,h)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${u}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const v=o.resourceToTerm(f,u);v&&(s.idStack[c+1]=[v])}const m=o.createVocabOrBaseTerm(f,p);if(m){const v=await o.valueToTerm(f,p,await o.getContainerKey(l[c],l,c),c,l);if(d){const _=await o.getGraphContainerValue(l,c+1);for(const x of v)s.emitQuad(c,o.dataFactory.quad(_,m,x,o.getDefaultGraph()))}else for(const _ of v)await t.EntryHandlerPredicate.handlePredicateObject(s,o,l,c+1,m,_,!1,!1,!1)}}const g=d?2:1;await s.newOnValueJob(l.slice(0,l.length-g),u,c-g,!0),await s.handlePendingContainerFlushBuffers()}s.emittedStack[c]=!1}};return Xo.ContainerHandlerIndex=r,Xo}var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});Tf.ContainerHandlerLanguage=void 0;const cw=On;class pM{canCombineWithGraph(){return!1}async handle(t,n,r,i,a,s){const o=await r.getContainerKey(i[s],i,s);if(Array.isArray(a))a=a.map(l=>({"@value":l,"@language":o}));else{if(typeof a!="string")throw new cw.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(a)}', but expected string`,cw.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);a={"@value":a,"@language":o}}await n.newOnValueJob(i.slice(0,i.length-1),a,s-1,!0),n.emittedStack[s]=!1}}Tf.ContainerHandlerLanguage=pM;var el={},dw;function gM(){if(dw)return el;dw=1,Object.defineProperty(el,"__esModule",{value:!0}),el.ContainerHandlerType=void 0;const e=Cf(),t=xs();let n=class{canCombineWithGraph(){return!1}async handle(i,a,s,o,l,u){if(!Array.isArray(l)){if(typeof l=="string"){const f=await a.getContext(o),p=t.Util.getContextValueType(f,o[u-1])==="@vocab"?await s.createVocabOrBaseTerm(f,l):await s.resourceToTerm(f,l);if(p){const g={"@id":p.termType==="NamedNode"?p.value:l};await a.newOnValueJob(o.slice(0,o.length-1),g,u-1,!0),a.idStack[u+1]=[p]}}else{const f=!!a.idStack[u+1];f||delete a.idStack[u],await a.newOnValueJob(o.slice(0,o.length-1),l,u-1,!0),f||(a.idStack[u+1]=a.idStack[u])}const c=await s.getContainerKey(o[u],o,u),d=c!==null?s.createVocabOrBaseTerm(await a.getContext(o),c):null;d&&await e.EntryHandlerPredicate.handlePredicateObject(a,s,o,u+1,s.rdfType,d,!1,!1,!1),await a.handlePendingContainerFlushBuffers()}a.emittedStack[u]=!1}};return el.ContainerHandlerType=n,el}var fw;function n1(){if(fw)return Qo;fw=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.EntryHandlerContainer=void 0;const e=If,t=hM(),n=Tf,r=gM(),i=xs();let a=class Qi{static isSimpleGraphContainer(o){return"@graph"in o&&("@set"in o&&Object.keys(o).length===2||Object.keys(o).length===1)}static isComplexGraphContainer(o){return"@graph"in o&&("@set"in o&&Object.keys(o).length>2||!("@set"in o)&&Object.keys(o).length>1)}static getContainerGraphIndex(o,l,u){let c=Qi.isSimpleGraphContainer(o),d="";for(let f=l;f<u.length;f++)(!c||typeof u[f]=="number")&&(d+=":"+u[f]),!c&&typeof u[f]!="number"&&(c=!0);return d}static async getContainerHandler(o,l,u){const c={containers:{"@set":!0},depth:u,fallback:!0};let d=!1;const f=await o.getContext(l,2);for(let h=u-1;h>=0;h--)if(typeof l[h]!="number"){const p=i.Util.getContextValue(f,"@container",l[h],!1);if(p&&Qi.isSimpleGraphContainer(p))return{containers:p,depth:h+1,fallback:!1};const g=i.Util.getContextValue(f,"@container",l[h-1],!1);if(g){const m="@graph"in g;for(const v in Qi.CONTAINER_HANDLERS)if(g[v])return m?Qi.CONTAINER_HANDLERS[v].canCombineWithGraph()?{containers:g,depth:h,fallback:!1}:c:d?c:{containers:g,depth:h,fallback:!1};return c}else{if(d)return c;d=!0}}return c}static async isBufferableContainerHandler(o,l,u){const c=await Qi.getContainerHandler(o,l,u);return!c.fallback&&!("@graph"in c.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(o,l,u,c,d){return!!await this.test(o,l,null,u,c)}async test(o,l,u,c,d){const f=i.Util.getContextValueContainer(await o.getContext(c,2),c[d-1]);for(const h in Qi.CONTAINER_HANDLERS)if(f[h])return{containers:f,handler:Qi.CONTAINER_HANDLERS[h]};return null}async handle(o,l,u,c,d,f,h){return h.handler.handle(h.containers,o,l,c,d,f)}};return Qo.EntryHandlerContainer=a,a.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new n.ContainerHandlerLanguage,"@type":new r.ContainerHandlerType},Qo}var r1=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((n,r,i)=>{const a=i===0?"":",",s=r===void 0||typeof r=="symbol"?null:r;return n+a+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((n,r,i)=>{if(t[r]===void 0||typeof t[r]=="symbol")return n;const a=n.length===0?"":",";return n+a+e(r)+":"+e(t[r])},"")+"}"},hw;function xs(){if(hw)return Yo;hw=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.Util=void 0;const e=On,t=wv,n=n1(),r=r1;class i{constructor(s){this.parsingContext=s.parsingContext,this.dataFactory=s.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(i.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(i.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(i.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(i.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(i.RDF+"JSON")}static getContextValue(s,o,l,u){const c=s.getContextRaw()[l];if(!c)return u;const d=c[o];return d===void 0?u:d}static getContextValueContainer(s,o){return i.getContextValue(s,"@container",o,{"@set":!0})}static getContextValueType(s,o){const l=i.getContextValue(s,"@type",o,null);return l==="@none"?null:l}static getContextValueLanguage(s,o){return i.getContextValue(s,"@language",o,s.getContextRaw()["@language"]||null)}static getContextValueDirection(s,o){return i.getContextValue(s,"@direction",o,s.getContextRaw()["@direction"]||null)}static isContextValueReverse(s,o){return!!i.getContextValue(s,"@reverse",o,null)}static getContextValueIndex(s,o){return i.getContextValue(s,"@index",o,s.getContextRaw()["@index"]||null)}static isPropertyReverse(s,o,l){return l==="@reverse"!==i.isContextValueReverse(s,o)}static isPropertyInEmbeddedNode(s){return s==="@id"}static isPropertyInAnnotationObject(s){return s==="@annotation"}static isValidIri(s){return s!==null&&e.Util.isValidIri(s)}static isPrefixArray(s,o){if(s.length>o.length)return!1;for(let l=0;l<s.length;l++)if(s[l]!==o[l])return!1;return!0}async validateValueIndexes(s){if(this.parsingContext.validateValueIndexes){const o={};for(const l of s)if(l&&typeof l=="object"){const u=l["@id"],c=l["@index"];if(u&&c){const d=o[u];if(d&&d!==c)throw new e.ErrorCoded(`Conflicting @index value for ${u}`,e.ERROR_CODES.CONFLICTING_INDEXES);o[u]=c}}}}async valueToTerm(s,o,l,u,c){if(i.getContextValueType(s,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const d=typeof l;switch(d){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in i.getContextValueContainer(s,o)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:(await this.validateValueIndexes(l),[]);if(s=await this.getContextSelfOrPropertyScoped(s,o),"@context"in l&&(s=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(c,0)).getContextRaw())),l=await this.unaliasKeywords(l,c,u,s),"@value"in l){let f,h,p,g,m;for(o in l){const v=l[o];switch(o){case"@value":f=v;break;case"@language":h=v;break;case"@direction":p=v;break;case"@type":g=v;break;case"@index":m=v;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${o}' in @value: ${JSON.stringify(l)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(g,c,u,!0,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(f),this.rdfJson)];if(f===null)return[];if(typeof f=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&m&&typeof m!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(m)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(h){if(typeof f!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(h,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(h=h.toLowerCase())}if(p){if(typeof f!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(f)}'`);if(!e.ContextParser.validateDirection(p,this.parsingContext.strictValues))return[]}if(h&&p){if(g)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,f,h,p))}else if(h){if(g)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(f,h)]}else if(p){if(g)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,f,h,p))}else if(g){if(typeof g!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(g)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const v=this.createVocabOrBaseTerm(s,g);if(!v)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(g)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(v.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${v.termType}): ${g}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(f,v)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),o,f,u,c)}else if("@set"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${o}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in l){if(Object.keys(l).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${o}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const f=l["@list"];return Array.isArray(f)?f.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(c),o,f,u-1,c.slice(0,-1))}else{if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in i.getContextValueContainer(await this.parsingContext.getContext(c),o)){const f=this.parsingContext.graphContainerTermStack[u+1];return f?Object.values(f):[this.dataFactory.blankNode()]}else if("@id"in l){if(Object.keys(l).length>1&&(s=await this.parsingContext.getContext(c,0)),"@context"in l&&(s=await this.parsingContext.parseContext(l["@context"],s.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(s,l["@id"]));{const f=l["@id"];let h;if(typeof f=="object")if(this.parsingContext.rdfstar)h=this.parsingContext.idStack[u+1][0];else throw new e.ErrorCoded(`Found illegal @id '${l}'`,e.ERROR_CODES.INVALID_ID_VALUE);else h=this.resourceToTerm(s,f);return this.nullableTermToArray(h)}}else return this.parsingContext.emittedStack[u+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[u+1]||(this.parsingContext.idStack[u+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(s,o),o,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(s,o),o,(!!l).toString(),this.dataFactory.namedNode(i.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(s,o),o,l,this.dataFactory.namedNode(l%1===0&&l<1e21?i.XSD_INTEGER:i.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${d}`)),[]}}async getContextSelfOrPropertyScoped(s,o){const l=s.getContextRaw()[o];return l&&typeof l=="object"&&"@context"in l&&(s=await this.parsingContext.parseContext(l,s.getContextRaw(),!0)),s}nullableTermToArray(s){return s?[s]:[]}predicateToTerm(s,o){const l=s.expandTerm(o,!0,this.parsingContext.getExpandOptions());if(!l)return null;if(l[0]==="_"&&l[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null;if(i.isValidIri(l))return this.dataFactory.namedNode(l);if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${l}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(s,o){if(o.startsWith("_:"))return this.dataFactory.blankNode(o.substr(2));const l=s.expandTerm(o,!1,this.parsingContext.getExpandOptions());if(!i.isValidIri(l))if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(s,o){if(o.startsWith("_:"))return this.dataFactory.blankNode(o.substr(2));const l=this.parsingContext.getExpandOptions();let u=s.expandTerm(o,!0,l);if(u===o&&(u=s.expandTerm(o,!1,l)),!i.isValidIri(u))if(u&&this.parsingContext.strictValues&&!u.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${u}`));else return null;return this.dataFactory.namedNode(u)}intToString(s,o){return typeof s=="number"?Number.isFinite(s)?s%1===0&&(!o||o.value!==i.XSD_DOUBLE)?Number(s).toString():s.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):s>0?"INF":"-INF":s}stringValueToTerm(s,o,l,u,c){const d=i.getContextValueType(o,l);if(d)if(d==="@id"){if(!c)return this.resourceToTerm(o,this.intToString(u,c))}else if(d==="@vocab"){if(!c)return this.createVocabOrBaseTerm(o,this.intToString(u,c))}else c=this.dataFactory.namedNode(d);if(!c){const f=i.getContextValueLanguage(o,l),h=i.getContextValueDirection(o,l);return h?this.createLanguageDirectionLiteral(s,this.intToString(u,c),f,h):this.dataFactory.literal(this.intToString(u,c),f)}return this.dataFactory.literal(this.intToString(u,c),c)}createLanguageDirectionLiteral(s,o,l,u){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(o,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${u}`));if(this.parsingContext.rdfDirection==="compound-literal"){const c=this.dataFactory.blankNode(),d=this.getDefaultGraph();return this.parsingContext.emitQuad(s,this.dataFactory.quad(c,this.dataFactory.namedNode(i.RDF+"value"),this.dataFactory.literal(o),d)),l&&this.parsingContext.emitQuad(s,this.dataFactory.quad(c,this.dataFactory.namedNode(i.RDF+"language"),this.dataFactory.literal(l),d)),this.parsingContext.emitQuad(s,this.dataFactory.quad(c,this.dataFactory.namedNode(i.RDF+"direction"),this.dataFactory.literal(u),d)),c}else return this.dataFactory.literal(o,{language:l||"",direction:u})}valueToJsonString(s){return r(s)}async unaliasKeyword(s,o,l,u,c){if(Number.isInteger(s))return s;if(!u){const d=this.parsingContext.unaliasedKeywordCacheStack[l];if(d)return d}if(!e.Util.isPotentialKeyword(s)){c=c||await this.parsingContext.getContext(o);let d=c.getContextRaw()[s];d&&typeof d=="object"&&(d=d["@id"]),e.Util.isValidKeyword(d)&&(s=d)}return u?s:this.parsingContext.unaliasedKeywordCacheStack[l]=s}async unaliasKeywordParent(s,o){return await this.unaliasKeyword(o>0&&s[o-1],s,o-1)}async unaliasKeywords(s,o,l,u){const c={};for(const d in s)c[await this.unaliasKeyword(d,o,l+1,!0,u)]=s[d];return c}async isLiteral(s,o){for(let l=o;l>=0;l--){if(await this.unaliasKeyword(s[l],s,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(s,o){for(let l=s-1;l>0;l--)if(await this.unaliasKeyword(o[l],o,l)==="@graph"){const u=(await n.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,l)).containers;return n.EntryHandlerContainer.isComplexGraphContainer(u)?-1:s-l-1}return-1}validateReverseSubject(s){if(s.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${s.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(s,o){let l=this.getDefaultGraph();const{containers:u,depth:c}=await n.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,o);if("@graph"in u){const d=n.EntryHandlerContainer.getContainerGraphIndex(u,c,s),f=this.parsingContext.graphContainerTermStack[c];if(l=f?f[d]:null,!l){let h=null;if("@id"in u){const p=await this.getContainerKey(s[c],s,c);p!==null&&(h=await this.resourceToTerm(await this.parsingContext.getContext(s),p))}h||(h=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[c]||(this.parsingContext.graphContainerTermStack[c]={}),l=this.parsingContext.graphContainerTermStack[c][d]=h}}return l}async getPropertiesDepth(s,o){let l=o;for(let u=o-1;u>0;u--)if(typeof s[u]!="number"){const c=await this.unaliasKeyword(s[u],s,u);if(c==="@reverse")return u;if(c==="@nest")l=u;else return l}return l}async getContainerKey(s,o,l){const u=await this.unaliasKeyword(s,o,l);return u==="@none"?null:u}validateReverseInEmbeddedNode(s,o,l){if(l&&o&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${s}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(s,o,l,u,c,d,f){let h;if(d?(this.validateReverseSubject(u),h=this.dataFactory.quad(u,l,o,c)):h=this.dataFactory.quad(o,l,u,c),f){if(h.graph.termType!=="DefaultGraph"&&(h=this.dataFactory.quad(h.subject,h.predicate,h.object)),this.parsingContext.idStack[s-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[s-1]=[h]}else this.parsingContext.emitQuad(s,h);const p=this.parsingContext.annotationsBuffer[s];if(p){for(const g of p)this.emitAnnotation(s,h,g);delete this.parsingContext.annotationsBuffer[s]}}emitAnnotation(s,o,l){let u;l.reverse?(this.validateReverseSubject(l.object),u=this.dataFactory.quad(l.object,l.predicate,o)):u=this.dataFactory.quad(o,l.predicate,l.object),this.parsingContext.emitQuad(s,u);for(const c of l.nestedAnnotations)this.emitAnnotation(s,u,c)}}return Yo.Util=i,i.XSD="http://www.w3.org/2001/XMLSchema#",i.XSD_BOOLEAN=i.XSD+"boolean",i.XSD_INTEGER=i.XSD+"integer",i.XSD_DOUBLE=i.XSD+"double",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Yo}Object.defineProperty(xf,"__esModule",{value:!0});xf.EntryHandlerArrayValue=void 0;const mM=xs(),pw=On;class vM{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,n,r,i,a){return this.test(t,n,null,r,i)}async test(t,n,r,i,a){return typeof i[a]=="number"}async handle(t,n,r,i,a,s){let o=await n.unaliasKeywordParent(i,s);if(o==="@list"){let l=null,u=0;for(let c=s-2;c>0;c--){const d=i[c];if(typeof d=="string"||typeof d=="number"){u=c,l=d;break}}if(l!==null){const c=await n.valueToTerm(await t.getContext(i),l,a,s,i);for(const d of c)await this.handleListElement(t,n,d,a,s,i.slice(0,u),u);c.length===0&&await this.handleListElement(t,n,null,a,s,i.slice(0,u),u)}}else if(o==="@set")await t.newOnValueJob(i.slice(0,-2),a,s-2,!1);else if(o!==void 0&&o!=="@type"){for(let u=s-1;u>0;u--)if(typeof i[u]!="number"){o=await n.unaliasKeyword(i[u],i,u);break}const l=await t.getContext(i.slice(0,-1));if("@list"in mM.Util.getContextValueContainer(l,o)){t.emittedStack[s+1]=!0;const u=await n.valueToTerm(await t.getContext(i),o,a,s,i);for(const c of u)await this.handleListElement(t,n,c,a,s,i.slice(0,-1),s-1);u.length===0&&await this.handleListElement(t,n,null,a,s,i.slice(0,-1),s-1)}else t.shiftStack(s,1),await t.newOnValueJob(i.slice(0,-1),a,s-1,!1),t.contextTree.removeContext(i.slice(0,-1))}}async handleListElement(t,n,r,i,a,s,o){let l=t.listPointerStack[a];if(i!==null&&(await n.unaliasKeywords(i,s,a))["@value"]!==null){if(!l||!l.value){const u=n.dataFactory.blankNode();l={value:u,listRootDepth:o,listId:u}}else{const u=n.dataFactory.blankNode();t.emitQuad(a,n.dataFactory.quad(l.value,n.rdfRest,u,n.getDefaultGraph())),l.value=u}r&&t.emitQuad(a,n.dataFactory.quad(l.value,n.rdfFirst,r,n.getDefaultGraph()))}else l||(l={listRootDepth:o,listId:n.rdfNil});t.listPointerStack[a]=l,t.rdfstar&&t.annotationsBuffer[a]&&t.emitError(new pw.ErrorCoded("Found an illegal annotation inside a list",pw.ERROR_CODES.INVALID_ANNOTATION))}}xf.EntryHandlerArrayValue=vM;var Af={};Object.defineProperty(Af,"__esModule",{value:!0});Af.EntryHandlerInvalidFallback=void 0;class yM{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,n,r,i,a){return!1}async test(t,n,r,i,a){return!0}async handle(t,n,r,i,a,s){t.emittedStack[s]=!1}}Af.EntryHandlerInvalidFallback=yM;var Nf={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.EntryHandlerKeyword=void 0;class bM{constructor(t){this.keyword=t}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,n,r,i,a){return!1}async test(t,n,r,i,a){return r===this.keyword}}Vr.EntryHandlerKeyword=bM;Object.defineProperty(Nf,"__esModule",{value:!0});Nf.EntryHandlerKeywordContext=void 0;const gw=On,_M=Vr;class wM extends _M.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(t,n,r,i,a,s){t.streamingProfile&&(t.processingStack[s]||t.processingType[s]||t.idStack[s]!==void 0)&&t.emitError(new gw.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",gw.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const o=t.getContext(i),l=t.parseContext(a,(await o).getContextRaw());t.contextTree.setContext(i.slice(0,-1),l),t.emitContext(a),await t.validateContext(await l)}}Nf.EntryHandlerKeywordContext=wM;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.EntryHandlerKeywordGraph=void 0;const xM=Vr;class SM extends xM.EntryHandlerKeyword{constructor(){super("@graph")}async handle(t,n,r,i,a,s){t.graphStack[s+1]=!0}}Rf.EntryHandlerKeywordGraph=SM;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.EntryHandlerKeywordId=void 0;const Kr=On,EM=Vr;class IM extends EM.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(t,n,r,i,a,s){if(typeof a!="string"){if(t.rdfstar&&typeof a=="object"){const l=Object.keys(a);l.length===1&&l[0]==="@id"&&t.emitError(new Kr.ErrorCoded(`Invalid embedded node without property with @id ${a["@id"]}`,Kr.ERROR_CODES.INVALID_EMBEDDED_NODE))}else t.emitError(new Kr.ErrorCoded(`Found illegal @id '${a}'`,Kr.ERROR_CODES.INVALID_ID_VALUE));return}const o=await n.getPropertiesDepth(i,s);if(t.idStack[o]!==void 0&&(t.idStack[o][0].listHead?t.emitError(new Kr.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${i[s-1]}'`,Kr.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):t.emitError(new Kr.ErrorCoded(`Found duplicate @ids '${t.idStack[o][0].value}' and '${a}'`,Kr.ERROR_CODES.COLLIDING_KEYWORDS))),t.rdfstar&&t.annotationsBuffer[s])for(const l of t.annotationsBuffer[s])l.depth===s&&t.emitError(new Kr.ErrorCoded(`Found an illegal @id inside an annotation: ${a}`,Kr.ERROR_CODES.INVALID_ANNOTATION));t.idStack[o]=n.nullableTermToArray(await n.resourceToTerm(await t.getContext(i),a))}}Df.EntryHandlerKeywordId=IM;var kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.EntryHandlerKeywordIncluded=void 0;const Ds=On,CM=Vr;class TM extends CM.EntryHandlerKeyword{constructor(){super("@included")}async handle(t,n,r,i,a,s){typeof a!="object"&&t.emitError(new Ds.ErrorCoded(`Found illegal @included '${a}'`,Ds.ERROR_CODES.INVALID_INCLUDED_VALUE));const o=await n.unaliasKeywords(a,i,s,await t.getContext(i));"@value"in o&&t.emitError(new Ds.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(a)}'`,Ds.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in o&&t.emitError(new Ds.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(a)}'`,Ds.ERROR_CODES.INVALID_INCLUDED_VALUE)),t.emittedStack[s]=!1}}kf.EntryHandlerKeywordIncluded=TM;var Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.EntryHandlerKeywordNest=void 0;const sc=On,AM=Vr;class NM extends AM.EntryHandlerKeyword{constructor(){super("@nest")}async handle(t,n,r,i,a,s){typeof a!="object"&&t.emitError(new sc.ErrorCoded(`Found invalid @nest entry for '${r}': '${a}'`,sc.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await n.unaliasKeywords(a,i,s,await t.getContext(i))&&t.emitError(new sc.ErrorCoded(`Found an invalid @value node for '${r}'`,sc.ERROR_CODES.INVALID_NEST_VALUE)),t.emittedStack[s]=!1}}Of.EntryHandlerKeywordNest=NM;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.EntryHandlerKeywordType=void 0;const tl=On,oc=xs(),RM=Cf(),DM=Vr;class kM extends DM.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(t,n,r,i,a,s){const o=i[s],l=await t.getContext(i),u=n.rdfType,c=await n.unaliasKeywordParent(i,s),d=oc.Util.isPropertyReverse(l,o,c),f=oc.Util.isPropertyInEmbeddedNode(c);n.validateReverseInEmbeddedNode(r,d,f);const h=oc.Util.isPropertyInAnnotationObject(c),p=Array.isArray(a)?a:[a];for(const v of p){typeof v!="string"&&t.emitError(new tl.ErrorCoded(`Found illegal @type '${v}'`,tl.ERROR_CODES.INVALID_TYPE_VALUE));const _=n.createVocabOrBaseTerm(l,v);_&&await RM.EntryHandlerPredicate.handlePredicateObject(t,n,i,s,u,_,d,f,h)}let g=Promise.resolve(l),m=!1;for(const v of p.sort()){const _=oc.Util.getContextValue(l,"@context",v,null);_&&(m=!0,g=g.then(x=>t.parseContext(_,x.getContextRaw())))}t.streamingProfile&&(m||!t.streamingProfileAllowOutOfOrderPlainType)&&(t.processingStack[s]||t.idStack[s])&&t.emitError(new tl.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",tl.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),m&&(g=g.then(v=>v.getContextRaw()["@propagate"]!==!0?new tl.JsonLdContextNormalized(Object.assign(Object.assign({},v.getContextRaw()),{"@propagate":!1,"@__propagateFallback":l.getContextRaw()})):v),t.contextTree.setContext(i.slice(0,i.length-1),g)),t.processingType[s]=!0}}Pf.EntryHandlerKeywordType=kM;var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.EntryHandlerKeywordUnknownFallback=void 0;const Fl=On;class Ff{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,n,r,i,a){const s=await n.unaliasKeyword(r[i],r,i);return Fl.Util.isPotentialKeyword(s)?!(!a&&s==="@list"):!1}async test(t,n,r,i,a){return Fl.Util.isPotentialKeyword(r)}async handle(t,n,r,i,a,s){const o=Ff.VALID_KEYWORDS_TYPES[r];o!==void 0?o&&typeof a!==o.type&&t.emitError(new Fl.ErrorCoded(`Invalid value type for '${r}' with value '${a}'`,o.errorCode)):t.strictValues&&t.emitError(new Error(`Unknown keyword '${r}' with value '${a}'`)),t.emittedStack[s]=!1}}Lf.EntryHandlerKeywordUnknownFallback=Ff;Ff.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:Fl.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:Fl.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null};var jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.EntryHandlerKeywordValue=void 0;const OM=Vr;class PM extends OM.EntryHandlerKeyword{constructor(){super("@value")}async validate(t,n,r,i,a){const s=r[i];return s&&!t.literalStack[i]&&await this.test(t,n,s,r,i)&&(t.literalStack[i]=!0),super.validate(t,n,r,i,a)}async test(t,n,r,i,a){return await n.unaliasKeyword(i[a],i.slice(0,i.length-1),a-1,!0)==="@value"}async handle(t,n,r,i,a,s){t.literalStack[s]=!0,delete t.unidentifiedValuesBuffer[s],delete t.unidentifiedGraphsBuffer[s],t.emittedStack[s]=!1}}jf.EntryHandlerKeywordValue=PM;var nl={},$f={};Object.defineProperty($f,"__esModule",{value:!0});$f.ContextTree=void 0;class Sv{constructor(){this.subTrees={}}getContext(t){if(t.length>0){const[n,...r]=t,i=this.subTrees[n];if(i){const a=i.getContext(r);if(a)return a.then(({context:s,depth:o})=>({context:s,depth:o+1}))}}return this.context?this.context.then(n=>({context:n,depth:0})):null}setContext(t,n){if(t.length===0)this.context=n;else{const[r,...i]=t;let a=this.subTrees[r];a||(a=this.subTrees[r]=new Sv),a.setContext(i,n)}}removeContext(t){this.setContext(t,null)}}$f.ContextTree=Sv;var mw;function LM(){if(mw)return nl;mw=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.ParsingContext=void 0;const e=On,t=To,n=$f,r=a1();let i=class i1{constructor(s){this.contextParser=new e.ContextParser({documentLoader:s.documentLoader,skipValidation:s.skipContextValidation}),this.streamingProfile=!!s.streamingProfile,this.baseIRI=s.baseIRI,this.produceGeneralizedRdf=!!s.produceGeneralizedRdf,this.allowSubjectList=!!s.allowSubjectList,this.processingMode=s.processingMode||r.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!s.strictValues,this.validateValueIndexes=!!s.validateValueIndexes,this.defaultGraph=s.defaultGraph,this.rdfDirection=s.rdfDirection,this.normalizeLanguageTags=s.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=s.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=s.rdfstar!==!1,this.rdfstarReverseInEmbedded=s.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new n.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=s.parser,s.context?(this.rootContext=this.parseContext(s.context),this.rootContext.then(o=>this.validateContext(o))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(s,o,l){return this.contextParser.parse(s,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:o,processingMode:this.activeProcessingMode})}validateContext(s){const o=s.getContextRaw()["@version"];if(o){if(this.activeProcessingMode&&o>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${o}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&o<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${o} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=o}}async getContext(s,o=1){const l=s;for(;typeof s[s.length-1]=="number";)s=s.slice(0,s.length-1);o&&(s=s.slice(0,-o));const u=await this.getContextPropagationAware(s);let d=u.context.getContextRaw();for(let f=u.depth;f<l.length-o;f++){const h=l[f],p=d[h];if(p&&typeof p=="object"&&"@context"in p){const g=(await this.parseContext(p,d,!0)).getContextRaw(),m=!(h in g)||g[h]["@context"]["@propagate"];(m!==!1||f===l.length-1-o)&&(d=Object.assign({},g),delete d["@propagate"],d[h]=Object.assign({},d[h]),"@id"in p&&(d[h]["@id"]=p["@id"]),delete d[h]["@context"],m!==!1&&this.contextTree.setContext(l.slice(0,f+o),Promise.resolve(new e.JsonLdContextNormalized(d))))}}return new e.JsonLdContextNormalized(d)}async getContextPropagationAware(s){const o=s.length;let l=null,u;do{u=!1,l&&"@__propagateFallback"in l.context.getContextRaw()?l.context=new e.JsonLdContextNormalized(l.context.getContextRaw()["@__propagateFallback"]):(l&&(s=s.slice(0,l.depth-1)),l=await this.contextTree.getContext(s)||{context:await this.rootContext,depth:0});const c=s[s.length-1];if(c in l.context.getContextRaw()){const d=l.context.getContextRaw()[c];d&&typeof d=="object"&&"@context"in d&&(u=!0)}}while(l.depth>0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==o&&!u);return l.depth===0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==o&&(l.context=new e.JsonLdContextNormalized({})),l}async newOnValueJob(s,o,l,u){await this.parser.newOnValueJob(s,o,l,u)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const s of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(s.depth,s.keys),this.parser.flushStacks(s.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(s,o){s===1&&(this.topLevelProperties=!0),this.parser.push(o)}emitError(s){this.parser.emit("error",s)}emitContext(s){this.parser.emit("context",s)}getUnidentifiedValueBufferSafe(s){let o=this.unidentifiedValuesBuffer[s];return o||(o=[],this.unidentifiedValuesBuffer[s]=o),o}getUnidentifiedGraphBufferSafe(s){let o=this.unidentifiedGraphsBuffer[s];return o||(o=[],this.unidentifiedGraphsBuffer[s]=o),o}getAnnotationsBufferSafe(s){let o=this.annotationsBuffer[s];return o||(o=[],this.annotationsBuffer[s]=o),o}getExpandOptions(){return i1.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(s,o){const l=this.idStack[s+o];if(l&&(this.idStack[s]=l,this.emittedStack[s]=!0,delete this.idStack[s+o]),this.pendingContainerFlushBuffers.length)for(const u of this.pendingContainerFlushBuffers)u.depth>=s+o&&(u.depth-=o,u.keys.splice(s,o));this.unidentifiedValuesBuffer[s+o]&&(this.unidentifiedValuesBuffer[s]=this.unidentifiedValuesBuffer[s+o],delete this.unidentifiedValuesBuffer[s+o]),this.annotationsBuffer[s+o-1]&&(this.annotationsBuffer[s-1]||(this.annotationsBuffer[s-1]=[]),this.annotationsBuffer[s-1]=[...this.annotationsBuffer[s-1],...this.annotationsBuffer[s+o-1]],delete this.annotationsBuffer[s+o-1])}};return nl.ParsingContext=i,i.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},nl}var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.EntryHandlerKeywordAnnotation=void 0;const FM=Vr,vw=On;class jM extends FM.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(t,n,r,i,a,s){(typeof a=="string"||typeof a=="object"&&a["@value"])&&t.emitError(new vw.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(a)}`,vw.ERROR_CODES.INVALID_ANNOTATION))}}Vf.EntryHandlerKeywordAnnotation=jM;var yw;function a1(){if(yw)return Jo;yw=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.JsonLdParser=void 0;const e=MV,t=On,n=kt,r=xf,i=n1(),a=Af,s=Cf(),o=Nf,l=Rf,u=Df,c=kf,d=Of,f=Pf,h=Lf,p=jf,g=LM(),m=xs(),v=XI,_=Vf;let x=class Ms extends n.Transform{constructor(S){super({readableObjectMode:!0}),S=S||{},this.options=S,this.parsingContext=new g.ParsingContext(Object.assign({parser:this},S)),this.util=new m.Util({dataFactory:S.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(S,E,N,A){let R,M=["application/activity+json"];if(A&&A.wellKnownMediaTypes&&(M=A.wellKnownMediaTypes),E!=="application/ld+json"&&!M.includes(E)){if(E!=="application/json"&&!E.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${E}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(N&&N.has("Link")&&N.forEach((P,F)=>{if(F==="link"){const U=(0,v.parse)(P);for(const J of U.get("rel","http://www.w3.org/ns/json-ld#context")){if(R)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+S,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);R=J.uri}}}),!R&&!(A!=null&&A.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${E} on ${S}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let V;if(N&&N.has("Content-Type")){const P=N.get("Content-Type"),F=/; *profile=([^"]*)/.exec(P);F&&F[1]==="http://www.w3.org/ns/json-ld#streaming"&&(V=!0)}return new Ms(Object.assign({baseIRI:S,context:R,streamingProfile:V},A||{}))}import(S){if("pipe"in S){S.on("error",N=>E.emit("error",N));const E=S.pipe(new Ms(this.options));return E}else{const E=new n.PassThrough({readableObjectMode:!0});S.on("error",A=>N.emit("error",A)),S.on("data",A=>E.push(A)),S.on("end",()=>E.push(null));const N=E.pipe(new Ms(this.options));return N}}_transform(S,E,N){this.jsonParser.write(S),this.lastOnValueJob.then(()=>N(),A=>N(A))}async newOnValueJob(S,E,N,A){let R=!0;if(A&&N<this.lastDepth){const U=this.parsingContext.listPointerStack[this.lastDepth];U&&(U.value&&this.push(this.util.dataFactory.quad(U.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),U.listId.listHead=!0,this.parsingContext.idStack[U.listRootDepth+1]=[U.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await i.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),R=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const M=await this.util.unaliasKeyword(S[N],S,N),V=await this.util.unaliasKeywordParent(S,N);this.parsingContext.emittedStack[N]=!0;let P=!0;t.Util.isValidKeyword(M)&&V==="@reverse"&&M!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${E}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let F=!1;this.parsingContext.validationStack.length>1&&(F=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let U=Math.max(1,this.parsingContext.validationStack.length-1);U<S.length-1;U++){const J=this.parsingContext.validationStack[U]||(this.parsingContext.validationStack[U]=await this.validateKey(S.slice(0,U+1),U,F));if(J.valid)!F&&J.property&&(F=!0);else{this.parsingContext.emittedStack[N]=!1,P=!1;break}}if(await this.util.isLiteral(S,N)&&(P=!1),P)for(const U of Ms.ENTRY_HANDLERS){const J=await U.test(this.parsingContext,this.util,M,S,N);if(J){await U.handle(this.parsingContext,this.util,M,S,E,N,J),U.isStackProcessor()&&(this.parsingContext.processingStack[N]=!0);break}}N===0&&Array.isArray(E)&&await this.util.validateValueIndexes(E),R&&N<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=N,this.lastKeys=S,this.parsingContext.unaliasedKeywordCacheStack.splice(N-1)}flushStacks(S){this.parsingContext.processingStack.splice(S,1),this.parsingContext.processingType.splice(S,1),this.parsingContext.emittedStack.splice(S,1),this.parsingContext.idStack.splice(S,1),this.parsingContext.graphStack.splice(S+1,1),this.parsingContext.graphContainerTermStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1),this.parsingContext.validationStack.splice(S-1,2),this.parsingContext.literalStack.splice(S,this.parsingContext.literalStack.length-S),this.parsingContext.annotationsBuffer.splice(S,1)}async flushBuffer(S,E){let N=this.parsingContext.idStack[S];!!N||(N=this.parsingContext.idStack[S]=[this.util.dataFactory.blankNode()]);const R=this.parsingContext.unidentifiedValuesBuffer[S];if(R){for(const P of N){const F=await this.util.getDepthOffsetGraph(S,E),U=this.parsingContext.graphStack[S]||F>=0?this.parsingContext.idStack[S-F-1]:[await this.util.getGraphContainerValue(E,S)];if(U)for(const J of U){this.parsingContext.emittedStack[S]=!0;for(const G of R)this.util.emitQuadChecked(S,P,G.predicate,G.object,J,G.reverse,G.isEmbedded)}else{const J=this.parsingContext.getUnidentifiedGraphBufferSafe(S-await this.util.getDepthOffsetGraph(S,E)-1);for(const G of R)G.reverse?J.push({object:P,predicate:G.predicate,subject:G.object,isEmbedded:G.isEmbedded}):J.push({object:G.object,predicate:G.predicate,subject:P,isEmbedded:G.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(S,1),this.parsingContext.literalStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1)}const M=this.parsingContext.unidentifiedGraphsBuffer[S];if(M){for(const P of N){const F=S===1&&P.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():P;this.parsingContext.emittedStack[S]=!0;for(const U of M)this.parsingContext.emitQuad(S,this.util.dataFactory.quad(U.subject,U.predicate,U.object,F))}this.parsingContext.unidentifiedGraphsBuffer.splice(S,1)}const V=this.parsingContext.annotationsBuffer[S];if(V){V.length>0&&S===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const P=this.parsingContext.getAnnotationsBufferSafe(S-1);for(const F of V)P.push(F);delete this.parsingContext.annotationsBuffer[S]}}async validateKey(S,E,N){for(const A of Ms.ENTRY_HANDLERS)if(await A.validate(this.parsingContext,this.util,S,E,N))return{valid:!0,property:N||A.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=S=>{const E=this.jsonParser.stack.length,N=new Array(E+1).fill(0).map((A,R)=>R===E?this.jsonParser.key:this.jsonParser.stack[R].key);if(!this.isParsingContextInner(E)){const A=()=>this.newOnValueJob(N,S,E,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(N.slice(0,-1)))if(N[E]==="@context"){let R=this.contextJobs[E];R||(R=this.contextJobs[E]=[]),R.push(A)}else this.contextAwaitingJobs.push({job:A,keys:N,depth:E});else this.lastOnValueJob=this.lastOnValueJob.then(A);!this.parsingContext.streamingProfile&&E===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=S=>{this.emit("error",S)}}isParsingContextInner(S){for(let E=S;E>0;E--)if(this.jsonParser.stack[E-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const E of this.contextJobs)if(E)for(const N of E)await N();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const S=[];for(const E of this.contextAwaitingJobs)await this.util.unaliasKeyword(E.keys[E.depth],E.keys,E.depth,!0)==="@type"||typeof E.keys[E.depth]=="number"&&await this.util.unaliasKeyword(E.keys[E.depth-1],E.keys,E.depth-1,!0)==="@type"?this.typeJobs.push({job:E.job,keys:E.keys.slice(0,E.keys.length-1)}):S.push(E);for(const E of S){if(this.typeJobs.length>0){const N=[],A=[];for(let V=0;V<this.typeJobs.length;V++){const P=this.typeJobs[V];m.Util.isPrefixArray(P.keys,E.keys)&&(N.push(P),A.push(V))}const R=N.sort((V,P)=>V.keys.length-P.keys.length);for(const V of R)await V.job();const M=A.sort().reverse();for(const V of M)this.typeJobs.splice(V,1)}await E.job()}}};return Jo.JsonLdParser=x,x.DEFAULT_PROCESSING_MODE="1.1",x.ENTRY_HANDLERS=[new r.EntryHandlerArrayValue,new o.EntryHandlerKeywordContext,new u.EntryHandlerKeywordId,new c.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new d.EntryHandlerKeywordNest,new f.EntryHandlerKeywordType,new p.EntryHandlerKeywordValue,new _.EntryHandlerKeywordAnnotation,new i.EntryHandlerContainer,new h.EntryHandlerKeywordUnknownFallback,new s.EntryHandlerPredicate,new a.EntryHandlerInvalidFallback],Jo}(function(e){var t=tt&&tt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=tt&&tt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(a1(),e)})(GI);const Pg="null:";function $M(e){return t=>t.termType!=="NamedNode"||!t.value.startsWith(Pg)?null:e.namedNode(t.value.slice(Pg.length))}function VM(e){const t=$M(e);return n=>{const r=t(n.subject),i=t(n.predicate),a=t(n.object),s=t(n.graph);return r||i||a||s?e.quad(r||n.subject,i||n.predicate,a||n.object,s||n.graph):n}}let MM=class{constructor(t,{baseIRI:n=Pg,context:r=null,documentLoader:i,factory:a=vu}={}){const s=new GI.JsonLdParser({baseIRI:n,context:r,dataFactory:a,documentLoader:i,streamingProfile:!1});t.pipe(s);const o=VM(a),l=new kt.Transform({objectMode:!0,transform:(u,c,d)=>{d(null,o(u))}});return s.on("context",u=>{Object.entries(u).forEach(([c,d])=>{l.emit("prefix",c,a.namedNode(d))})}),s.on("error",u=>l.destroy(u)),s.pipe(l),mf(l)}},s1=class extends Io{constructor(t){super(MM,t)}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let bw;var BM=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:tt):e=>(bw||(bw=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));const UM=Zd(BM),rl="http://www.w3.org/1999/02/22-rdf-syntax-ns#",il="http://www.w3.org/2001/XMLSchema#",tp="http://www.w3.org/2000/10/swap/",fn={xsd:{decimal:`${il}decimal`,boolean:`${il}boolean`,double:`${il}double`,integer:`${il}integer`,string:`${il}string`},rdf:{type:`${rl}type`,nil:`${rl}nil`,first:`${rl}first`,rest:`${rl}rest`,langString:`${rl}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${tp}reify#forSome`,forAll:`${tp}reify#forAll`},log:{implies:`${tp}log#implies`}},{xsd:lc}=fn,HM=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,_w={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},GM=/[\x00-\x20<>\\"\{\}\|\^\`]/,WM={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},zM=/$0^/;class o1{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in WM)&&this[n]instanceof RegExp&&(this[n]=zM)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let o,l;for(;o=this._newline.exec(r);)this.comments&&(l=this._comment.exec(o[0]))&&a("comment",l[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),i=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const u=this._line,c=r[0];let d="",f="",h="",p=null,g=0,m=!1;switch(c){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){m=!0;break}}else{this._n3Mode&&(g=1,d="^");break}case"<":if(p=this._unescapedIri.exec(r))d="IRI",f=p[1];else if(p=this._iri.exec(r)){if(f=this._unescape(p[1]),f===null||GM.test(f))return s(this);d="IRI"}else r.length>1&&r[1]==="<"?(d="<<",g=2):this._n3Mode&&r.length>1&&r[1]==="="&&(d="inverse",g=2,f=">");break;case">":r.length>1&&r[1]===">"&&(d=">>",g=2);break;case"_":((p=this._blank.exec(r))||n&&(p=this._blank.exec(`${r} `)))&&(d="blank",h="_",f=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(r))f=p[1];else if({value:f,matchLength:g}=this._parseLiteral(r),f===null)return s(this);(p!==null||g!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(r))f=p[1];else if({value:f,matchLength:g}=this._parseLiteral(r),f===null)return s(this);(p!==null||g!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(r))&&(d="var",f=p[0]);break;case"@":this._previousMarker==="literal"&&(p=this._langcode.exec(r))?(d="langcode",f=p[1]):(p=this._keyword.exec(r))&&(d=p[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){d=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(r)||n&&(p=this._number.exec(`${r} `)))&&(d="literal",f=p[0],h=typeof p[1]=="string"?lc.double:typeof p[2]=="string"?lc.decimal:lc.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(r))?d=p[0].toUpperCase():m=!0;break;case"f":case"t":(p=this._boolean.exec(r))?(d="literal",f=p[0],h=lc.boolean):m=!0;break;case"a":(p=this._shortPredicates.exec(r))?(d="abbreviation",f="a"):m=!0;break;case"=":this._n3Mode&&r.length>1&&(d="abbreviation",r[1]!==">"?(g=1,f="="):(g=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,d=c);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(d="{|",g=2):(d=c,g=1));break;case"|":r.length>=2&&r[1]==="}"&&(d="|}",g=2);break;default:m=!0}if(m&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(p=this._prefix.exec(r))?(d="prefix",f=p[1]||""):((p=this._prefixed.exec(r))||n&&(p=this._prefixed.exec(`${r} `)))&&(d="prefixed",h=p[1]||"",f=this._unescape(p[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const v=g||p[0].length,_=a(d,f,h,u,v);this.previousToken=_,this._previousMarker=d,r=r.substr(v,r.length)}function a(o,l,u,c,d){const f=r?i-r.length:i,h=f+d,p={type:o,value:l,prefix:u,line:c,start:f,end:h};return t(null,p),p}function s(o){t(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(HM,(i,a,s,o)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof s=="string"){let l=Number.parseInt(s,16);return l<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return o in _w?_w[o]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const s=t.substring(r,i),o=s.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&o!==0||r===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")UM(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,s)=>a?i=a:r.push(s),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=$r.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}}const{rdf:KM,xsd:za}=fn;let Ro,qM=0;const fi={namedNode:f1,blankNode:h1,variable:g1,literal:p1,defaultGraph:JM,quad:Lg,triple:Lg,fromTerm:bl,fromQuad:m1};class _r{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof _r?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let Ev=class extends _r{get termType(){return"NamedNode"}},jl=class l1 extends _r{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new Ev(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?za.string:KM.langString}equals(t){return t instanceof l1?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},u1=class extends _r{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},c1=class extends _r{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},d1=class extends _r{constructor(){return super(""),Ro||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Ro=new d1;function Ws(e,t,n){if(t=t||fi,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===fi)return new jl(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(Ws(e[0],t,!0),Ws(e[1],t,!0),Ws(e[2],t,!0),e[3]&&Ws(e[3],t,!0))}function Qa(e,t){if(typeof e=="string")return e;if(e instanceof _r&&e.termType!=="Quad")return e.id;if(!e)return Ro.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==za.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[Qa(e.subject,!0),Qa(e.predicate,!0),Qa(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&n.push(Qa(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Sd=class extends _r{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||Ro}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function f1(e){return new Ev(e)}function h1(e){return new u1(e||`n3-${qM++}`)}function p1(e,t){if(typeof t=="string")return new jl(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=za.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?za.integer:za.double:(n=za.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===za.string?new jl(`"${e}"`):new jl(`"${e}"^^${n}`)}function g1(e){return new c1(e)}function JM(){return Ro}function Lg(e,t,n,r){return new Sd(e,t,n,r)}function bl(e){if(e instanceof _r)return e;switch(e.termType){case"NamedNode":return f1(e.value);case"BlankNode":return h1(e.value);case"Variable":return g1(e.value);case"DefaultGraph":return Ro;case"Literal":return p1(e.value,e.language||e.datatype);case"Quad":return m1(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function m1(e){if(e instanceof Sd)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return Lg(bl(e.subject),bl(e.predicate),bl(e.object),bl(e.graph))}let ww=0;class Iv{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&v1(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),s=/quad/.test(n),o=this._n3Mode=/n3/.test(n),l=a||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||o),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new o1({lineMode:l,n3:o}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){ww=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const s=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._factory.namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._factory.namedNode(a+t.value);break;case"blank":r=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,s=this._contextStack,o=s[s.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=n=this._factory.blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._factory.blankNode()),a===null?o.predicate===null?o.subject=r:o.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._factory.literal(this._literalValue,r),t=null;break;case"langcode":n=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const s=this._predicate,o=this._object;this._subject=this._factory.quad(i,s,o,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const s=this._predicate,o=this._object;a?this._emit(o,s,i,r):this._emit(i,s,o,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._factory.blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._factory.blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._factory.quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=uc}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,s=0,o="/";for(;i<n;){switch(o){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(o=t[++i+1],o){case"/":r+=t.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+t.substring(s,i)+t.substr(i+1);case".":if(o=t[++i+1],o===void 0||o==="/"||o==="?"||o==="#"){if(r+=t.substring(s,i-2),(s=r.lastIndexOf("/"))>=a&&(r=r.substr(0,s)),o!=="/")return`${r}/${t.substr(i+1)}`;s=i+1}}}o=t[++i]}return r+t.substring(s)}parse(t,n,r){let i,a,s;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,s=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${ww++}_`,this._prefixCallback=a||uc,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let u;if(this._callback=(c,d)=>{c?u=c:d&&l.push(d)},this._lexer.tokenize(t).every(c=>this._readCallback=this._readCallback(c)),u)throw u;return l}let o=(l,u)=>{l!==null?(this._callback(l),this._callback=uc):this._readCallback&&(this._readCallback=this._readCallback(u))};s&&(this._lexer.comments=!0,o=(l,u)=>{l!==null?(this._callback(l),this._callback=uc):this._readCallback&&(u.type==="comment"?s(u.value):this._readCallback=this._readCallback(u))}),this._callback=i,this._lexer.tokenize(t,o)}}function uc(){}function v1(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(fn.rdf.first),e.RDF_REST=t.namedNode(fn.rdf.rest),e.RDF_NIL=t.namedNode(fn.rdf.nil),e.N3_FORALL=t.namedNode(fn.r.forAll),e.N3_FORSOME=t.namedNode(fn.r.forSome),e.ABBREVIATIONS={a:t.namedNode(fn.rdf.type),"=":t.namedNode(fn.owl.sameAs),">":t.namedNode(fn.log.implies)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}v1(Iv.prototype,fi);function YM(e){return!!e&&e.termType==="NamedNode"}function QM(e){return!!e&&e.termType==="BlankNode"}function XM(e){return!!e&&e.termType==="Literal"}function ZM(e){return!!e&&e.termType==="Variable"}function eu(e){return!!e&&e.termType==="DefaultGraph"}function eB(e){return eu(e.graph)}function tB(e,t){return y1({"":e.value||e},t)("")}function y1(e,t){const n=Object.create(null);for(const i in e)r(i,e[i]);t=t||fi;function r(i,a){if(typeof a=="string"){const s=Object.create(null);n[i]=o=>s[o]||(s[o]=t.namedNode(a+o))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const nB=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:eB,isBlankNode:QM,isDefaultGraph:eu,isLiteral:XM,isNamedNode:YM,isVariable:ZM,prefix:tB,prefixes:y1},Symbol.toStringTag,{value:"Module"})),al=fi.defaultGraph(),{rdf:rB,xsd:ks}=fn,xw=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Sw=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,iB={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class sl extends _r{equals(t){return t===this}}class Mf{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,s){r+=i,s&&s()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=al,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${Iw(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return al.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(al.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(s){a&&a(s)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){let n="";for(const r of t)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),xw.test(n)&&(n=n.replace(Sw,Ew));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(xw.test(n)&&(n=n.replace(Sw,Ew)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===ks.string)return`"${n}"`}else switch(t.datatype.value){case ks.string:return`"${n}"`;case ks.boolean:if(n==="true"||n==="false")return n;break;case ks.integer:if(/^[+-]?\d+$/.test(n))return n;break;case ks.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case ks.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===rB.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${eu(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,al,i):this._writeQuad(t,n,r,i||al,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const s in this._prefixIRIs)i+=i?`|${s}`:s,a+=(a?"|":"")+this._prefixIRIs[s];i=Iw(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new sl("[]");case 1:if(i=r[0],!(i.object instanceof sl))return new sl(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let o=0;o<a;o++)i=r[o],i.predicate.equals(t)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new sl(`${s}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new sl(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function Ew(e){let t=iB[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function Iw(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const np=Symbol("iter");function $l(e,t,n=4){if(n===0)return Object.assign(e,t);for(const r in t)e[r]=$l(e[r]||Object.create(null),t[r],n-1);return e}function b1(e,t,n=4){let r=!1;for(const i in e)if(i in t){const a=n===0?null:b1(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function _1(e,t,n=4){let r=!1;for(const i in e)if(!(i in t))r=r||Object.create(null),r[i]=n===0?null:$l({},e[i],n-1);else if(n!==0){const a=_1(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class w1{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||fi}_termFromId(t){if(t[0]==="."){const n=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return Ws(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&(eu(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[Qa(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${eu(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Qa(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class Sn{constructor(t,n){this._size=0,this._graphs=Object.create(null),!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||fi,this._entityIndex=n.entityIndex||new w1({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const s in r=n[a].subjects)for(const o in i=r[s])t+=Object.keys(i[o]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),s=a[r]||(a[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(t,n,r,i){const a=t[n],s=a[r];delete s[i];for(const o in s)return;delete a[r];for(const o in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,s,o,l){let u,c,d;const f=this._entities,h=this._termFromId(f[l]),p={subject:null,predicate:null,object:null};n&&((u=t,t={})[n]=u[n]);for(const g in t)if(c=t[g]){p[a]=this._termFromId(f[g]),r&&((u=c,c={})[r]=u[r]);for(const m in c)if(d=c[m]){p[s]=this._termFromId(f[m]);const v=i?i in d?[i]:[]:Object.keys(d);for(let _=0;_<v.length;_++)p[o]=this._termFromId(f[v[_]]),yield this._factory.quad(p.subject,p.predicate,p.object,h)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,s,o;if((a=t[n])&&(s=a[r]))for(o in s)i(o)}_countInIndex(t,n,r,i){let a=0,s,o,l;n&&((s=t,t={})[n]=s[n]);for(const u in t)if(o=t[u]){r&&((s=o,o={})[r]=s[r]);for(const c in o)(l=o[c])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,t,n,r)?(this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,!0):!1}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||({subject:t,predicate:n,object:r,graph:i}=t),i=i?this._termToNumericId(i):1;const a=this._graphs;let s,o,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(s=a[i])||!(o=s.subjects[t])||!(l=o[n])||!(r in l))return!1;this._removeFromIndex(s.subjects,t,n,r),this._removeFromIndex(s.predicates,n,r,t),this._removeFromIndex(s.objects,r,t,n),this._size!==null&&this._size--;for(t in s.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new kt.Readable({objectMode:!0}),s=this.readQuads(t,n,r,i);return a._read=o=>{for(;--o>=0;){const{done:l,value:u}=s.next();if(l){a.push(null);return}a.push(u)}},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){const a=this._getGraphs(i);let s,o,l,u;if(!(t&&!(o=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(u=this._termToNumericId(r))))for(const c in a)(s=a[c])&&(o?u?yield*this._findInIndex(s.objects,u,o,l,"object","subject","predicate",c):yield*this._findInIndex(s.subjects,o,l,null,"subject","predicate","object",c):l?yield*this._findInIndex(s.predicates,l,u,null,"predicate","object","subject",c):u?yield*this._findInIndex(s.objects,u,null,null,"object","subject","predicate",c):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",c))}match(t,n,r,i){return new ra(this,t,n,r,i,{entityIndex:this._entityIndex})}countQuads(t,n,r,i){const a=this._getGraphs(i);let s=0,o,l,u,c;if(t&&!(l=this._termToNumericId(t))||n&&!(u=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r)))return 0;for(const d in a)(o=a[d])&&(t?r?s+=this._countInIndex(o.objects,c,l,u):s+=this._countInIndex(o.subjects,l,u,c):n?s+=this._countInIndex(o.predicates,u,c,l):s+=this._countInIndex(o.objects,c,l,u));return s}forEach(t,n,r,i,a){this.some(s=>(t(s,this),!1),n,r,i,a)}every(t,n,r,i,a){return!this.some(s=>!t(s,this),n,r,i,a)}some(t,n,r,i,a){for(const s of this.readQuads(n,r,i,a))if(t(s))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){const a=this._getGraphs(i);let s,o,l;if(t=this._uniqueEntities(t),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.predicates,o,l,t):this._loopByKey1(s.subjects,o,t):l?this._loopByKey0(s.objects,l,t):this._loop(s.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){const a=this._getGraphs(i);let s,o,l;if(t=this._uniqueEntities(t),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.objects,l,o,t):this._loopByKey0(s.subjects,o,t):l?this._loopByKey1(s.predicates,l,t):this._loop(s.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){const a=this._getGraphs(i);let s,o,l;if(t=this._uniqueEntities(t),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.subjects,o,l,t):this._loopByKey1(s.objects,o,t):l?this._loopByKey0(s.predicates,l,t):this._loop(s.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(s=>(t(s.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(o,l)=>{throw new Error(`${o.value} ${l}`)},a=this.getQuads(null,fn.rdf.rest,fn.rdf.nil,null),s=t?[...a]:[];return a.forEach(o=>{const l=[];let u=!1,c,d;const f=o.graph;let h=o.subject;for(;h&&!u;){const p=this.getQuads(null,null,h,null),g=this.getQuads(h,null,null,null);let m,v=null,_=null,x=null;for(let I=0;I<g.length&&!u;I++)m=g[I],m.graph.equals(f)?c?u=i(h,"has non-list arcs out"):m.predicate.value===fn.rdf.first?v?u=i(h,"has multiple rdf:first arcs"):s.push(v=m):m.predicate.value===fn.rdf.rest?_?u=i(h,"has multiple rdf:rest arcs"):s.push(_=m):p.length?u=i(h,"can't be subject and object"):(c=m,d="subject"):u=i(h,"not confined to single graph");for(let I=0;I<p.length&&!u;++I)m=p[I],c?u=i(h,"can't have coreferences"):m.predicate.value===fn.rdf.rest?x?u=i(h,"has incoming rdf:rest arcs"):x=m:(c=m,d="object");v?l.unshift(v.object):u=i(h,"has no list head"),h=x&&x.subject}u?t=!1:c&&(r[c[d].value]=l)}),t&&this.removeQuads(s),r}addAll(t){if(t instanceof ra&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof Sn&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=$l(this._graphs,t._graphs),this._size=null);else for(const n of t)this.add(n);return this}contains(t){if(t instanceof ra&&(t=t.filtered),t===this)return!0;if(!(t instanceof Sn)||this._entityIndex!==t._entityIndex)return t.every(u=>this.has(u));const n=this._graphs,r=t._graphs;let i,a,s,o,l;for(const u in r){if(!(i=n[u]))return!1;i=i.subjects;for(const c in a=r[u].subjects){if(!(s=i[c]))return!1;for(const d in o=a[c]){if(!(l=s[d]))return!1;for(const f in o[d])if(!(f in l))return!1}}}return!0}deleteMatches(t,n,r,i){for(const a of this.match(t,n,r,i))this.removeQuad(a);return this}difference(t){if(t&&t instanceof ra&&(t=t.filtered),t===this)return new Sn({entityIndex:this._entityIndex});if(t instanceof Sn&&t._entityIndex===this._entityIndex){const n=new Sn({entityIndex:this._entityIndex}),r=_1(this._graphs,t._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!t.has(n))}equals(t){return t instanceof ra&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const n=new Sn({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&n.add(r);return n}intersection(t){if(t instanceof ra&&(t=t.filtered),t===this){const n=new Sn({entityIndex:this._entityIndex});return n._graphs=$l(Object.create(null),this._graphs),n._size=this._size,n}else if(t instanceof Sn&&this._entityIndex===t._entityIndex){const n=new Sn({entityIndex:this._entityIndex}),r=b1(t._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>t.has(n))}map(t){const n=new Sn({entityIndex:this._entityIndex});for(const r of this)n.add(t(r,this));return n}reduce(t,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=t(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new Mf().quadsToString(this)}union(t){const n=new Sn({entityIndex:this._entityIndex});return n._graphs=$l(Object.create(null),this._graphs),n._size=this._size,n.addAll(t),n}*[Symbol.iterator](){yield*this.readQuads()}}function Xr(e,t,n=0){const r=t[n];if(r&&!(r in e))return!1;let i=!1;for(const a in r?{[r]:e[r]}:e){const s=n===2?null:Xr(e[a],t,n+1);s!==!1&&(i=i||Object.create(null),i[a]=s)}return i}class ra extends kt.Readable{constructor(t,n,r,i,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a,options:s})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,s=this._filtered=new Sn({factory:t._factory,entityIndex:this.options.entityIndex});let o,l,u;if(a&&!(o=s._termToNumericId(a))||i&&!(l=s._termToNumericId(i))||r&&!(u=s._termToNumericId(r)))return s;const c=t._getGraphs(n);for(const d in c){let f,h,p;!o&&l?(h=Xr(c[d].predicates,[l,u,o]))&&(f=Xr(c[d].subjects,[o,l,u]),p=Xr(c[d].objects,[u,o,l])):u?(p=Xr(c[d].objects,[u,o,l]))&&(f=Xr(c[d].subjects,[o,l,u]),h=Xr(c[d].predicates,[l,u,o])):(f=Xr(c[d].subjects,[o,l,u]))&&(h=Xr(c[d].predicates,[l,u,o]),p=Xr(c[d].objects,[u,o,l])),f&&(s._graphs[d]={subjects:f,predicates:h,objects:p})}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[np]&&(this[np]=this[Symbol.iterator]());const n=this[np];for(;--t>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,n,r,i){return this.filtered.deleteMatches(t,n,r,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,n,r,i,a){return this.filtered.every(t,n,r,i,a)}filter(t){return this.filtered.filter(t)}forEach(t,n,r,i,a){return this.filtered.forEach(t,n,r,i,a)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,n,r,i,a){return this.filtered.some(t,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,n){return this.filtered.reduce(t,n)}toString(){return new Mf().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new ra(this.filtered,t,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class aB{dataset(t){return new Sn(t)}}function sB(e){const t=[];for(const{subject:n,object:r}of e.match(null,fi.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,fi.defaultGraph())){const i=[...e.match(null,null,null,n)],a=[...e.match(null,null,null,r)];t.push({premise:i,conclusion:a})}return t}class oB{constructor(t){this._store=t}_add(t,n,r,i,a){this._store._addToIndex(i.subjects,t,n,r)&&(this._store._addToIndex(i.predicates,n,r,t),this._store._addToIndex(i.objects,r,t,n),a())}_evaluatePremise(t,n,r,i=0){let a,s,o,l,u;const[c,d,f]=t.premise[i].value,h=n[t.premise[i].content],p=!(o=c.value);for(o in p?h:{[o]:h[o]})if(l=h[o]){p&&(c.value=Number(o)),a=!(o=d.value);for(o in a?l:{[o]:l[o]})if(u=l[o]){a&&(d.value=Number(o)),s=!(o=f.value);for(o in s?u:{[o]:u[o]})s&&(f.value=Number(o)),i===t.premise.length-1?t.conclusion.forEach(g=>{this._add(g.subject.value,g.predicate.value,g.object.value,n,()=>{r(g)})}):this._evaluatePremise(t,n,r,i+1);s&&(f.value=null)}a&&(d.value=null)}p&&(c.value=null)}_evaluateRules(t,n,r){for(let i=0;i<t.length;i++)this._evaluatePremise(t[i],n,r)}_reasonGraphNaive(t,n){const r=[];function i(o){o.next&&o.next.forEach(l=>{r.push([o.subject.value,o.predicate.value,o.object.value,l])})}const a=o=>{o.forEach(l=>{this._add(l.subject.value,l.predicate.value,l.object.value,n,()=>{i(l)})})};this._evaluateRules(t,n,i);let s;for(;(s=r.pop())!==void 0;){const[o,l,u,c]=s,d=c.basePremise.subject.value;d||(c.basePremise.subject.value=o);const f=c.basePremise.predicate.value;f||(c.basePremise.predicate.value=l);const h=c.basePremise.object.value;h||(c.basePremise.object.value=u),c.premise.length===0?a(c.conclusion):this._evaluatePremise(c,n,i),d||(c.basePremise.subject.value=null),f||(c.basePremise.predicate.value=null),h||(c.basePremise.object.value=null)}}_createRule({premise:t,conclusion:n}){const r={},i=s=>s.termType==="Variable"?r[s.value]=r[s.value]||{}:{value:this._store._termToNewNumericId(s)},a=s=>({subject:i(s.subject),predicate:i(s.predicate),object:i(s.object)});return{premise:t.map(s=>a(s)),conclusion:n.map(s=>a(s)),variables:Object.values(r)}}reason(t){Array.isArray(t)||(t=sB(t)),t=t.map(r=>this._createRule(r));for(const r of t)for(const i of t)for(let a=0;a<i.premise.length;a++){const s=i.premise[a];for(const o of r.conclusion){if(rp(s.subject,o.subject)&&rp(s.predicate,o.predicate)&&rp(s.object,o.object)){const l=new Set,u=[];s.subject.value=s.subject.value||1,s.object.value=s.object.value||1,s.predicate.value=s.predicate.value||1;for(let c=0;c<i.premise.length;c++)c!==a&&u.push(Cw(i.premise[c],l));(o.next=o.next||[]).push({premise:u,conclusion:i.conclusion,basePremise:s})}i.variables.forEach(l=>{l.value=null})}}for(const r of t){const i=new Set;r.premise=r.premise.map(a=>Cw(a,i))}const n=this._store._getGraphs();for(const r in n)this._reasonGraphNaive(t,n[r]);this._store._size=null}}function Cw({subject:e,predicate:t,object:n},r){const i=e.value||r.has(e)||(r.add(e),!1),a=t.value||r.has(t)||(r.add(t),!1),s=n.value||r.has(n)||(r.add(n),!1);return!i&&a?{content:"predicates",value:[t,n,e]}:s?{content:"objects",value:[n,e,t]}:{content:"subjects",value:[e,t,n]}}function rp(e,t){return e.value===null&&(e.value=t.value),e.value===t.value}class x1 extends kt.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new Iv(t);let r,i;const a={onQuad:(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},onPrefix:(s,o)=>{this.emit("prefix",s,o)}};t&&t.comments&&(a.onComment=s=>{this.emit("comment",s)}),n.parse({on:(s,o)=>{switch(s){case"data":r=o;break;case"end":i=o;break}}},a),this._transform=(s,o,l)=>{r(s),l()},this._flush=s=>{i(),s()}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),this}}class lB extends kt.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new Mf({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},t);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),t.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const uB={Lexer:o1,Parser:Iv,Writer:Mf,Store:Sn,StoreFactory:aB,EntityIndex:w1,StreamParser:x1,StreamWriter:lB,Util:nB,Reasoner:oB,DataFactory:fi,Term:_r,NamedNode:Ev,Literal:jl,BlankNode:u1,Variable:c1,DefaultGraph:d1,Quad:Sd,Triple:Sd,termFromId:Ws,termToId:Qa};class cB{constructor(t,{baseIRI:n="",factory:r=vu,...i}={}){const a={blankNode:r.blankNode.bind(r),defaultGraph:r.defaultGraph.bind(r),literal:r.literal.bind(r),namedNode:r.namedNode.bind(r),quad:r.quad.bind(r)},s=new x1({baseIRI:n,factory:a,...i});return t.pipe(s),mf(s)}}let oi=class extends Io{constructor(t){super(cB,t)}},dB=class{constructor(t){const n=new kt.Transform({objectMode:!0,transform:(r,i,a)=>{a(null,`${Ut(r)}
`)}});return t.pipe(n),mf(n)}},ua=class extends Io{constructor(){super(dB)}};const ia=ws("http://www.w3.org/1999/02/22-rdf-syntax-ns#");let Tw=class{constructor({isObject:t=!1,isSubject:n=!1,term:r,tree:i}={}){this.items=null,this.isListItem=!1,this.isListValue=!1,this.predicates=new mr,this.quads=[],this.refs=[],this.term=r,this.tree=i,this.type=null,this.tree&&this.term&&this.term&&this.tree.nodes.set(this.term,this),this.isObject=t,this.isSubject=n}get isObject(){return this._isObject}set isObject(t){t?(this._isObject=!0,this.tree&&this.tree.objects.set(this.term,this)):(this._isObject=!1,this.tree&&this.tree.objects.delete(this.term))}get isSubject(){return this._isSubject}set isSubject(t){t?(this._isSubject=!0,this.tree&&this.tree.subjects.set(this.term,this)):(this._isSubject=!1,this.tree&&this.tree.subjects.delete(this.term))}get item(){const t=this.predicates.get(ia.first);if(!(!t||t.objects.size!==1))return[...t.objects.values()][0]}};class fB{constructor({objects:t,quads:n,term:r}){this.isType=ia.type.equals(r),this.lists=new us,this.objects=new mr(t),this.quads=n,this.term=r}}class Cv{constructor(t){this.tree=t,this.listItems=new mr,this.listItemsSeen=new us,this.listValues=new us}_findListItems(t){const n=[];do this.listItemsSeen.add(t.term),n.push(t),t=this._findNextItem(t);while(t);return n}_findNextItem(t){const n=t.predicates.get(ia.rest);if(!n||n.objects.size!==1)return null;const r=[...n.objects.values()][0];return ia.nil.equals(r.term)?null:r}_findPreviousItem(t){const n=t.refs.filter(r=>r.quads.some(i=>i.object.equals(t.term)));return n.length===1&&n[0].isListItem?this.tree.nodes.get(n[0].term):null}_findRootItem(t){for(;t.isListItem;){this.listItemsSeen.add(t.term);const n=this._findPreviousItem(t);if(!n)return t;t=n}return null}_addQuadNode(t,n){t.isSubject=!0,t.quads.push(n);let r;this.tree.nodes.has(n.object)?r=this.tree.nodes.get(n.object):(r=new Tw({isObject:!0,term:n.object,tree:this.tree}),this.tree.nodes.set(n.object,r)),r.refs.push(t);let i;t.predicates.has(n.predicate)?(i=t.predicates.get(n.predicate),i.objects.set(n.object,r),i.quads.push(n)):(i=new fB({objects:[[n.object,r]],quads:[n],term:n.predicate}),t.predicates.set(n.predicate,i),i.isType&&(t.type=i)),n.predicate.equals(ia.first)||n.predicate.equals(ia.rest)?(t.isListItem=!0,n.predicate.equals(ia.first)&&this.listValues.add(n.object),this.listItems.set(t.term,t)):n.object.equals(ia.nil)&&i.lists.add(n.object)}addQuad(t){let n;this.tree.nodes.has(t.subject)?n=this.tree.nodes.get(t.subject):n=new Tw({isSubject:!0,term:t.subject,tree:this.tree}),this._addQuadNode(n,t)}addQuads(t){for(const n of t)this.addQuad(n)}flush(){for(const t of this.listItems.values()){if(this.listItemsSeen.has(t.term))continue;const n=this._findRootItem(t);if(n){for(const r of n.refs)for(const i of r.predicates.values())i.objects.has(n.term)&&i.lists.add(n.term);n.items=this._findListItems(n)}}for(const t of this.listValues.values())this.tree.nodes.get(t).isListValue=!0}parse(t){return this.addQuads(t),this.flush(),this.tree}static parse(t,n){return new Cv(t).parse(n)}}class hB{constructor(t){this.nodes=new mr,this.objects=new mr,this.subjects=new mr,this.parser=new Cv(this),t&&this.parser.parse(t)}}const Aw=["Literal","NamedNode","BlankNode"];function Nw(e){return`${e.language||""}@${e.datatype.value||""}@${e.value}`}function cc(e,t){const n=Aw.indexOf(e.term.termType),r=Aw.indexOf(t.term.termType),i=n-r;if(i!==0)return i;if(e.term.termType==="Literal"){const a=e.term.language?1:0,o=(t.term.language?1:0)-a;return o!==0?o:Nw(e.term).localeCompare(Nw(t.term))}return e.term.value.localeCompare(t.term.value)}const pB=ws("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Eu=ws("http://www.w3.org/2001/XMLSchema#");function gB(e,t){const n=new Set,r=i=>{const a=t.shrink(i);a&&n.add(a.value.split(":")[0]),i.datatype&&!S1(i)&&!E1(i)&&!I1(i)&&!C1(i)&&!T1(i)&&!A1(i)&&r(i.datatype)};for(const i of e.nodes.values()){r(i.term);for(const a of i.predicates.keys())r(a)}return n}function S1(e){return Eu.boolean.equals(e.datatype)}function E1(e){return Eu.decimal.equals(e.datatype)}function I1(e){return Eu.double.equals(e.datatype)}function C1(e){return Eu.integer.equals(e.datatype)}function T1(e){return pB.langString.equals(e.datatype)}function A1(e){return Eu.string.equals(e.datatype)}class mB{constructor({baseIRI:t,prefixes:n}){this.baseIRI=t&&(t.value||t.toString()),this.prefixes=n,this.bnodeIds=new mr}serialize(t){if(t.termType==="BlankNode")return this.bnodeIds.has(t)||this.bnodeIds.set(t,this.bnodeIds.size+1),`_:b${this.bnodeIds.get(t)}`;if(t.termType==="Literal"){if(S1(t)){if(t.value==="true"||t.value==="false")return t.value}else if(E1(t)){if(/^[+-]?[0-9]*\.[0-9]+$/.test(t.value))return t.value}else if(I1(t)){if(/^[+-]?(?:[0-9]+\.[0-9]*|\.?[0-9]+)[eE][+-]?[0-9]+$/.test(t.value))return t.value}else if(C1(t)){if(/^[+-]?[0-9]+$/.test(t.value))return t.value}else if(!T1(t)&&!A1(t)){const n=this.prefixes.shrink(t.datatype);if(n)return`"${t.value}"^^${n.value}`}}if(t.termType==="NamedNode"){if(this.baseIRI&&t.value.startsWith(this.baseIRI))return`<${t.value.slice(this.baseIRI.length)}>`;const n=this.prefixes.shrink(t);if(n)return n.value}return Ut(t)}}function ol({each:e,filter:t,items:n,join:r}){let i=!0;for(const a of n)t&&!t(a)||(i||r(),e(a),i=!1)}class Bf{constructor(t,{baseIRI:n,output:r=[],prefixes:i}={}){this.baseIRI=n,this.output=r,this.prefixes=new Rg(i,{factory:vu}),this.tree=new hB(t),this.termSerializer=new mB({baseIRI:this.baseIRI,prefixes:this.prefixes})}serialize(){return this.state={},this.serializeBase(),this.serializePrefixes(),(this.state.serializedBase||this.state.serializedPrefixes)&&this.output.push(`
`),ol({items:[...this.tree.subjects.values()].sort((t,n)=>cc(t,n)),each:t=>this.serializeSubject(t),filter:t=>t.term.termType!=="BlankNode"||t.isListValue||t.refs.length!==1,join:()=>this.output.push(`
`)}),this.output}serializeBase(){this.baseIRI&&(this.state.serializedBase=!0,this.output.push(`@base <${this.termSerializer.baseIRI}>.
`))}serializeList(t){if(!t.items)return this.output.push("()");this.output.push("("),ol({items:t.items,each:n=>this.output.push(this.toNT(n.item.term)),join:()=>this.output.push(" ")}),this.output.push(")")}serializeObject(t,{isList:n,level:r,multiple:i}){if(n&&t.refs.length===1)return this.serializeList(t,{level:r});if(t.term.termType==="BlankNode"&&t.refs.length===1)return t.quads.length===0?this.output.push("[]"):(i&&this.output.push(" "),this.output.push("["),this.serializeTypes(t),this.output.push(`
`),this.serializePredicates([...t.predicates.values()],{level:r+2}),this.output.push(`
${this.spaces(r+1)}]`));i&&this.output.push(`
${this.spaces(r+1)}`),this.output.push(`${this.toNT(t.term)}`)}serializeObjects(t,{level:n}){if(t.objects.size===1){this.output.push(" ");const r=[...t.objects.values()][0],i=t.lists.has(r.term);this.serializeObject(r,{isList:i,level:n})}else ol({items:[...t.objects.values()].sort((r,i)=>cc(r,i)),each:r=>{const i=t.lists.has(r.term);this.serializeObject(r,{isList:i,level:n,multiple:!0})},join:()=>this.output.push(",")})}serializePredicate(t,{level:n}){this.output.push(this.spaces(n,1)+this.toNT(t.term)),this.serializeObjects(t,{level:n})}serializePredicates(t,{level:n}){ol({items:t.filter(r=>!r.isType).sort((r,i)=>cc(r,i)),each:r=>this.serializePredicate(r,{level:n}),join:()=>this.output.push(`;
`)})}serializePrefixes(){const t=gB(this.tree,this.prefixes);if(t.size!==0){this.state.serializedPrefixes=!0;for(const n of[...t].sort())this.output.push(`@prefix ${n}: <${this.prefixes.get(n).value}>.
`)}}serializeSubject(t,{level:n=0}={}){const r=t.term.termType==="BlankNode"&&t.refs.length<=1&&!t.isListValue;r?this.output.push("["):this.output.push(this.toNT(t.term)),this.serializeTypes(t),this.output.push(`
`),this.serializePredicates([...t.predicates.values()],{level:n+1}),r&&this.output.push(`
]`),this.output.push(`.
`)}serializeTypes(t){t.type&&(this.output.push(" a "),ol({items:[...t.type.objects.values()].sort((n,r)=>cc(n,r)),each:n=>this.output.push(this.toNT(n.term)),join:()=>this.output.push(", ")}),this.output.push(";"))}spaces(t){return" ".repeat(t*2)}toNT(t){return this.termSerializer.serialize(t)}static serialize(t,{baseIRI:n,output:r,prefixes:i}={}){return new Bf(t,{baseIRI:n,output:r,prefixes:i}).serialize()}}let vB=class extends kt.Readable{constructor(t,{baseIRI:n,prefixes:r=new Map}={}){super({objectMode:!0,read:()=>{}}),this._init(t,{baseIRI:n,prefixes:r})}async _init(t,{baseIRI:n,prefixes:r}){try{t.on("prefix",(a,s)=>r.set(a,s));const i=await hv(t);Bf.serialize(i,{baseIRI:n,output:this,prefixes:r}),this.push(null)}catch(i){this.destroy(i)}}},N1=class extends Io{constructor(t={}){t.baseIRI=t.baseIRI||t.base,super(vB,t)}transform(t){return Bf.serialize(t,this.options).join("")}};class ma extends Map{import(t,n,r){const i=this.get(t);return i?i.import(n,r):null}}class yB{constructor(t){this.stream=t,this.array=[]}push(t){this.array.push(t)}end(){this.stream.push(this.array),this.stream.push(null)}}class bB{constructor(t){this.stream=t,this.first=!0,this.stream.push("[")}push(t){this.first?this.first=!1:this.stream.push(","),this.stream.push(JSON.stringify(t))}end(){this.stream.push("]"),this.stream.push(null)}}let _B=class Fc extends kt.Readable{constructor(t,{encoding:n="object"}={}){if(super({objectMode:!0,read:()=>{}}),n==="object"&&(this.encoder=new yB(this)),n==="string"&&(this.encoder=new bB(this)),!this.encoder)throw new Error(`unknown encoding: ${n}`);t.on("data",r=>{const i={};let a=i;r.graph.termType!=="DefaultGraph"&&(i["@id"]=r.graph.value,i["@graph"]={},a=i["@graph"]),a["@id"]=Fc.subjectValue(r.subject),r.predicate.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"?a["@type"]=Fc.subjectValue(r.object):a[r.predicate.value]=Fc.objectValue(r.object),this.encoder.push(i)}),t.on("end",()=>this.encoder.end()),t.on("error",r=>this.emit("error",r))}static subjectValue(t){return t.termType==="BlankNode"?"_:"+t.value:t.value}static objectValue(t){return t.termType==="NamedNode"?{"@id":t.value}:t.termType==="BlankNode"?{"@id":"_:"+t.value}:t.language?{"@language":t.language,"@value":t.value}:t.datatype&&t.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?{"@type":t.datatype.value,"@value":t.value}:t.value}},R1=class extends Io{constructor(t){super(_B,t)}};class wB extends R1{constructor({...t}={}){super({...t,encoding:"string"})}}var D1={},Tv=class k1{constructor(t,n=new Map,r=0){this.prefix=t,this._existing=n,this.counter=r}clone(){const{prefix:t,_existing:n,counter:r}=this;return new k1(t,new Map(n),r)}getId(t){const n=t&&this._existing.get(t);if(n)return n;const r=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,r),r}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const ip=self.crypto||self.msCrypto;var Uf=class{constructor(t){if(!(ip&&ip.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),n=new Uint8Array(await ip.subtle.digest(this.algorithm,t));let r="";for(let i=0;i<n.length;++i)r+=n[i].toString(16).padStart(2,"0");return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var O1=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<t.length;++n)this.dir.set(t[n],!0)}hasNext(){return!this.done}next(){const{current:t,dir:n}=this,r=t.slice();let i=null,a=0;const s=t.length;for(let o=0;o<s;++o){const l=t[o],u=n.get(l);(i===null||l>i)&&(u&&o>0&&l>t[o-1]||!u&&o<s-1&&l>t[o+1])&&(i=l,a=o)}if(i===null)this.done=!0;else{const o=n.get(i)?a-1:a+1;t[a]=t[o],t[o]=i;for(const l of t)l>i&&n.set(l,!n.get(l))}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const xB="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ap=xB+"langString",sp="http://www.w3.org/2001/XMLSchema#string",Ir="NamedNode",Fa="BlankNode",jc="Literal",Rw="DefaultGraph",io={};(()=>{const e="(?:<([^:]+:[^>]*)>)",n="A-Za-z-----------"+"_",r=n+"0-9---",a="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",s='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',o="(?:\\^\\^"+e+")",u="(?:"+s+"(?:"+o+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",c="[ \\t]+",d="[ \\t]*",f="(?:"+e+"|"+a+")"+c,h=e+c,p="(?:"+e+"|"+a+"|"+u+")"+d,g="(?:\\.|(?:(?:"+e+"|"+a+")"+d+"\\.))";io.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,io.empty=new RegExp("^"+d+"$"),io.quad=new RegExp("^"+d+f+h+p+g+d+"$")})();var Av=class $c{static parse(t){const n=[],r={},i=t.split(io.eoln);let a=0;for(const s of i){if(a++,io.empty.test(s))continue;const o=s.match(io.quad);if(o===null)throw new Error("N-Quads parse error on line "+a+".");const l={subject:null,predicate:null,object:null,graph:null};if(o[1]!==void 0?l.subject={termType:Ir,value:o[1]}:l.subject={termType:Fa,value:o[2]},l.predicate={termType:Ir,value:o[3]},o[4]!==void 0?l.object={termType:Ir,value:o[4]}:o[5]!==void 0?l.object={termType:Fa,value:o[5]}:(l.object={termType:jc,value:void 0,datatype:{termType:Ir}},o[7]!==void 0?l.object.datatype.value=o[7]:o[8]!==void 0?(l.object.datatype.value=ap,l.object.language=o[8]):l.object.datatype.value=sp,l.object.value=TB(o[6])),o[9]!==void 0?l.graph={termType:Ir,value:o[9]}:o[10]!==void 0?l.graph={termType:Fa,value:o[10]}:l.graph={termType:Rw,value:""},!(l.graph.value in r))r[l.graph.value]=[l],n.push(l);else{let u=!0;const c=r[l.graph.value];for(const d of c)if(SB(d,l)){u=!1;break}u&&(c.push(l),n.push(l))}}return n}static serialize(t){Array.isArray(t)||(t=$c.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push($c.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(t,n,r,i){let a="";return t.termType===Ir?a+=`<${t.value}>`:a+=`${t.value}`,a+=` <${n.value}> `,r.termType===Ir?a+=`<${r.value}>`:r.termType===Fa?a+=r.value:(a+=`"${IB(r.value)}"`,r.datatype.value===ap?r.language&&(a+=`@${r.language}`):r.datatype.value!==sp&&(a+=`^^<${r.datatype.value}>`)),i.termType===Ir?a+=` <${i.value}>`:i.termType===Fa&&(a+=` ${i.value}`),a+=` .
`,a}static serializeQuad(t){return $c.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const n=[],r={"blank node":Fa,IRI:Ir,literal:jc};for(const i in t)t[i].forEach(s=>{const o={};for(const l in s){const u=s[l],c={termType:r[u.type],value:u.value};c.termType===jc&&(c.datatype={termType:Ir},"datatype"in u&&(c.datatype.value=u.datatype),"language"in u?("datatype"in u||(c.datatype.value=ap),c.language=u.language):"datatype"in u||(c.datatype.value=sp)),o[l]=c}i==="@default"?o.graph={termType:Rw,value:""}:o.graph={termType:i.startsWith("_:")?Fa:Ir,value:i},n.push(o)});return n}};function SB(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==jc?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const EB=/["\\\n\r]/g;function IB(e){return e.replace(EB,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const CB=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function TB(e){return e.replace(CB,function(t,n,r,i){if(n)switch(n){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(i)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Dw=Tv,AB=Uf,NB=O1,kw=Av;var P1=class{constructor({createMessageDigest:t=()=>new AB("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Dw("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];let i=0;for(const l of r)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:n});const a=[...n.keys()].sort(),s=[];for(const l of a){const u=n.get(l);if(u.length>1){s.push(u);continue}const c=u[0];this.canonicalIssuer.getId(c)}for(const l of s){const u=[];for(const c of l){if(this.canonicalIssuer.hasId(c))continue;const d=new Dw("_:b");d.getId(c);const f=await this.hashNDegreeQuads(c,d);u.push(f)}u.sort(RB);for(const c of u){const d=c.issuer.getOldIds();for(const f of d)this.canonicalIssuer.getId(f)}}const o=[];for(const l of this.quads){const u=kw.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));o.push(u)}return o.sort(),o.join("")}async hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),i=r.quads;for(const s of i){const o={subject:null,predicate:s.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),o.object=this.modifyFirstDegreeComponent(t,s.object,"object"),o.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),n.push(kw.serializeQuad(o))}n.sort();const a=this.createMessageDigest();for(const s of n)a.update(s);return r.hash=await a.digest(),r.hash}async hashRelatedBlankNode(t,n,r,i){let a;this.canonicalIssuer.hasId(t)?a=this.canonicalIssuer.getId(t):r.hasId(t)?a=r.getId(t):a=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(n)),s.update(a),s.digest()}async hashNDegreeQuads(t,n){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const i=this.createMessageDigest(),a=await this.createHashToRelated(t,n),s=[...a.keys()].sort();for(const o of s){i.update(o);let l="",u;const c=new NB(a.get(o));let d=0;for(;c.hasNext();){const f=c.next();++d%3===0&&await this._yield();let h=n.clone(),p="";const g=[];let m=!1;for(const v of f)if(this.canonicalIssuer.hasId(v)?p+=this.canonicalIssuer.getId(v):(h.hasId(v)||g.push(v),p+=h.getId(v)),l.length!==0&&p>l){m=!0;break}if(!m){for(const v of g){const _=await this.hashNDegreeQuads(v,h);if(p+=h.getId(v),p+=`<${_.hash}>`,h=_.issuer,l.length!==0&&p>l){m=!0;break}}m||(l.length===0||p<l)&&(l=p,u=h)}}i.update(l),n=u}return{hash:await i.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,n){const r=new Map,i=this.blankNodeInfo.get(t).quads;let a=0;for(const s of i)++a%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:t,issuer:n,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=await this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:n,position:r,id:i,issuer:a,hashToRelated:s}){if(!(n.termType==="BlankNode"&&n.value!==i))return;const o=n.value,l=await this.hashRelatedBlankNode(o,t,a,r),u=s.get(l);u?u.push(o):s.set(l,[o])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function RB(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const DB=Uf,kB=P1;var OB=class extends kB{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new DB("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,n){const r=new Map,i=this.blankNodeInfo.get(t).quads;let a=0;for(const s of i){let o,l;if(s.subject.termType==="BlankNode"&&s.subject.value!==t)l=s.subject.value,o="p";else if(s.object.termType==="BlankNode"&&s.object.value!==t)l=s.object.value,o="r";else continue;++a%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(l,s,n,o),c=r.get(u);c?c.push(l):r.set(u,[l])}return r}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Ow=Tv,PB=Uf,LB=O1,Pw=Av;var L1=class{constructor({createMessageDigest:t=()=>new PB("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Ow("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const o of t)this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];for(const o of r)this._hashAndTrackBlankNode({id:o,hashToBlankNodes:n});const i=[...n.keys()].sort(),a=[];for(const o of i){const l=n.get(o);if(l.length>1){a.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const o of a){const l=[];for(const u of o){if(this.canonicalIssuer.hasId(u))continue;const c=new Ow("_:b");c.getId(u);const d=this.hashNDegreeQuads(u,c);l.push(d)}l.sort(FB);for(const u of l){const c=u.issuer.getOldIds();for(const d of c)this.canonicalIssuer.getId(d)}}const s=[];for(const o of this.quads){const l=Pw.serializeQuadComponents(this._componentWithCanonicalId({component:o.subject}),o.predicate,this._componentWithCanonicalId({component:o.object}),this._componentWithCanonicalId({component:o.graph}));s.push(l)}return s.sort(),s.join("")}hashFirstDegreeQuads(t){const n=[],r=this.blankNodeInfo.get(t),i=r.quads;for(const s of i){const o={subject:null,predicate:s.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),o.object=this.modifyFirstDegreeComponent(t,s.object,"object"),o.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),n.push(Pw.serializeQuad(o))}n.sort();const a=this.createMessageDigest();for(const s of n)a.update(s);return r.hash=a.digest(),r.hash}hashRelatedBlankNode(t,n,r,i){let a;this.canonicalIssuer.hasId(t)?a=this.canonicalIssuer.getId(t):r.hasId(t)?a=r.getId(t):a=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(n)),s.update(a),s.digest()}hashNDegreeQuads(t,n){const r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);const i=this.createMessageDigest(),a=this.createHashToRelated(t,n),s=[...a.keys()].sort();for(const o of s){i.update(o);let l="",u;const c=new LB(a.get(o));for(;c.hasNext();){const d=c.next();let f=n.clone(),h="";const p=[];let g=!1;for(const m of d)if(this.canonicalIssuer.hasId(m)?h+=this.canonicalIssuer.getId(m):(f.hasId(m)||p.push(m),h+=f.getId(m)),l.length!==0&&h>l){g=!0;break}if(!g){for(const m of p){const v=this.hashNDegreeQuads(m,f);if(h+=f.getId(m),h+=`<${v.hash}>`,f=v.issuer,l.length!==0&&h>l){g=!0;break}}g||(l.length===0||h<l)&&(l=h,u=f)}}i.update(l),n=u}return{hash:i.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){const r=new Map,i=this.blankNodeInfo.get(t).quads;for(const a of i)this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:t,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){const r=this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;const r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:n,position:r,id:i,issuer:a,hashToRelated:s}){if(!(n.termType==="BlankNode"&&n.value!==i))return;const o=n.value,l=this.hashRelatedBlankNode(o,t,a,r),u=s.get(l);u?u.push(o):s.set(l,[o])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function FB(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const jB=Uf,$B=L1;var VB=class extends $B{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new jB("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,n){const r=new Map,i=this.blankNodeInfo.get(t).quads;for(const a of i){let s,o;if(a.subject.termType==="BlankNode"&&a.subject.value!==t)o=a.subject.value,s="p";else if(a.object.termType==="BlankNode"&&a.object.value!==t)o=a.object.value,s="r";else continue;const l=this.hashRelatedBlankNode(o,a,n,s),u=r.get(l);u?u.push(o):r.set(l,[o])}return r}};const MB={},BB=Object.freeze(Object.defineProperty({__proto__:null,default:MB},Symbol.toStringTag,{value:"Module"})),UB=Gk(BB);(function(e){const t=P1,n=OB,r=L1,i=VB;let a;try{a=UB}catch{}function s(o){return Array.isArray(o)?o:e.NQuads.legacyDatasetToQuads(o)}e.NQuads=Av,e.IdentifierIssuer=Tv,e._rdfCanonizeNative=function(o){return o&&(a=o),a},e.canonize=async function(o,l){const u=s(o);if(l.useNative){if(!a)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((c,d)=>a.canonize(u,l,(f,h)=>f?d(f):c(h)))}if(l.algorithm==="URDNA2015")return new t(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new n(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(o,l){const u=s(o);if(l.useNative){if(!a)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return a.canonizeSync(u,l)}if(l.algorithm==="URDNA2015")return new r(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(D1);var Nv=D1;const vr={};var rr=vr;vr.isArray=Array.isArray;vr.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";vr.isDouble=e=>vr.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);vr.isEmptyObject=e=>vr.isObject(e)&&Object.keys(e).length===0;vr.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";vr.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);vr.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";vr.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";vr.isUndefined=e=>typeof e>"u";const cs=rr,Vi={};var zi=Vi;Vi.isSubject=e=>cs.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;Vi.isSubjectReference=e=>cs.isObject(e)&&Object.keys(e).length===1&&"@id"in e;Vi.isValue=e=>cs.isObject(e)&&"@value"in e;Vi.isList=e=>cs.isObject(e)&&"@list"in e;Vi.isGraph=e=>cs.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;Vi.isSimpleGraph=e=>Vi.isGraph(e)&&!("@id"in e);Vi.isBlankNode=e=>{if(cs.isObject(e)){if("@id"in e){const t=e["@id"];return!cs.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var wr=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",n="jsonld.Error",r={}){super(t),this.name=n,this.message=t,this.details=r}};const tu=zi,gn=rr,F1=Nv.IdentifierIssuer,HB=wr,GB=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,WB=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,zB=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,KB=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,qB=/^@[a-zA-Z]+$/,Lw={headers:{accept:"application/ld+json, application/json"}},pt={};var xr=pt;pt.IdentifierIssuer=F1;pt.REGEX_BCP47=GB;pt.REGEX_KEYWORD=qB;pt.clone=function(e){if(e&&typeof e=="object"){let t;if(gn.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=pt.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,pt.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(pt.clone(n))}else if(gn.isObject(e)){t={};for(const n in e)t[n]=pt.clone(e[n])}else t=e.toString();return t}return e};pt.asArray=function(e){return Array.isArray(e)?e:[e]};pt.buildHeaders=(e={})=>{if(Object.keys(e).some(n=>n.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+Lw.headers.accept+'" is supported.');return Object.assign({Accept:Lw.headers.accept},e)};pt.parseLinkHeader=e=>{const t={},n=e.match(WB);for(let r=0;r<n.length;++r){let i=n[r].match(zB);if(!i)continue;const a={target:i[1]},s=i[2];for(;i=KB.exec(s);)a[i[1]]=i[2]===void 0?i[3]:i[2];const o=a.rel||"";Array.isArray(t[o])?t[o].push(a):t.hasOwnProperty(o)?t[o]=[t[o],a]:t[o]=a}return t};pt.validateTypeValue=(e,t)=>{if(!gn.isString(e)&&!(gn.isArray(e)&&e.every(n=>gn.isString(n)))){if(t&&gn.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&pt.asArray(e["@default"]).every(n=>gn.isString(n)))return}throw new HB('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};pt.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!gn.isArray(n)||n.length>0}return!1};pt.hasValue=(e,t,n)=>{if(pt.hasProperty(e,t)){let r=e[t];const i=tu.isList(r);if(gn.isArray(r)||i){i&&(r=r["@list"]);for(let a=0;a<r.length;++a)if(pt.compareValues(n,r[a]))return!0}else if(!gn.isArray(n))return pt.compareValues(n,r)}return!1};pt.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(gn.isArray(n)){n.length===0&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)pt.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){const i=!r.allowDuplicate&&pt.hasValue(e,t,n);!gn.isArray(e[t])&&(!i||r.propertyIsArray)&&(e[t]=[e[t]]),i||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n};pt.getValues=(e,t)=>[].concat(e[t]||[]);pt.removeProperty=(e,t)=>{delete e[t]};pt.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);const i=pt.getValues(e,t).filter(a=>!pt.compareValues(a,n));i.length===0?pt.removeProperty(e,t):i.length===1&&!r.propertyIsArray?e[t]=i[0]:e[t]=i};pt.relabelBlankNodes=(e,t)=>{t=t||{};const n=t.issuer||new F1("_:b");return Vc(n,e)};pt.compareValues=(e,t)=>e===t||tu.isValue(e)&&tu.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:gn.isObject(e)&&"@id"in e&&gn.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;pt.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function Vc(e,t){if(gn.isArray(t))for(let n=0;n<t.length;++n)t[n]=Vc(e,t[n]);else if(tu.isList(t))t["@list"]=Vc(e,t["@list"]);else if(gn.isObject(t)){tu.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const i=n[r];i!=="@id"&&(t[i]=Vc(e,t[i]))}}return t}const Cr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ll="http://www.w3.org/2001/XMLSchema#";var Rv={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:Cr,RDF_LIST:Cr+"List",RDF_FIRST:Cr+"first",RDF_REST:Cr+"rest",RDF_NIL:Cr+"nil",RDF_TYPE:Cr+"type",RDF_PLAIN_LITERAL:Cr+"PlainLiteral",RDF_XML_LITERAL:Cr+"XMLLiteral",RDF_JSON_LITERAL:Cr+"JSON",RDF_OBJECT:Cr+"object",RDF_LANGSTRING:Cr+"langString",XSD:ll,XSD_BOOLEAN:ll+"boolean",XSD_DOUBLE:ll+"double",XSD_INTEGER:ll+"integer",XSD_STRING:ll+"string"},op,Fw;function j1(){return Fw||(Fw=1,op=class{constructor(){this._requests={}}wrapLoader(t){const n=this;return n._loader=t,function(){return n.add.apply(n,arguments)}}async add(t){let n=this._requests[t];if(n)return Promise.resolve(n);n=this._requests[t]=this._loader(t);try{return await n}finally{delete this._requests[t]}}}),op}const Hf=rr,mn={};var Ia=mn;mn.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};mn.parse=(e,t)=>{const n={},r=mn.parsers[t||"full"],i=r.regex.exec(e);let a=r.keys.length;for(;a--;)n[r.keys[a]]=i[a]===void 0?null:i[a];return(n.scheme==="https"&&n.port==="443"||n.scheme==="http"&&n.port==="80")&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=mn.removeDotSegments(n.path),n};mn.prependBase=(e,t)=>{if(e===null||mn.isAbsolute(t))return t;(!e||Hf.isString(e))&&(e=mn.parse(e||""));const n=mn.parse(t),r={protocol:e.protocol||""};if(n.authority!==null)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=e.authority,n.path==="")r.path=e.path,n.query!==null?r.query=n.query:r.query=e.query;else{if(n.path.indexOf("/")===0)r.path=n.path;else{let a=e.path;a=a.substr(0,a.lastIndexOf("/")+1),(a.length>0||e.authority)&&a.substr(-1)!=="/"&&(a+="/"),a+=n.path,r.path=a}r.query=n.query}n.path!==""&&(r.path=mn.removeDotSegments(r.path));let i=r.protocol;return r.authority!==null&&(i+="//"+r.authority),i+=r.path,r.query!==null&&(i+="?"+r.query),n.fragment!==null&&(i+="#"+n.fragment),i===""&&(i="./"),i};mn.removeBase=(e,t)=>{if(e===null)return t;(!e||Hf.isString(e))&&(e=mn.parse(e||""));let n="";if(e.href!==""?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),t.indexOf(n)!==0)return t;const r=mn.parse(t.substr(n.length)),i=e.normalizedPath.split("/"),a=r.normalizedPath.split("/"),s=r.fragment||r.query?0:1;for(;i.length>0&&a.length>s&&i[0]===a[0];)i.shift(),a.shift();let o="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)o+="../"}return o+=a.join("/"),r.query!==null&&(o+="?"+r.query),r.fragment!==null&&(o+="#"+r.fragment),o===""&&(o="./"),o};mn.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),n=[];for(;t.length>0;){const r=t.shift(),i=t.length===0;if(r==="."){i&&n.push("");continue}if(r===".."){n.pop(),i&&n.push("");continue}n.push(r)}return e[0]==="/"&&n.length>0&&n[0]!==""&&n.unshift(""),n.length===1&&n[0]===""?"/":n.join("/")};const JB=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;mn.isAbsolute=e=>Hf.isString(e)&&JB.test(e);mn.isRelative=e=>Hf.isString(e);const{parseLinkHeader:YB,buildHeaders:QB}=xr,{LINK_HEADER_CONTEXT:XB}=Rv,ul=wr,ZB=j1(),{prependBase:e2}=Ia,t2=/(^|(\r\n))link:/i;var n2=({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=QB(t),new ZB().wrapLoader(i);async function i(a){if(a.indexOf("http:")!==0&&a.indexOf("https:")!==0)throw new ul('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&a.indexOf("https")!==0)throw new ul(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:a});let s;try{s=await r2(n,a,t)}catch(d){throw new ul("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:d})}if(s.status>=400)throw new ul("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:s.status});let o={contextUrl:null,documentUrl:a,document:s.response},l=null;const u=s.getResponseHeader("Content-Type");let c;if(t2.test(s.getAllResponseHeaders())&&(c=s.getResponseHeader("Link")),c&&u!=="application/ld+json"){const d=YB(c),f=d[XB];if(Array.isArray(f))throw new ul("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});f&&(o.contextUrl=f.target),l=d.alternate,l&&l.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(o=await i(e2(a,l.target)))}return o}};function r2(e,t,n){e=e||XMLHttpRequest;const r=new e;return new Promise((i,a)=>{r.onload=()=>i(r),r.onerror=s=>a(s),r.open("GET",t,!0);for(const s in n)r.setRequestHeader(s,n[s]);r.send()})}const i2=n2,Dv={};var a2=Dv;Dv.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=i2,e.useDocumentLoader("xhr"))};Dv.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var lp,jw;function s2(){return jw||(jw=1,lp=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),lp}var o2=ht;ht.Node=ds;ht.create=ht;function ht(e){var t=this;if(t instanceof ht||(t=new ht),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}ht.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ht.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ht.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ht.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)u2(this,arguments[e]);return this.length};ht.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)c2(this,arguments[e]);return this.length};ht.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ht.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ht.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};ht.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};ht.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};ht.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};ht.prototype.map=function(e,t){t=t||this;for(var n=new ht,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};ht.prototype.mapReverse=function(e,t){t=t||this;for(var n=new ht,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};ht.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};ht.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};ht.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};ht.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};ht.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new ht;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};ht.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new ht;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};ht.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=l2(this,i,n[r]);return a};ht.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function l2(e,t,n){var r=t===e.head?new ds(n,null,t,e):new ds(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function u2(e,t){e.tail=new ds(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function c2(e,t){e.head=new ds(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ds(e,t,n,r){if(!(this instanceof ds))return new ds(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{s2()(ht)}catch{}const d2=o2,Ka=Symbol("max"),Di=Symbol("length"),Os=Symbol("lengthCalculator"),Vl=Symbol("allowStale"),Xa=Symbol("maxAge"),Ti=Symbol("dispose"),$w=Symbol("noDisposeOnSet"),tn=Symbol("lruList"),Nr=Symbol("cache"),$1=Symbol("updateAgeOnGet"),up=()=>1;class f2{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Ka]=t.max||1/0;const n=t.length||up;if(this[Os]=typeof n!="function"?up:n,this[Vl]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Xa]=t.maxAge||0,this[Ti]=t.dispose,this[$w]=t.noDisposeOnSet||!1,this[$1]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Ka]=t||1/0,cl(this)}get max(){return this[Ka]}set allowStale(t){this[Vl]=!!t}get allowStale(){return this[Vl]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Xa]=t,cl(this)}get maxAge(){return this[Xa]}set lengthCalculator(t){typeof t!="function"&&(t=up),t!==this[Os]&&(this[Os]=t,this[Di]=0,this[tn].forEach(n=>{n.length=this[Os](n.value,n.key),this[Di]+=n.length})),cl(this)}get lengthCalculator(){return this[Os]}get length(){return this[Di]}get itemCount(){return this[tn].length}rforEach(t,n){n=n||this;for(let r=this[tn].tail;r!==null;){const i=r.prev;Vw(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[tn].head;r!==null;){const i=r.next;Vw(this,t,r,n),r=i}}keys(){return this[tn].toArray().map(t=>t.key)}values(){return this[tn].toArray().map(t=>t.value)}reset(){this[Ti]&&this[tn]&&this[tn].length&&this[tn].forEach(t=>this[Ti](t.key,t.value)),this[Nr]=new Map,this[tn]=new d2,this[Di]=0}dump(){return this[tn].map(t=>Ed(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[tn]}set(t,n,r){if(r=r||this[Xa],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,a=this[Os](n,t);if(this[Nr].has(t)){if(a>this[Ka])return ao(this,this[Nr].get(t)),!1;const l=this[Nr].get(t).value;return this[Ti]&&(this[$w]||this[Ti](t,l.value)),l.now=i,l.maxAge=r,l.value=n,this[Di]+=a-l.length,l.length=a,this.get(t),cl(this),!0}const s=new h2(t,n,a,i,r);return s.length>this[Ka]?(this[Ti]&&this[Ti](t,n),!1):(this[Di]+=s.length,this[tn].unshift(s),this[Nr].set(t,this[tn].head),cl(this),!0)}has(t){if(!this[Nr].has(t))return!1;const n=this[Nr].get(t).value;return!Ed(this,n)}get(t){return cp(this,t,!0)}peek(t){return cp(this,t,!1)}pop(){const t=this[tn].tail;return t?(ao(this,t),t.value):null}del(t){ao(this,this[Nr].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],a=i.e||0;if(a===0)this.set(i.k,i.v);else{const s=a-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Nr].forEach((t,n)=>cp(this,n,!1))}}const cp=(e,t,n)=>{const r=e[Nr].get(t);if(r){const i=r.value;if(Ed(e,i)){if(ao(e,r),!e[Vl])return}else n&&(e[$1]&&(r.value.now=Date.now()),e[tn].unshiftNode(r));return i.value}},Ed=(e,t)=>{if(!t||!t.maxAge&&!e[Xa])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Xa]&&n>e[Xa]},cl=e=>{if(e[Di]>e[Ka])for(let t=e[tn].tail;e[Di]>e[Ka]&&t!==null;){const n=t.prev;ao(e,t),t=n}},ao=(e,t)=>{if(t){const n=t.value;e[Ti]&&e[Ti](n.key,n.value),e[Di]-=n.length,e[Nr].delete(n.key),e[tn].removeNode(t)}};class h2{constructor(t,n,r,i,a){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0}}const Vw=(e,t,n,r)=>{let i=n.value;Ed(e,i)&&(ao(e,n),e[Vl]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var V1=f2;const p2=V1,g2=10;var m2=class{constructor({document:t}){this.document=t,this.cache=new p2({max:g2})}getProcessed(t){return this.cache.get(t)}setProcessed(t,n){this.cache.set(t,n)}};const{isArray:Fg,isObject:Ml,isString:Id}=rr,{asArray:v2}=xr,{prependBase:jg}=Ia,_l=wr,Mw=m2,Bw=10;var y2=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:n,documentLoader:r,base:i,cycles:a=new Set}){n&&Ml(n)&&n["@context"]&&(n=n["@context"]),n=v2(n);const s=[];for(const o of n){if(Id(o)){let c=this._get(o);c||(c=await this._resolveRemoteContext({activeCtx:t,url:o,documentLoader:r,base:i,cycles:a})),Fg(c)?s.push(...c):s.push(c);continue}if(o===null){s.push(new Mw({document:null}));continue}Ml(o)||b2(n);const l=JSON.stringify(o);let u=this._get(l);u||(u=new Mw({document:o}),this._cacheResolvedContext({key:l,resolved:u,tag:"static"})),s.push(u)}return s}_get(t){let n=this.perOpCache.get(t);if(!n){const r=this.sharedCache.get(t);r&&(n=r.get("static"),n&&this.perOpCache.set(t,n))}return n}_cacheResolvedContext({key:t,resolved:n,tag:r}){if(this.perOpCache.set(t,n),r!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(r,n)}return n}async _resolveRemoteContext({activeCtx:t,url:n,documentLoader:r,base:i,cycles:a}){n=jg(i,n);const{context:s,remoteDoc:o}=await this._fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:a});i=o.documentUrl||n,$g({context:s,base:i});const l=await this.resolve({activeCtx:t,context:s,documentLoader:r,base:i,cycles:a});return this._cacheResolvedContext({key:n,resolved:l,tag:o.tag}),l}async _fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:i}){if(i.size>Bw)throw new _l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:Bw});if(i.has(n))throw new _l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:n});i.add(n);let a,s;try{s=await r(n),a=s.document||null,Id(a)&&(a=JSON.parse(a))}catch(o){throw new _l(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${n}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:o})}if(!Ml(a))throw new _l(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${n}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:n});return"@context"in a?a={"@context":a["@context"]}:a={"@context":{}},s.contextUrl&&(Fg(a["@context"])||(a["@context"]=[a["@context"]]),a["@context"].push(s.contextUrl)),{context:a,remoteDoc:s}}};function b2(e){throw new _l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function $g({context:e,base:t}){if(!e)return;const n=e["@context"];if(Id(n)){e["@context"]=jg(t,n);return}if(Fg(n)){for(let r=0;r<n.length;++r){const i=n[r];if(Id(i)){n[r]=jg(t,i);continue}Ml(i)&&$g({context:{"@context":i},base:t})}return}if(Ml(n))for(const r in n)$g({context:n[r],base:t})}var _2=Nv.NQuads;const kv=wr,{isArray:w2}=rr,{asArray:M1}=xr,Qn={};var Iu=Qn;Qn.defaultEventHandler=null;Qn.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Qn.safeEventHandler:[],e.eventHandler?M1(e.eventHandler):[],Qn.defaultEventHandler?Qn.defaultEventHandler:[]);return t.length===0?null:t};Qn.handleEvent=({event:e,options:t})=>{B1({event:e,handlers:t.eventHandler})};function B1({event:e,handlers:t}){let n=!0;for(let r=0;n&&r<t.length;++r){n=!1;const i=t[r];if(w2(i))n=B1({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{n=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{n=!0}}):n=!0;else throw new kv("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return n}const x2=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Qn.safeEventHandler=function({event:t,next:n}){if(t.level==="warning"&&x2.has(t.code))throw new kv("Safe mode validation error.","jsonld.ValidationError",{event:t});n()};Qn.logEventHandler=function({event:t,next:n}){console.log(`EVENT: ${t.message}`,{event:t}),n()};Qn.logWarningEventHandler=function({event:t,next:n}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),n()};Qn.unhandledEventHandler=function({event:t}){throw new kv("No handler for event.","jsonld.UnhandledEvent",{event:t})};Qn.setDefaultEventHandler=function({eventHandler:e}={}){Qn.defaultEventHandler=e?M1(e):null};const Uw=xr,Ue=wr,{isArray:U1,isObject:oa,isString:Ln,isUndefined:S2}=rr,{isAbsolute:rs,isRelative:E2,prependBase:Bl}=Ia,{handleEvent:so}=Iu,{REGEX_BCP47:I2,REGEX_KEYWORD:Mc,asArray:H1,compareShortestLeast:C2}=xr,dc=new Map,T2=1e4,Nt={};var Ss=Nt;Nt.process=async({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:i=!1,cycles:a=new Set})=>{if(oa(t)&&"@context"in t&&U1(t["@context"])&&(t=t["@context"]),H1(t).length===0)return e;const o=[],l=[({event:f,next:h})=>{o.push(f),h()}];n.eventHandler&&l.push(n.eventHandler);const u=n;n={...n,eventHandler:l};const c=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});oa(c[0].document)&&typeof c[0].document["@propagate"]=="boolean"&&(r=c[0].document["@propagate"]);let d=e;!r&&!d.previousContext&&(d=d.clone(),d.previousContext=e);for(const f of c){let{document:h}=f;if(e=d,h===null){if(!i&&Object.keys(e.protected).length!==0)throw new Ue("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});d=e=Nt.getInitialContext(n).clone();continue}const p=f.getProcessed(e);if(p){if(u.eventHandler)for(const m of p.events)so({event:m,options:u});d=e=p.context;continue}if(oa(h)&&"@context"in h&&(h=h["@context"]),!oa(h))throw new Ue("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:h});d=d.clone();const g=new Map;if("@version"in h){if(h["@version"]!==1.1)throw new Ue("Unsupported JSON-LD version: "+h["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:h});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new Ue("@version: "+h["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:h});d.processingMode="json-ld-1.1",d["@version"]=h["@version"],g.set("@version",!0)}if(d.processingMode=d.processingMode||e.processingMode,"@base"in h){let m=h["@base"];if(!(m===null||rs(m)))if(E2(m))m=Bl(d["@base"],m);else throw new Ue('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:h});d["@base"]=m,g.set("@base",!0)}if("@vocab"in h){const m=h["@vocab"];if(m===null)delete d["@vocab"];else if(Ln(m)){if(!rs(m)&&Nt.processingMode(d,1))throw new Ue('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:h});{const v=zs(d,m,{vocab:!0,base:!0},void 0,void 0,n);rs(v)||n.eventHandler&&so({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:v}},options:n}),d["@vocab"]=v}}else throw new Ue('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:h});g.set("@vocab",!0)}if("@language"in h){const m=h["@language"];if(m===null)delete d["@language"];else if(Ln(m))m.match(I2)||n.eventHandler&&so({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:m}},options:n}),d["@language"]=m.toLowerCase();else throw new Ue('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:h});g.set("@language",!0)}if("@direction"in h){const m=h["@direction"];if(e.processingMode==="json-ld-1.0")throw new Ue("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:h});if(m===null)delete d["@direction"];else{if(m!=="ltr"&&m!=="rtl")throw new Ue('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:h});d["@direction"]=m}g.set("@direction",!0)}if("@propagate"in h){const m=h["@propagate"];if(e.processingMode==="json-ld-1.0")throw new Ue("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:h});if(typeof m!="boolean")throw new Ue("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});g.set("@propagate",!0)}if("@import"in h){const m=h["@import"];if(e.processingMode==="json-ld-1.0")throw new Ue("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:h});if(!Ln(m))throw new Ue("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const v=await n.contextResolver.resolve({activeCtx:e,context:m,documentLoader:n.documentLoader,base:n.base});if(v.length!==1)throw new Ue("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const _=v[0].getProcessed(e);if(_)h=_;else{const x=v[0].document;if("@import"in x)throw new Ue("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const I in x)h.hasOwnProperty(I)||(h[I]=x[I]);v[0].setProcessed(e,h)}g.set("@import",!0)}g.set("@protected",h["@protected"]||!1);for(const m in h)if(Nt.createTermDefinition({activeCtx:d,localCtx:h,term:m,defined:g,options:n,overrideProtected:i}),oa(h[m])&&"@context"in h[m]){const v=h[m]["@context"];let _=!0;if(Ln(v)){const x=Bl(n.base,v);a.has(x)?_=!1:a.add(x)}if(_)try{await Nt.process({activeCtx:d.clone(),localCtx:h[m]["@context"],overrideProtected:!0,options:n,cycles:a})}catch{throw new Ue("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:h[m]["@context"],term:m})}}f.setProcessed(e,{context:d,events:o})}return d};Nt.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:i,overrideProtected:a=!1})=>{if(r.has(n)){if(r.get(n))return;throw new Ue("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}r.set(n,!1);let s;if(t.hasOwnProperty(n)&&(s=t[n]),n==="@type"&&oa(s)&&(s["@container"]||"@set")==="@set"&&Nt.processingMode(e,1.1)){const h=["@container","@id","@protected"],p=Object.keys(s);if(p.length===0||p.some(g=>!h.includes(g)))throw new Ue("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(Nt.isKeyword(n))throw new Ue("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(Mc)){i.eventHandler&&so({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:i});return}else if(n==="")throw new Ue("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const o=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let l=!1;if((Ln(s)||s===null)&&(l=!0,s={"@id":s}),!oa(s))throw new Ue("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(n,u),u.reverse=!1;const c=["@container","@id","@language","@reverse","@type"];Nt.processingMode(e,1.1)&&c.push("@context","@direction","@index","@nest","@prefix","@protected");for(const h in s)if(!c.includes(h))throw new Ue("Invalid JSON-LD syntax; a term definition must not contain "+h,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const d=n.indexOf(":");if(u._termHasColon=d>0,"@reverse"in s){if("@id"in s)throw new Ue("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in s)throw new Ue("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const h=s["@reverse"];if(!Ln(h))throw new Ue("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(h.match(Mc)){i.eventHandler&&so({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:h}},options:i}),o?e.mappings.set(n,o):e.mappings.delete(n);return}const p=zs(e,h,{vocab:!0,base:!1},t,r,i);if(!rs(p))throw new Ue("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=p,u.reverse=!0}else if("@id"in s){let h=s["@id"];if(h&&!Ln(h))throw new Ue("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(h===null)u["@id"]=null;else if(!Nt.isKeyword(h)&&h.match(Mc)){i.eventHandler&&so({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:h}},options:i}),o?e.mappings.set(n,o):e.mappings.delete(n);return}else if(h!==n){if(h=zs(e,h,{vocab:!0,base:!1},t,r,i),!rs(h)&&!Nt.isKeyword(h))throw new Ue("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){const p=new Map(r).set(n,!0);if(zs(e,n,{vocab:!0,base:!1},t,p,i)!==h)throw new Ue("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=h,u._prefix=l&&!u._termHasColon&&h.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const h=n.substr(0,d);if(t.hasOwnProperty(h)&&Nt.createTermDefinition({activeCtx:e,localCtx:t,term:h,defined:r,options:i}),e.mappings.has(h)){const p=n.substr(d+1);u["@id"]=e.mappings.get(h)["@id"]+p}else u["@id"]=n}else if(n==="@type")u["@id"]=n;else{if(!("@vocab"in e))throw new Ue("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});u["@id"]=e["@vocab"]+n}if((s["@protected"]===!0||r.get("@protected")===!0&&s["@protected"]!==!1)&&(e.protected[n]=!0,u.protected=!0),r.set(n,!0),"@type"in s){let h=s["@type"];if(!Ln(h))throw new Ue("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(h==="@json"||h==="@none"){if(Nt.processingMode(e,1))throw new Ue(`Invalid JSON-LD syntax; an @context @type value must not be "${h}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(h!=="@id"&&h!=="@vocab"){if(h=zs(e,h,{vocab:!0,base:!1},t,r,i),!rs(h))throw new Ue("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(h.indexOf("_:")===0)throw new Ue("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=h}if("@container"in s){const h=Ln(s["@container"])?[s["@container"]]:s["@container"]||[],p=["@list","@set","@index","@language"];let g=!0;const m=h.includes("@set");if(Nt.processingMode(e,1.1)){if(p.push("@graph","@id","@type"),h.includes("@list")){if(h.length!==1)throw new Ue("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(h.includes("@graph")){if(h.some(v=>v!=="@graph"&&v!=="@id"&&v!=="@index"&&v!=="@set"))throw new Ue("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else g&=h.length<=(m?2:1);if(h.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new Ue("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else g&=!U1(s["@container"]),g&=h.length<=1;if(g&=h.every(v=>p.includes(v)),g&=!(m&&h.includes("@list")),!g)throw new Ue("Invalid JSON-LD syntax; @context @container value must be one of the following: "+p.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!h.every(v=>["@index","@set"].includes(v)))throw new Ue("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=h}if("@index"in s){if(!("@container"in s)||!u["@container"].includes("@index"))throw new Ue(`Invalid JSON-LD syntax; @index without @index in @container: "${s["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!Ln(s["@index"])||s["@index"].indexOf("@")===0)throw new Ue(`Invalid JSON-LD syntax; @index must expand to an IRI: "${s["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=s["@index"]}if("@context"in s&&(u["@context"]=s["@context"]),"@language"in s&&!("@type"in s)){let h=s["@language"];if(h!==null&&!Ln(h))throw new Ue("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});h!==null&&(h=h.toLowerCase()),u["@language"]=h}if("@prefix"in s){if(n.match(/:|\//))throw new Ue("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(Nt.isKeyword(u["@id"]))throw new Ue("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof s["@prefix"]=="boolean")u._prefix=s["@prefix"]===!0;else throw new Ue("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in s){const h=s["@direction"];if(h!==null&&h!=="ltr"&&h!=="rtl")throw new Ue('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=h}if("@nest"in s){const h=s["@nest"];if(!Ln(h)||h!=="@nest"&&h.indexOf("@")===0)throw new Ue("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=h}// disallow aliasing @context and @preserve
const f=u["@id"];if(f==="@context"||f==="@preserve")throw new Ue("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(o&&o.protected&&!a&&(e.protected[n]=!0,u.protected=!0,!Vg(o,u)))throw new Ue("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})};Nt.expandIri=(e,t,n,r)=>zs(e,t,n,void 0,void 0,r);function zs(e,t,n,r,i,a){if(t===null||!Ln(t)||Nt.isKeyword(t))return t;if(t.match(Mc))return null;if(r&&r.hasOwnProperty(t)&&i.get(t)!==!0&&Nt.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:a}),n=n||{},n.vocab){const o=e.mappings.get(t);if(o===null)return null;if(oa(o)&&"@id"in o)return o["@id"]}const s=t.indexOf(":");if(s>0){const o=t.substr(0,s),l=t.substr(s+1);if(o==="_"||l.indexOf("//")===0)return t;r&&r.hasOwnProperty(o)&&Nt.createTermDefinition({activeCtx:e,localCtx:r,term:o,defined:i,options:a});const u=e.mappings.get(o);if(u&&u._prefix)return u["@id"]+l;if(rs(t))return t}if(n.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(n.base){let o,l;"@base"in e?e["@base"]?(l=Bl(a.base,e["@base"]),o=Bl(l,t)):(l=e["@base"],o=t):(l=a.base,o=Bl(a.base,t)),t=o}return t}Nt.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=dc.get(t);if(n)return n;const r={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:o,revertToPreviousContext:l,protected:{}};return dc.size===T2&&dc.clear(),dc.set(t,r),r;function i(){const u=this;if(u.inverse)return u.inverse;const c=u.inverse={},d=u.fastCurieMap={},f={},h=(u["@language"]||"@none").toLowerCase(),p=u["@direction"],g=u.mappings,m=[...g.keys()].sort(C2);for(const v of m){const _=g.get(v);if(_===null)continue;let x=_["@container"]||"@none";if(x=[].concat(x).sort().join(""),_["@id"]===null)continue;const I=H1(_["@id"]);for(const S of I){let E=c[S];const N=Nt.isKeyword(S);if(E)!N&&!_._termHasColon&&f[S].push(v);else if(c[S]=E={},!N&&!_._termHasColon){f[S]=[v];const A={iri:S,terms:f[S]};S[0]in d?d[S[0]].push(A):d[S[0]]=[A]}if(E[x]||(E[x]={"@language":{},"@type":{},"@any":{}}),E=E[x],s(v,E["@any"],"@none"),_.reverse)s(v,E["@type"],"@reverse");else if(_["@type"]==="@none")s(v,E["@any"],"@none"),s(v,E["@language"],"@none"),s(v,E["@type"],"@none");else if("@type"in _)s(v,E["@type"],_["@type"]);else if("@language"in _&&"@direction"in _){const A=_["@language"],R=_["@direction"];A&&R?s(v,E["@language"],`${A}_${R}`.toLowerCase()):A?s(v,E["@language"],A.toLowerCase()):R?s(v,E["@language"],`_${R}`):s(v,E["@language"],"@null")}else"@language"in _?s(v,E["@language"],(_["@language"]||"@null").toLowerCase()):"@direction"in _?_["@direction"]?s(v,E["@language"],`_${_["@direction"]}`):s(v,E["@language"],"@none"):p?(s(v,E["@language"],`_${p}`),s(v,E["@language"],"@none"),s(v,E["@type"],"@none")):(s(v,E["@language"],h),s(v,E["@language"],"@none"),s(v,E["@type"],"@none"))}}for(const v in d)a(d,v,1);return c}function a(u,c,d){const f=u[c],h=u[c]={};let p,g;for(const m of f)p=m.iri,d>=p.length?g="":g=p[d],g in h?h[g].push(m):h[g]=[m];for(const m in h)m!==""&&a(h,m,d+1)}function s(u,c,d){c.hasOwnProperty(d)||(c[d]=u)}function o(){const u={};return u.mappings=Uw.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=Uw.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function l(){return this.previousContext?this.previousContext.clone():this}};Nt.getContextValue=(e,t,n)=>{if(t===null)return n==="@context"?void 0:null;if(e.mappings.has(t)){const r=e.mappings.get(t);if(S2(n))return r;if(r.hasOwnProperty(n))return r[n]}if(n==="@language"&&n in e||n==="@direction"&&n in e)return e[n];if(n!=="@context")return null};Nt.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";Nt.isKeyword=e=>{if(!Ln(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function Vg(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let a=0;a<e.length;++a)if(!Vg(e[a],t[a]))return!1;return!0}const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const a in e){let s=e[a],o=t[a];if(a==="@container"&&Array.isArray(s)&&Array.isArray(o)&&(s=s.slice().sort(),o=o.slice().sort()),!Vg(s,o))return!1}return!0}const Pt=wr,{isArray:hr,isObject:lr,isEmptyObject:Mg,isString:dn,isUndefined:Cd}=rr,{isList:dp,isValue:Bg,isGraph:A2,isSubject:N2}=zi,{expandIri:Kt,getContextValue:Jn,isKeyword:Ug,process:Ul,processingMode:Bc}=Ss,{isAbsolute:Uc}=Ia,{REGEX_BCP47:G1,REGEX_KEYWORD:R2,addValue:qn,asArray:Ar,getValues:D2,validateTypeValue:k2}=xr,{handleEvent:dr}=Iu,ca={};var O2=ca;ca.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:r={},insideList:i=!1,insideIndex:a=!1,typeScopedContext:s=null})=>{if(n==null)return null;if(t==="@default"&&(r=Object.assign({},r,{isFrame:!1})),!hr(n)&&!lr(n))return!i&&(t===null||Kt(e,t,{vocab:!0},r)==="@graph")?(r.eventHandler&&dr({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:r}),null):K1({activeCtx:e,activeProperty:t,value:n,options:r});if(hr(n)){let p=[];const g=Jn(e,t,"@container")||[];i=i||g.includes("@list");for(let m=0;m<n.length;++m){let v=await ca.expand({activeCtx:e,activeProperty:t,element:n[m],options:r,insideIndex:a,typeScopedContext:s});i&&hr(v)&&(v={"@list":v}),v!==null&&(hr(v)?p=p.concat(v):p.push(v))}return p}const o=Kt(e,t,{vocab:!0},r),l=Jn(e,t,"@context");s=s||(e.previousContext?e:null);let u=Object.keys(n).sort(),c=!a;if(c&&s&&u.length<=2&&!u.includes("@context"))for(const p of u){const g=Kt(s,p,{vocab:!0},r);if(g==="@value"){c=!1,e=s;break}if(g==="@id"&&u.length===1){c=!1;break}}c&&(e=e.revertToPreviousContext()),Cd(l)||(e=await Ul({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(e=await Ul({activeCtx:e,localCtx:n["@context"],options:r})),s=e;let d=null;for(const p of u)if(Kt(e,p,{vocab:!0},r)==="@type"){d=d||p;const m=n[p],v=Array.isArray(m)?m.length>1?m.slice().sort():m:[m];for(const _ of v){const x=Jn(s,_,"@context");Cd(x)||(e=await Ul({activeCtx:e,localCtx:x,options:r,propagate:!1}))}}let f={};await z1({activeCtx:e,activeProperty:t,expandedActiveProperty:o,element:n,expandedParent:f,options:r,insideList:i,typeKey:d,typeScopedContext:s}),u=Object.keys(f);let h=u.length;if("@value"in f){if("@type"in f&&("@language"in f||"@direction"in f))throw new Pt('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:f});let p=h-1;if("@type"in f&&(p-=1),"@index"in f&&(p-=1),"@language"in f&&(p-=1),"@direction"in f&&(p-=1),p!==0)throw new Pt('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:f});const g=f["@value"]===null?[]:Ar(f["@value"]),m=D2(f,"@type");if(!(Bc(e,1.1)&&m.includes("@json")&&m.length===1))if(g.length===0)r.eventHandler&&dr({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:f}},options:r}),f=null;else{if(!g.every(v=>dn(v)||Mg(v))&&"@language"in f)throw new Pt("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:f});if(!m.every(v=>Uc(v)&&!(dn(v)&&v.indexOf("_:")===0)||Mg(v)))throw new Pt('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:f})}}else if("@type"in f&&!hr(f["@type"]))f["@type"]=[f["@type"]];else if("@set"in f||"@list"in f){if(h>1&&!(h===2&&"@index"in f))throw new Pt('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:f});"@set"in f&&(f=f["@set"],u=Object.keys(f),h=u.length)}else h===1&&"@language"in f&&(r.eventHandler&&dr({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:f}},options:r}),f=null);return lr(f)&&!r.keepFreeFloatingNodes&&!i&&(t===null||o==="@graph"||(Jn(e,t,"@container")||[]).includes("@graph"))&&(f=W1({value:f,count:h,options:r})),f};function W1({value:e,count:t,options:n}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(n.eventHandler){let r,i;t===0?(r="empty object",i="Dropping empty object."):"@value"in e?(r="object with only @value",i="Dropping object with only @value."):"@list"in e?(r="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(r="object with only @id",i="Dropping object with only @id."),dr({event:{type:["JsonLdEvent"],code:r,level:"warning",message:i,details:{value:e}},options:n})}return null}return e}async function z1({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:r,expandedParent:i,options:a={},insideList:s,typeKey:o,typeScopedContext:l}){const u=Object.keys(r).sort(),c=[];let d;const f=r[o]&&Kt(e,hr(r[o])?r[o][0]:r[o],{vocab:!0},{...a,typeExpansion:!0})==="@json";for(const h of u){let p=r[h],g;if(h==="@context")continue;const m=Kt(e,h,{vocab:!0},a);if(m===null||!(Uc(m)||Ug(m))){a.eventHandler&&dr({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:h,expandedProperty:m}},options:a});continue}if(Ug(m)){if(n==="@reverse")throw new Pt("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:p});if(m in i&&m!=="@included"&&m!=="@type")throw new Pt("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:m})}if(m==="@id"){if(!dn(p)){if(!a.isFrame)throw new Pt('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:p});if(lr(p)){if(!Mg(p))throw new Pt('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}else if(hr(p)){if(!p.every(I=>dn(I)))throw new Pt('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}else throw new Pt('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}qn(i,"@id",Ar(p).map(I=>{if(dn(I)){const S=Kt(e,I,{base:!0},a);return a.eventHandler&&(S===null?dr(I===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:I}},options:a}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:I}},options:a}):Uc(S)||dr({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:I,expandedId:S}},options:a})),S}return I}),{propertyIsArray:a.isFrame});continue}if(m==="@type"){lr(p)&&(p=Object.fromEntries(Object.entries(p).map(([I,S])=>[Kt(l,I,{vocab:!0}),Ar(S).map(E=>Kt(l,E,{base:!0,vocab:!0},{...a,typeExpansion:!0}))]))),k2(p,a.isFrame),qn(i,"@type",Ar(p).map(I=>{if(dn(I)){const S=Kt(l,I,{base:!0,vocab:!0},{...a,typeExpansion:!0});return S!=="@json"&&!Uc(S)&&a.eventHandler&&dr({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:I}},options:a}),S}return I}),{propertyIsArray:!!a.isFrame});continue}if(m==="@included"&&Bc(e,1.1)){const I=Ar(await ca.expand({activeCtx:e,activeProperty:t,element:p,options:a}));if(!I.every(S=>N2(S)))throw new Pt("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:p});qn(i,"@included",I,{propertyIsArray:!0});continue}if(m==="@graph"&&!(lr(p)||hr(p)))throw new Pt('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:p});if(m==="@value"){d=p,f&&Bc(e,1.1)?i["@value"]=p:qn(i,"@value",p,{propertyIsArray:a.isFrame});continue}if(m==="@language"){if(p===null)continue;if(!dn(p)&&!a.isFrame)throw new Pt('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:p});p=Ar(p).map(I=>dn(I)?I.toLowerCase():I);for(const I of p)dn(I)&&!I.match(G1)&&a.eventHandler&&dr({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:I}},options:a});qn(i,"@language",p,{propertyIsArray:a.isFrame});continue}if(m==="@direction"){if(!dn(p)&&!a.isFrame)throw new Pt('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:p});p=Ar(p);for(const I of p)if(dn(I)&&I!=="ltr"&&I!=="rtl")throw new Pt('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:p});qn(i,"@direction",p,{propertyIsArray:a.isFrame});continue}if(m==="@index"){if(!dn(p))throw new Pt('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:p});qn(i,"@index",p);continue}if(m==="@reverse"){if(!lr(p))throw new Pt('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:p});if(g=await ca.expand({activeCtx:e,activeProperty:"@reverse",element:p,options:a}),"@reverse"in g)for(const S in g["@reverse"])qn(i,S,g["@reverse"][S],{propertyIsArray:!0});let I=i["@reverse"]||null;for(const S in g){if(S==="@reverse")continue;I===null&&(I=i["@reverse"]={}),qn(I,S,[],{propertyIsArray:!0});const E=g[S];for(let N=0;N<E.length;++N){const A=E[N];if(Bg(A)||dp(A))throw new Pt('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});qn(I,S,A,{propertyIsArray:!0})}}continue}if(m==="@nest"){c.push(h);continue}let v=e;const _=Jn(e,h,"@context");Cd(_)||(v=await Ul({activeCtx:e,localCtx:_,propagate:!0,overrideProtected:!0,options:a}));const x=Jn(e,h,"@container")||[];if(x.includes("@language")&&lr(p)){const I=Jn(v,h,"@direction");g=P2(v,p,I,a)}else if(x.includes("@index")&&lr(p)){const I=x.includes("@graph"),S=Jn(v,h,"@index")||"@index",E=S!=="@index"&&Kt(e,S,{vocab:!0},a);g=await fp({activeCtx:v,options:a,activeProperty:h,value:p,asGraph:I,indexKey:S,propertyIndex:E})}else if(x.includes("@id")&&lr(p)){const I=x.includes("@graph");g=await fp({activeCtx:v,options:a,activeProperty:h,value:p,asGraph:I,indexKey:"@id"})}else if(x.includes("@type")&&lr(p))g=await fp({activeCtx:v.revertToPreviousContext(),options:a,activeProperty:h,value:p,asGraph:!1,indexKey:"@type"});else{const I=m==="@list";if(I||m==="@set"){let S=t;I&&n==="@graph"&&(S=null),g=await ca.expand({activeCtx:v,activeProperty:S,element:p,options:a,insideList:I})}else Jn(e,h,"@type")==="@json"?g={"@type":"@json","@value":p}:g=await ca.expand({activeCtx:v,activeProperty:h,element:p,options:a,insideList:!1})}if(!(g===null&&m!=="@value")){if(m!=="@list"&&!dp(g)&&x.includes("@list")&&(g={"@list":Ar(g)}),x.includes("@graph")&&!x.some(I=>I==="@id"||I==="@index")){if(g=Ar(g),a.isFrame||(g=g.filter(I=>{const S=Object.keys(I).length;return W1({value:I,count:S,options:a})!==null})),g.length===0)continue;g=g.map(I=>({"@graph":Ar(I)}))}if(v.mappings.has(h)&&v.mappings.get(h).reverse){const I=i["@reverse"]=i["@reverse"]||{};g=Ar(g);for(let S=0;S<g.length;++S){const E=g[S];if(Bg(E)||dp(E))throw new Pt('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});qn(I,m,E,{propertyIsArray:!0})}continue}qn(i,m,g,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&Bc(e,1.1))){if((lr(d)||hr(d))&&!a.isFrame)throw new Pt('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:d})}for(const h of c){const p=hr(r[h])?r[h]:[r[h]];for(const g of p){if(!lr(g)||Object.keys(g).some(m=>Kt(e,m,{vocab:!0},a)==="@value"))throw new Pt("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:g});await z1({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:g,expandedParent:i,options:a,insideList:s,typeScopedContext:l,typeKey:o})}}}function K1({activeCtx:e,activeProperty:t,value:n,options:r}){if(n==null)return null;const i=Kt(e,t,{vocab:!0},r);if(i==="@id")return Kt(e,n,{base:!0},r);if(i==="@type")return Kt(e,n,{vocab:!0,base:!0},{...r,typeExpansion:!0});const a=Jn(e,t,"@type");if((a==="@id"||i==="@graph")&&dn(n)){const o=Kt(e,n,{base:!0},r);return o===null&&n.match(R2)&&r.eventHandler&&dr({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":o}}if(a==="@vocab"&&dn(n))return{"@id":Kt(e,n,{vocab:!0,base:!0},r)};if(Ug(i))return n;const s={};if(a&&!["@id","@vocab","@none"].includes(a))s["@type"]=a;else if(dn(n)){const o=Jn(e,t,"@language");o!==null&&(s["@language"]=o);const l=Jn(e,t,"@direction");l!==null&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),s["@value"]=n,s}function P2(e,t,n,r){const i=[],a=Object.keys(t).sort();for(const s of a){const o=Kt(e,s,{vocab:!0},r);let l=t[s];hr(l)||(l=[l]);for(const u of l){if(u===null)continue;if(!dn(u))throw new Pt("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const c={"@value":u};o!=="@none"&&(s.match(G1)||r.eventHandler&&dr({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:r}),c["@language"]=s.toLowerCase()),n&&(c["@direction"]=n),i.push(c)}}return i}async function fp({activeCtx:e,options:t,activeProperty:n,value:r,asGraph:i,indexKey:a,propertyIndex:s}){const o=[],l=Object.keys(r).sort(),u=a==="@type";for(let c of l){if(u){const h=Jn(e,c,"@context");Cd(h)||(e=await Ul({activeCtx:e,localCtx:h,propagate:!1,options:t}))}let d=r[c];hr(d)||(d=[d]),d=await ca.expand({activeCtx:e,activeProperty:n,element:d,options:t,insideList:!1,insideIndex:!0});let f;s?c==="@none"?f="@none":f=K1({activeCtx:e,activeProperty:a,value:c,options:t}):f=Kt(e,c,{vocab:!0},t),a==="@id"?c=Kt(e,c,{base:!0},t):u&&(c=f);for(let h of d){if(i&&!A2(h)&&(h={"@graph":[h]}),a==="@type")f==="@none"||(h["@type"]?h["@type"]=[c].concat(h["@type"]):h["@type"]=[c]);else{if(Bg(h)&&!["@language","@type","@index"].includes(a))throw new Pt(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${a}".`,"jsonld.SyntaxError",{code:"invalid value object",value:h});s?f!=="@none"&&qn(h,s,f,{propertyIsArray:!0,prependValue:!0}):f!=="@none"&&!(a in h)&&(h[a]=c)}o.push(h)}}return o}const{isKeyword:q1}=Ss,Zr=zi,hp=rr,ri=xr,L2=wr,Cn={};var Gf=Cn;Cn.createMergedNodeMap=(e,t)=>{t=t||{};const n=t.issuer||new ri.IdentifierIssuer("_:b"),r={"@default":{}};return Cn.createNodeMap(e,r,"@default",n),Cn.mergeNodeMaps(r)};Cn.createNodeMap=(e,t,n,r,i,a)=>{if(hp.isArray(e)){for(const u of e)Cn.createNodeMap(u,t,n,r,void 0,a);return}if(!hp.isObject(e)){a&&a.push(e);return}if(Zr.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=r.getId(u))}a&&a.push(e);return}else if(a&&Zr.isList(e)){const u=[];Cn.createNodeMap(e["@list"],t,n,r,i,u),a.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const c of u)c.indexOf("_:")===0&&r.getId(c)}hp.isUndefined(i)&&(i=Zr.isBlankNode(e)?r.getId(e["@id"]):e["@id"]),a&&a.push({"@id":i});const s=t[n],o=s[i]=s[i]||{};o["@id"]=i;const l=Object.keys(e).sort();for(let u of l){if(u==="@id")continue;if(u==="@reverse"){const d={"@id":i},f=e["@reverse"];for(const h in f){const p=f[h];for(const g of p){let m=g["@id"];Zr.isBlankNode(g)&&(m=r.getId(m)),Cn.createNodeMap(g,t,n,r,m),ri.addValue(s[m],h,d,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){i in t||(t[i]={}),Cn.createNodeMap(e[u],t,i,r);continue}if(u==="@included"){Cn.createNodeMap(e[u],t,n,r);continue}if(u!=="@type"&&q1(u)){if(u==="@index"&&u in o&&(e[u]!==o[u]||e[u]["@id"]!==o[u]["@id"]))throw new L2("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:o});o[u]=e[u];continue}const c=e[u];if(u.indexOf("_:")===0&&(u=r.getId(u)),c.length===0){ri.addValue(o,u,[],{propertyIsArray:!0});continue}for(let d of c)if(u==="@type"&&(d=d.indexOf("_:")===0?r.getId(d):d),Zr.isSubject(d)||Zr.isSubjectReference(d)){if("@id"in d&&!d["@id"])continue;const f=Zr.isBlankNode(d)?r.getId(d["@id"]):d["@id"];ri.addValue(o,u,{"@id":f},{propertyIsArray:!0,allowDuplicate:!1}),Cn.createNodeMap(d,t,n,r,f)}else if(Zr.isValue(d))ri.addValue(o,u,d,{propertyIsArray:!0,allowDuplicate:!1});else if(Zr.isList(d)){const f=[];Cn.createNodeMap(d["@list"],t,n,r,i,f),d={"@list":f},ri.addValue(o,u,d,{propertyIsArray:!0,allowDuplicate:!1})}else Cn.createNodeMap(d,t,n,r,i),ri.addValue(o,u,d,{propertyIsArray:!0,allowDuplicate:!1})}};Cn.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const r of Object.keys(e[n]).sort()){const i=e[n][r];r in t||(t[r]={"@id":r});const a=t[r];for(const s of Object.keys(i).sort())if(q1(s)&&s!=="@type")a[s]=ri.clone(i[s]);else for(const o of i[s])ri.addValue(a,s,ri.clone(o),{propertyIsArray:!0,allowDuplicate:!1})}return t};Cn.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if(r==="@default")continue;const i=e[r];let a=t[r];a?"@graph"in a||(a["@graph"]=[]):t[r]=a={"@id":r,"@graph":[]};const s=a["@graph"];for(const o of Object.keys(i).sort()){const l=i[o];Zr.isSubjectReference(l)||s.push(l)}}return t};const{isSubjectReference:F2}=zi,{createMergedNodeMap:j2}=Gf,J1={};var $2=J1;J1.flatten=e=>{const t=j2(e),n=[],r=Object.keys(t).sort();for(let i=0;i<r.length;++i){const a=t[r[i]];F2(a)||n.push(a)}return n};const Hg=wr,pp=zi,wl=rr,{REGEX_BCP47:Hw,addValue:Gw}=xr,{handleEvent:Ww}=Iu,{RDF_LIST:V2,RDF_FIRST:gp,RDF_REST:mp,RDF_NIL:vp,RDF_TYPE:M2,RDF_JSON_LITERAL:B2,XSD_BOOLEAN:zw,XSD_DOUBLE:Kw,XSD_INTEGER:qw,XSD_STRING:yp}=Rv,Y1={};var U2=Y1;Y1.fromRDF=async(e,t)=>{const{useRdfType:n=!1,useNativeTypes:r=!1,rdfDirection:i=null}=t,a={},s={"@default":a},o={};if(i){if(i==="compound-literal")throw new Hg("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new Hg("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(const c of e){const d=c.graph.termType==="DefaultGraph"?"@default":c.graph.value;d in s||(s[d]={}),d!=="@default"&&!(d in a)&&(a[d]={"@id":d});const f=s[d],h=c.subject.value,p=c.predicate.value,g=c.object;h in f||(f[h]={"@id":h});const m=f[h],v=g.termType.endsWith("Node");if(v&&!(g.value in f)&&(f[g.value]={"@id":g.value}),p===M2&&!n&&v){Gw(m,"@type",g.value,{propertyIsArray:!0});continue}const _=H2(g,r,i,t);if(Gw(m,p,_,{propertyIsArray:!0}),v)if(g.value===vp){const x=f[g.value];"usages"in x||(x.usages=[]),x.usages.push({node:m,property:p,value:_})}else g.value in o?o[g.value]=!1:o[g.value]={node:m,property:p,value:_}}for(const c in s){const d=s[c];if(!(vp in d))continue;const f=d[vp];if(f.usages){for(let h of f.usages){let p=h.node,g=h.property,m=h.value;const v=[],_=[];let x=Object.keys(p).length;for(;g===mp&&wl.isObject(o[p["@id"]])&&wl.isArray(p[gp])&&p[gp].length===1&&wl.isArray(p[mp])&&p[mp].length===1&&(x===3||x===4&&wl.isArray(p["@type"])&&p["@type"].length===1&&p["@type"][0]===V2)&&(v.push(p[gp][0]),_.push(p["@id"]),h=o[p["@id"]],p=h.node,g=h.property,m=h.value,x=Object.keys(p).length,!!pp.isBlankNode(p)););delete m["@id"],m["@list"]=v.reverse();for(const I of _)delete d[I]}delete f.usages}}const l=[],u=Object.keys(a).sort();for(const c of u){const d=a[c];if(c in s){const f=d["@graph"]=[],h=s[c],p=Object.keys(h).sort();for(const g of p){const m=h[g];pp.isSubjectReference(m)||f.push(m)}}pp.isSubjectReference(d)||l.push(d)}return l};function H2(e,t,n,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)e.language.match(Hw)||r.eventHandler&&Ww({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:r}),i["@language"]=e.language;else{let a=e.datatype.value;if(a||(a=yp),a===B2){a="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(s){throw new Hg("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:s})}}if(t){if(a===zw)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(wl.isNumeric(i["@value"]))if(a===qw){const s=parseInt(i["@value"],10);s.toFixed(0)===i["@value"]&&(i["@value"]=s)}else a===Kw&&(i["@value"]=parseFloat(i["@value"]));[zw,qw,Kw,yp].includes(a)||(i["@type"]=a)}else if(n==="i18n-datatype"&&a.startsWith("https://www.w3.org/ns/i18n#")){const[,s,o]=a.split(/[#_]/);s.length>0&&(i["@language"]=s,s.match(Hw)||r.eventHandler&&Ww({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:r})),i["@direction"]=o}else a!==yp&&(i["@type"]=a)}return i}const{createNodeMap:G2}=Gf,{isKeyword:W2}=Ss,Jw=zi,z2=r1,Yw=wr,dl=rr,K2=xr,{handleEvent:is}=Iu,{RDF_FIRST:q2,RDF_REST:J2,RDF_NIL:Y2,RDF_TYPE:Q2,RDF_JSON_LITERAL:X2,RDF_LANGSTRING:Z2,XSD_BOOLEAN:eU,XSD_DOUBLE:Qw,XSD_INTEGER:tU,XSD_STRING:nU}=Rv,{isAbsolute:Td}=Ia,Q1={};var rU=Q1;Q1.toRDF=(e,t)=>{const n=new K2.IdentifierIssuer("_:b"),r={"@default":{}};G2(e,r,"@default",n);const i=[],a=Object.keys(r).sort();for(const s of a){let o;if(s==="@default")o={termType:"DefaultGraph",value:""};else if(Td(s))s.startsWith("_:")?o={termType:"BlankNode"}:o={termType:"NamedNode"},o.value=s;else{t.eventHandler&&is({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:s}},options:t});continue}iU(i,r[s],o,n,t)}return i};function iU(e,t,n,r,i){const a=Object.keys(t).sort();for(const s of a){const o=t[s],l=Object.keys(o).sort();for(let u of l){const c=o[u];if(u==="@type")u=Q2;else if(W2(u))continue;for(const d of c){const f={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!Td(s)){i.eventHandler&&is({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:i});continue}const h={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!Td(u)){i.eventHandler&&is({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:i});continue}if(h.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&is({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(g=>r.getId(g)===u)}},options:i});continue}const p=Gg(d,r,e,n,i.rdfDirection,i);p&&e.push({subject:f,predicate:h,object:p,graph:n})}}}}function aU(e,t,n,r,i,a){const s={termType:"NamedNode",value:q2},o={termType:"NamedNode",value:J2},l={termType:"NamedNode",value:Y2},u=e.pop(),c=u?{termType:"BlankNode",value:t.getId()}:l;let d=c;for(const f of e){const h=Gg(f,t,n,r,i,a),p={termType:"BlankNode",value:t.getId()};n.push({subject:d,predicate:s,object:h,graph:r}),n.push({subject:d,predicate:o,object:p,graph:r}),d=p}if(u){const f=Gg(u,t,n,r,i,a);n.push({subject:d,predicate:s,object:f,graph:r}),n.push({subject:d,predicate:o,object:l,graph:r})}return c}function Gg(e,t,n,r,i,a){const s={};if(Jw.isValue(e)){s.termType="Literal",s.value=void 0,s.datatype={termType:"NamedNode"};let o=e["@value"];const l=e["@type"]||null;if(l==="@json")s.value=z2(o),s.datatype.value=X2;else if(dl.isBoolean(o))s.value=o.toString(),s.datatype.value=l||eU;else if(dl.isDouble(o)||l===Qw)dl.isDouble(o)||(o=parseFloat(o)),s.value=o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),s.datatype.value=l||Qw;else if(dl.isNumber(o))s.value=o.toFixed(0),s.datatype.value=l||tU;else if("@direction"in e&&i==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),c=e["@direction"],d=`https://www.w3.org/ns/i18n#${u}_${c}`;s.datatype.value=d,s.value=o}else{if("@direction"in e&&i==="compound-literal")throw new Yw("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new Yw("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&a.eventHandler&&is({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:a}),s.value=o,s.datatype.value=l||Z2,s.language=e["@language"]):("@direction"in e&&!i&&a.eventHandler&&is({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:a}),s.value=o,s.datatype.value=l||nU)}}else if(Jw.isList(e)){const o=aU(e["@list"],t,n,r,i,a);s.termType=o.termType,s.value=o.value}else{const o=dl.isObject(e)?e["@id"]:e;s.termType=o.startsWith("_:")?"BlankNode":"NamedNode",s.value=o}return s.termType==="NamedNode"&&!Td(s.value)?(a.eventHandler&&is({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:s.value}},options:a}),null):s}const{isKeyword:Wg}=Ss,cr=zi,It=rr,nn=xr,Xw=Ia,Hl=wr,{createNodeMap:sU,mergeNodeMapGraphs:oU}=Gf,fr={};var lU=fr;fr.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new nn.IdentifierIssuer("_:b");sU(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=oU(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const a=[];fr.frame(r,Object.keys(r.subjects).sort(),t,a),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(s=>r.bnodeMap[s].length===1));// remove @preserve from results
return n.link={},Hc(a,n)};fr.frame=(e,t,n,r,i=null)=>{X1(n),n=n[0];const a=e.options,s={embed:fc(n,a,"embed"),explicit:fc(n,a,"explicit"),requireAll:fc(n,a,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const o=e.link[e.graph],l=cU(e,t,n,s),u=Object.keys(l).sort();for(const c of u){const d=l[c];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},s.embed==="@link"&&c in o){ja(r,i,o[c]);continue}const f={"@id":c};if(c.indexOf("_:")===0&&nn.addValue(e.bnodeMap,c,f,{propertyIsArray:!0}),o[c]=f,(s.embed==="@first"||s.embed==="@last")&&e.is11)throw new Hl("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(c))){if(e.embedded&&(s.embed==="@never"||uU(d,e.graph,e.subjectStack))){ja(r,i,f);continue}if(e.embedded&&(s.embed=="@first"||s.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(c)){ja(r,i,f);continue}if(s.embed==="@last"&&c in e.uniqueEmbeds[e.graph]&&dU(e,c),e.uniqueEmbeds[e.graph][c]={parent:r,property:i},e.subjectStack.push({subject:d,graph:e.graph}),c in e.graphMap){let h=!1,p=null;"@graph"in n?(p=n["@graph"][0],h=!(c==="@merged"||c==="@default"),It.isObject(p)||(p={})):(h=e.graph!=="@merged",p={}),h&&fr.frame({...e,graph:c,embedded:!1},Object.keys(e.graphMap[c]).sort(),[p],f,"@graph")}"@included"in n&&fr.frame({...e,embedded:!1},t,n["@included"],f,"@included");for(const h of Object.keys(d).sort()){if(Wg(h)){if(f[h]=nn.clone(d[h]),h==="@type")for(const p of d["@type"])p.indexOf("_:")===0&&nn.addValue(e.bnodeMap,p,f,{propertyIsArray:!0});continue}if(!(s.explicit&&!(h in n)))for(const p of d[h]){const g=h in n?n[h]:Zw(s);if(cr.isList(p)){const m=n[h]&&n[h][0]&&n[h][0]["@list"]?n[h][0]["@list"]:Zw(s),v={"@list":[]};ja(f,h,v);const _=p["@list"];for(const x of _)cr.isSubjectReference(x)?fr.frame({...e,embedded:!0},[x["@id"]],m,v,"@list"):ja(v,"@list",nn.clone(x))}else cr.isSubjectReference(p)?fr.frame({...e,embedded:!0},[p["@id"]],g,f,h):zg(g[0],p)&&ja(f,h,nn.clone(p))}}for(const h of Object.keys(n).sort()){if(h==="@type"){if(!It.isObject(n[h][0])||!("@default"in n[h][0]))continue}else if(Wg(h))continue;const p=n[h][0]||{};if(!fc(p,a,"omitDefault")&&!(h in f)){let m="@null";"@default"in p&&(m=nn.clone(p["@default"])),It.isArray(m)||(m=[m]),f[h]=[{"@preserve":m}]}}for(const h of Object.keys(n["@reverse"]||{}).sort()){const p=n["@reverse"][h];for(const g of Object.keys(e.subjects))nn.getValues(e.subjects[g],h).some(v=>v["@id"]===c)&&(f["@reverse"]=f["@reverse"]||{},nn.addValue(f["@reverse"],h,[],{propertyIsArray:!0}),fr.frame({...e,embedded:!0},[g],p,f["@reverse"][h],i))}ja(r,i,f),e.subjectStack.pop()}}};fr.cleanupNull=(e,t)=>{if(It.isArray(e))return e.map(r=>fr.cleanupNull(r,t)).filter(r=>r);if(e==="@null")return null;if(It.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=fr.cleanupNull(e[n],t)}return e};function Zw(e){const t={};for(const n in e)e[n]!==void 0&&(t["@"+n]=[e[n]]);return[t]}function uU(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function fc(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];if(n==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new Hl("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function X1(e){if(!It.isArray(e)||e.length!==1||!It.isObject(e[0]))throw new Hl("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of nn.asArray(e[0]["@id"]))if(!(It.isObject(t)||Xw.isAbsolute(t))||It.isString(t)&&t.indexOf("_:")===0)throw new Hl("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of nn.asArray(e[0]["@type"]))if(!(It.isObject(t)||Xw.isAbsolute(t)||t==="@json")||It.isString(t)&&t.indexOf("_:")===0)throw new Hl("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function cU(e,t,n,r){const i={};for(const a of t){const s=e.graphMap[e.graph][a];Z1(e,s,n,r)&&(i[a]=s)}return i}function Z1(e,t,n,r){let i=!0,a=!1;for(const s in n){let o=!1;const l=nn.getValues(t,s),u=nn.getValues(n,s).length===0;if(s==="@id"){if(It.isEmptyObject(n["@id"][0]||{})?o=!0:n["@id"].length>=0&&(o=n["@id"].includes(l[0])),!r.requireAll)return o}else if(s==="@type"){if(i=!1,u){if(l.length>0)return!1;o=!0}else if(n["@type"].length===1&&It.isEmptyObject(n["@type"][0]))o=l.length>0;else for(const c of n["@type"])It.isObject(c)&&"@default"in c?o=!0:o=o||l.some(d=>d===c);if(!r.requireAll)return o}else{if(Wg(s))continue;{const c=nn.getValues(n,s)[0];let d=!1;if(c&&(X1([c]),d="@default"in c),i=!1,l.length===0&&d)continue;if(l.length>0&&u)return!1;if(c===void 0){if(l.length>0)return!1;o=!0}else if(cr.isList(c)){const f=c["@list"][0];if(cr.isList(l[0])){const h=l[0]["@list"];cr.isValue(f)?o=h.some(p=>zg(f,p)):(cr.isSubject(f)||cr.isSubjectReference(f))&&(o=h.some(p=>e0(e,f,p,r)))}}else cr.isValue(c)?o=l.some(f=>zg(c,f)):cr.isSubjectReference(c)?o=l.some(f=>e0(e,c,f,r)):It.isObject(c)?o=l.length>0:o=!1}}if(!o&&r.requireAll)return!1;a=a||o}return i||a}function dU(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,a=r.property,s={"@id":t};if(It.isArray(i)){for(let l=0;l<i.length;++l)if(nn.compareValues(i[l],s)){i[l]=s;break}}else{const l=It.isArray(i[a]);nn.removeValue(i,a,s,{propertyIsArray:l}),nn.addValue(i,a,s,{propertyIsArray:l})}const o=l=>{const u=Object.keys(n);for(const c of u)c in n&&It.isObject(n[c].parent)&&n[c].parent["@id"]===l&&(delete n[c],o(c))};o(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function Hc(e,t){if(It.isArray(e))return e.map(n=>Hc(n,t));if(It.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(cr.isValue(e))return e;if(cr.isList(e))return e["@list"]=Hc(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e){if(n==="@id"&&t.bnodesToClear.includes(e[n])){delete e["@id"];continue}e[n]=Hc(e[n],t)}}return e}function ja(e,t,n){It.isObject(e)?nn.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function e0(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&Z1(e,i,t,r)}function zg(e,t){const n=t["@value"],r=t["@type"],i=t["@language"],a=e["@value"]?It.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?It.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],o=e["@language"]?It.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return a.length===0&&s.length===0&&o.length===0?!0:!(!(a.includes(n)||It.isEmptyObject(a[0]))||!(!r&&s.length===0||s.includes(r)||r&&It.isEmptyObject(s[0]))||!(!i&&o.length===0||o.includes(i)||i&&It.isEmptyObject(o[0])))}const Ov=wr,{isArray:Ji,isObject:da,isString:eC,isUndefined:bp}=rr,{isList:Kg,isValue:Pi,isGraph:tC,isSimpleGraph:t0,isSubjectReference:_p}=zi,{expandIri:nC,getContextValue:En,isKeyword:rC,process:wp,processingMode:fU}=Ss,{removeBase:n0,prependBase:hU}=Ia,{REGEX_KEYWORD:pU,addValue:Kn,asArray:hc,compareShortestLeast:gU}=xr,Ze={};var mU=Ze;Ze.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:r={}})=>{if(Ji(n)){let a=[];for(let s=0;s<n.length;++s){const o=await Ze.compact({activeCtx:e,activeProperty:t,element:n[s],options:r});o!==null&&a.push(o)}return r.compactArrays&&a.length===1&&(En(e,t,"@container")||[]).length===0&&(a=a[0]),a}const i=En(e,t,"@context");if(bp(i)||(e=await wp({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:r})),da(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){const f=r.link[n["@id"]];for(let h=0;h<f.length;++h)if(f[h].expanded===n)return f[h].compacted}if(Pi(n)||_p(n)){const f=Ze.compactValue({activeCtx:e,activeProperty:t,value:n,options:r});return r.link&&_p(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:f})),f}if(Kg(n)&&(En(e,t,"@container")||[]).includes("@list"))return Ze.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:r});const a=t==="@reverse",s={},o=e;!Pi(n)&&!_p(n)&&(e=e.revertToPreviousContext());const l=En(o,t,"@context");bp(l)||(e=await wp({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:s}));let u=n["@type"]||[];u.length>1&&(u=Array.from(u).sort());const c=e;for(const f of u){const h=Ze.compactIri({activeCtx:c,iri:f,relativeTo:{vocab:!0}}),p=En(o,h,"@context");bp(p)||(e=await wp({activeCtx:e,localCtx:p,options:r,propagate:!1}))}const d=Object.keys(n).sort();for(const f of d){const h=n[f];if(f==="@id"){let p=hc(h).map(m=>Ze.compactIri({activeCtx:e,iri:m,relativeTo:{vocab:!1},base:r.base}));p.length===1&&(p=p[0]);const g=Ze.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});s[g]=p;continue}if(f==="@type"){let p=hc(h).map(x=>Ze.compactIri({activeCtx:o,iri:x,relativeTo:{vocab:!0}}));p.length===1&&(p=p[0]);const g=Ze.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),_=(En(e,g,"@container")||[]).includes("@set")&&fU(e,1.1)||Ji(p)&&h.length===0;Kn(s,g,p,{propertyIsArray:_});continue}if(f==="@reverse"){const p=await Ze.compact({activeCtx:e,activeProperty:"@reverse",element:h,options:r});for(const g in p)if(e.mappings.has(g)&&e.mappings.get(g).reverse){const m=p[g],_=(En(e,g,"@container")||[]).includes("@set")||!r.compactArrays;Kn(s,g,m,{propertyIsArray:_}),delete p[g]}if(Object.keys(p).length>0){const g=Ze.compactIri({activeCtx:e,iri:f,relativeTo:{vocab:!0}});Kn(s,g,p)}continue}if(f==="@preserve"){const p=await Ze.compact({activeCtx:e,activeProperty:t,element:h,options:r});Ji(p)&&p.length===0||Kn(s,f,p);continue}if(f==="@index"){if((En(e,t,"@container")||[]).includes("@index"))continue;const g=Ze.compactIri({activeCtx:e,iri:f,relativeTo:{vocab:!0}});Kn(s,g,h);continue}if(f!=="@graph"&&f!=="@list"&&f!=="@included"&&rC(f)){const p=Ze.compactIri({activeCtx:e,iri:f,relativeTo:{vocab:!0}});Kn(s,p,h);continue}if(!Ji(h))throw new Ov("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(h.length===0){const p=Ze.compactIri({activeCtx:e,iri:f,value:h,relativeTo:{vocab:!0},reverse:a}),g=e.mappings.has(p)?e.mappings.get(p)["@nest"]:null;let m=s;g&&(r0(e,g,r),da(s[g])||(s[g]={}),m=s[g]),Kn(m,p,h,{propertyIsArray:!0})}for(const p of h){const g=Ze.compactIri({activeCtx:e,iri:f,value:p,relativeTo:{vocab:!0},reverse:a}),m=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null;let v=s;m&&(r0(e,m,r),da(s[m])||(s[m]={}),v=s[m]);const _=En(e,g,"@container")||[],x=tC(p),I=Kg(p);let S;I?S=p["@list"]:x&&(S=p["@graph"]);let E=await Ze.compact({activeCtx:e,activeProperty:g,element:I||x?S:p,options:r});if(I)if(Ji(E)||(E=[E]),!_.includes("@list"))E={[Ze.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:E},"@index"in p&&(E[Ze.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=p["@index"]);else{Kn(v,g,E,{valueIsArray:!0,allowDuplicate:!0});continue}if(x)if(_.includes("@graph")&&(_.includes("@id")||_.includes("@index")&&t0(p))){let N;v.hasOwnProperty(g)?N=v[g]:v[g]=N={};const A=(_.includes("@id")?p["@id"]:p["@index"])||Ze.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Kn(N,A,E,{propertyIsArray:!r.compactArrays||_.includes("@set")})}else _.includes("@graph")&&t0(p)?(Ji(E)&&E.length>1&&(E={"@included":E}),Kn(v,g,E,{propertyIsArray:!r.compactArrays||_.includes("@set")})):(Ji(E)&&E.length===1&&r.compactArrays&&(E=E[0]),E={[Ze.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:E},"@id"in p&&(E[Ze.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=p["@id"]),"@index"in p&&(E[Ze.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=p["@index"]),Kn(v,g,E,{propertyIsArray:!r.compactArrays||_.includes("@set")}));else if(_.includes("@language")||_.includes("@index")||_.includes("@id")||_.includes("@type")){let N;v.hasOwnProperty(g)?N=v[g]:v[g]=N={};let A;if(_.includes("@language"))Pi(E)&&(E=E["@value"]),A=p["@language"];else if(_.includes("@index")){const R=En(e,g,"@index")||"@index",M=Ze.compactIri({activeCtx:e,iri:R,relativeTo:{vocab:!0}});if(R==="@index")A=p["@index"],delete E[M];else{let V;if([A,...V]=hc(E[R]||[]),!eC(A))A=null;else switch(V.length){case 0:delete E[R];break;case 1:E[R]=V[0];break;default:E[R]=V;break}}}else if(_.includes("@id")){const R=Ze.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});A=E[R],delete E[R]}else if(_.includes("@type")){const R=Ze.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let M;switch([A,...M]=hc(E[R]||[]),M.length){case 0:delete E[R];break;case 1:E[R]=M[0];break;default:E[R]=M;break}Object.keys(E).length===1&&"@id"in p&&(E=await Ze.compact({activeCtx:e,activeProperty:g,element:{"@id":p["@id"]},options:r}))}A||(A=Ze.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Kn(N,A,E,{propertyIsArray:_.includes("@set")})}else{const N=!r.compactArrays||_.includes("@set")||_.includes("@list")||Ji(E)&&E.length===0||f==="@list"||f==="@graph";Kn(v,g,E,{propertyIsArray:N})}}}return s}return n};Ze.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:i=!1,base:a=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const s=e.getInverse();if(rC(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(r.vocab&&t in s){const d=e["@language"]||"@none",f=[];da(n)&&"@index"in n&&!("@graph"in n)&&f.push("@index","@index@set"),da(n)&&"@preserve"in n&&(n=n["@preserve"][0]),tC(n)?("@index"in n&&f.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&f.push("@graph@id","@graph@id@set"),f.push("@graph","@graph@set","@set"),"@index"in n||f.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||f.push("@graph@id","@graph@id@set")):da(n)&&!Pi(n)&&f.push("@id","@id@set","@type","@set@type");let h="@language",p="@null";if(i)h="@type",p="@reverse",f.push("@set");else if(Kg(n)){"@index"in n||f.push("@list");const m=n["@list"];if(m.length===0)h="@any",p="@none";else{let v=m.length===0?d:null,_=null;for(let x=0;x<m.length;++x){const I=m[x];let S="@none",E="@none";if(Pi(I))if("@direction"in I){const N=(I["@language"]||"").toLowerCase(),A=I["@direction"];S=`${N}_${A}`}else"@language"in I?S=I["@language"].toLowerCase():"@type"in I?E=I["@type"]:S="@null";else E="@id";if(v===null?v=S:S!==v&&Pi(I)&&(v="@none"),_===null?_=E:E!==_&&(_="@none"),v==="@none"&&_==="@none")break}v=v||"@none",_=_||"@none",_!=="@none"?(h="@type",p=_):p=v}}else{if(Pi(n))if("@language"in n&&!("@index"in n)){f.push("@language","@language@set"),p=n["@language"];const m=n["@direction"];m&&(p=`${p}_${m}`)}else"@direction"in n&&!("@index"in n)?p=`_${n["@direction"]}`:"@type"in n&&(h="@type",p=n["@type"]);else h="@type",p="@id";f.push("@set")}f.push("@none"),da(n)&&!("@index"in n)&&f.push("@index","@index@set"),Pi(n)&&Object.keys(n).length===1&&f.push("@language","@language@set");const g=vU(e,t,n,f,h,p);if(g!==null)return g}if(r.vocab&&"@vocab"in e){const d=e["@vocab"];if(t.indexOf(d)===0&&t!==d){const f=t.substr(d.length);if(!e.mappings.has(f))return f}}let o=null;const l=[];let u=e.fastCurieMap;const c=t.length-1;for(let d=0;d<c&&t[d]in u;++d)u=u[t[d]],""in u&&l.push(u[""][0]);for(let d=l.length-1;d>=0;--d){const f=l[d],h=f.terms;for(const p of h){const g=p+":"+t.substr(f.iri.length);e.mappings.get(p)._prefix&&(!e.mappings.has(g)||n===null&&e.mappings.get(g)["@id"]===t)&&(o===null||gU(g,o)<0)&&(o=g)}}if(o!==null)return o;for(const[d,f]of e.mappings)if(f&&f._prefix&&t.startsWith(d+":"))throw new Ov(`Absolute IRI "${t}" confused with prefix "${d}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!r.vocab)if("@base"in e)if(e["@base"]){const d=n0(hU(a,e["@base"]),t);return pU.test(d)?`./${d}`:d}else return t;else return n0(a,t);return t};Ze.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(Pi(n)){const o=En(e,t,"@type"),l=En(e,t,"@language"),u=En(e,t,"@direction"),c=En(e,t,"@container")||[],d="@index"in n&&!c.includes("@index");if(!d&&o!=="@none"&&(n["@type"]===o||"@language"in n&&n["@language"]===l&&"@direction"in n&&n["@direction"]===u||"@language"in n&&n["@language"]===l||"@direction"in n&&n["@direction"]===u))return n["@value"];const f=Object.keys(n).length,h=f===1||f===2&&"@index"in n&&!d,p="@language"in e,g=eC(n["@value"]),m=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(h&&o!=="@none"&&(!p||!g||m))return n["@value"];const v={};return d&&(v[Ze.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?v[Ze.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=Ze.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(v[Ze.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(v[Ze.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),v[Ze.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],v}const i=nC(e,t,{vocab:!0},r),a=En(e,t,"@type"),s=Ze.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:a==="@vocab"},base:r.base});return a==="@id"||a==="@vocab"||i==="@graph"?s:{[Ze.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}};function vU(e,t,n,r,i,a){a===null&&(a="@null");const s=[];if((a==="@id"||a==="@reverse")&&da(n)&&"@id"in n){a==="@reverse"&&s.push("@reverse");const l=Ze.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const l=s.find(u=>u.includes("_"));l&&s.push(l.replace(/^[^_]+_/,"_"))}s.push("@none");const o=e.inverse[t];for(const l of r){if(!(l in o))continue;const u=o[l][i];for(const c of s)if(c in u)return u[c]}return null}function r0(e,t,n){if(nC(e,t,{vocab:!0},n)!=="@nest")throw new Ov("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var xp,i0;function yU(){return i0||(i0=1,xp=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(n,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(n,r)},t.expand=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(n)},t.flatten=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(n)},t}),xp}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const a0=Nv,s0=a2,Xi=xr,Ei=y2,Sp=Xi.IdentifierIssuer,qr=wr,bU=V1,pc=_2,{expand:_U}=O2,{flatten:wU}=$2,{fromRDF:xU}=U2,{toRDF:SU}=rU,{frameMergedOrDefault:EU,cleanupNull:IU}=lU,{isArray:Ps,isObject:$a,isString:Jr}=rr,{isSubjectReference:CU}=zi,{expandIri:TU,getInitialContext:gc,process:o0,processingMode:Ep}=Ss,{compact:AU,compactIri:NU}=mU,{createNodeMap:RU,createMergedNodeMap:DU,mergeNodeMaps:kU}=Gf,{logEventHandler:OU,logWarningEventHandler:PU,safeEventHandler:LU,setDefaultEventHandler:FU,setupEventHandler:jU,strictEventHandler:$U,unhandledEventHandler:VU}=Iu,iC=function(e){const t={},r=new bU({max:100});e.compact=async function(a,s,o){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(s===null)throw new qr("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(a===null)return null;o=i(o,{base:Jr(a)?a:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new Sp("_:b"),contextResolver:new Ei({sharedCache:r})}),o.link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base;let l;o.skipExpansion?l=a:l=await e.expand(a,o);const u=await e.processContext(gc(o),s,o);let c=await AU({activeCtx:u,element:l,options:o});o.compactArrays&&!o.graph&&Ps(c)?c.length===1?c=c[0]:c.length===0&&(c={}):o.graph&&$a(c)&&(c=[c]),$a(s)&&"@context"in s&&(s=s["@context"]),s=Xi.clone(s),Ps(s)||(s=[s]);const d=s;s=[];for(let h=0;h<d.length;++h)(!$a(d[h])||Object.keys(d[h]).length>0)&&s.push(d[h]);const f=s.length>0;if(s.length===1&&(s=s[0]),Ps(c)){const h=NU({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),p=c;c={},f&&(c["@context"]=s),c[h]=p}else if($a(c)&&f){const h=c;c={"@context":s};for(const p in h)c[p]=h[p]}return c},e.expand=async function(a,s){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");s=i(s,{keepFreeFloatingNodes:!1,contextResolver:new Ei({sharedCache:r})});const o={},l=[];if("expandContext"in s){const f=Xi.clone(s.expandContext);$a(f)&&"@context"in f?o.expandContext=f:o.expandContext={"@context":f},l.push(o.expandContext)}let u;if(!Jr(a))o.input=Xi.clone(a);else{const f=await e.get(a,s);u=f.documentUrl,o.input=f.document,f.contextUrl&&(o.remoteContext={"@context":f.contextUrl},l.push(o.remoteContext))}"base"in s||(s.base=u||"");let c=gc(s);for(const f of l)c=await o0({activeCtx:c,localCtx:f,options:s});let d=await _U({activeCtx:c,element:o.input,options:s});return $a(d)&&"@graph"in d&&Object.keys(d).length===1?d=d["@graph"]:d===null&&(d=[]),Ps(d)||(d=[d]),d},e.flatten=async function(a,s,o){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof s=="function"?s=null:s=s||null,o=i(o,{base:Jr(a)?a:"",contextResolver:new Ei({sharedCache:r})});const l=await e.expand(a,o),u=wU(l);return s===null?u:(o.graph=!0,o.skipExpansion=!0,await e.compact(u,s,o))},e.frame=async function(a,s,o){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(o=i(o,{base:Jr(a)?a:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new Ei({sharedCache:r})}),Jr(s)){const m=await e.get(s,o);if(s=m.document,m.contextUrl){let v=s["@context"];v?Ps(v)?v.push(m.contextUrl):v=[v,m.contextUrl]:v=m.contextUrl,s["@context"]=v}}const l=s?s["@context"]||{}:{},u=await e.processContext(gc(o),l,o);o.hasOwnProperty("omitGraph")||(o.omitGraph=Ep(u,1.1)),o.hasOwnProperty("pruneBlankNodeIdentifiers")||(o.pruneBlankNodeIdentifiers=Ep(u,1.1));const c=await e.expand(a,o),d={...o};d.isFrame=!0,d.keepFreeFloatingNodes=!0;const f=await e.expand(s,d),h=Object.keys(s).map(m=>TU(u,m,{vocab:!0}));d.merged=!h.includes("@graph"),d.is11=Ep(u,1.1);const p=EU(c,f,d);d.graph=!o.omitGraph,d.skipExpansion=!0,d.link={},d.framing=!0;let g=await e.compact(p,l,d);return d.link={},g=IU(g,d),g},e.link=async function(a,s,o){const l={};return s&&(l["@context"]=s),l["@embed"]="@link",e.frame(a,l,o)},e.normalize=e.canonize=async function(a,s){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(s=i(s,{base:Jr(a)?a:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new Ei({sharedCache:r})}),"inputFormat"in s){if(s.inputFormat!=="application/n-quads"&&s.inputFormat!=="application/nquads")throw new qr("Unknown canonicalization input format.","jsonld.CanonizeError");const u=pc.parse(a);return a0.canonize(u,s)}const o={...s};delete o.format,o.produceGeneralizedRdf=!1;const l=await e.toRDF(a,o);return a0.canonize(l,s)},e.fromRDF=async function(a,s){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");s=i(s,{format:Jr(a)?"application/n-quads":void 0});const{format:o}=s;let{rdfParser:l}=s;if(o){if(l=l||t[o],!l)throw new qr("Unknown input format.","jsonld.UnknownFormat",{format:o})}else l=()=>a;const u=await l(a);return xU(u,s)},e.toRDF=async function(a,s){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");s=i(s,{base:Jr(a)?a:"",skipExpansion:!1,contextResolver:new Ei({sharedCache:r})});let o;s.skipExpansion?o=a:o=await e.expand(a,s);const l=SU(o,s);if(s.format){if(s.format==="application/n-quads"||s.format==="application/nquads")return pc.serialize(l);throw new qr("Unknown output format.","jsonld.UnknownFormat",{format:s.format})}return l},e.createNodeMap=async function(a,s){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");s=i(s,{base:Jr(a)?a:"",contextResolver:new Ei({sharedCache:r})});const o=await e.expand(a,s);return DU(o,s)},e.merge=async function(a,s,o){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Ps(a))throw new TypeError('Could not merge, "docs" must be an array.');typeof s=="function"?s=null:s=s||null,o=i(o,{contextResolver:new Ei({sharedCache:r})});const l=await Promise.all(a.map(m=>{const v={...o};return e.expand(m,v)}));let u=!0;"mergeNodes"in o&&(u=o.mergeNodes);const c=o.issuer||new Sp("_:b"),d={"@default":{}};for(let m=0;m<l.length;++m){const v=Xi.relabelBlankNodes(l[m],{issuer:new Sp("_:b"+m+"-")}),_=u||m===0?d:{"@default":{}};if(RU(v,_,"@default",c),_!==d)for(const x in _){const I=_[x];if(!(x in d)){d[x]=I;continue}const S=d[x];for(const E in I)E in S||(S[E]=I[E])}}const f=kU(d),h=[],p=Object.keys(f).sort();for(let m=0;m<p.length;++m){const v=f[p[m]];CU(v)||h.push(v)}return s===null?h:(o.graph=!0,o.skipExpansion=!0,await e.compact(h,s,o))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:a=>e._documentLoader=a}),e.documentLoader=async a=>{throw new qr("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:a})},e.get=async function(a,s){let o;typeof s.documentLoader=="function"?o=s.documentLoader:o=e.documentLoader;const l=await o(a);try{if(!l.document)throw new qr("No remote document found at the given URL.","jsonld.NullRemoteDocument");Jr(l.document)&&(l.document=JSON.parse(l.document))}catch(u){throw new qr("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:l})}return l},e.processContext=async function(a,s,o){return o=i(o,{base:"",contextResolver:new Ei({sharedCache:r})}),s===null?gc(o):(s=Xi.clone(s),$a(s)&&"@context"in s||(s={"@context":s}),o0({activeCtx:a,localCtx:s,options:o}))},e.getContextValue=Ss.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(a){if(!(a in e.documentLoaders))throw new qr('Unknown document loader type: "'+a+'"',"jsonld.UnknownDocumentLoader",{type:a});e.documentLoader=e.documentLoaders[a].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(a,s){t[a]=s},e.unregisterRDFParser=function(a){delete t[a]},e.registerRDFParser("application/n-quads",pc.parse),e.registerRDFParser("application/nquads",pc.parse),e.url=Ia,e.logEventHandler=OU,e.logWarningEventHandler=PU,e.safeEventHandler=LU,e.setDefaultEventHandler=FU,e.strictEventHandler=$U,e.unhandledEventHandler=VU,e.util=Xi,Object.assign(e,Xi),e.promises=e,e.RequestQueue=j1(),e.JsonLdProcessor=yU()(e),s0.setupGlobals(e),s0.setupDocumentLoaders(e);function i(a,{documentLoader:s=e.documentLoader,...o}){if(a&&"compactionMap"in a)throw new qr('"compactionMap" not supported.',"jsonld.OptionsError");if(a&&"expansionMap"in a)throw new qr('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:s},o,a,{eventHandler:jU({options:a})})}return e},Pv=function(){return iC(function(){return Pv()})};iC(Pv);var MU=Pv;const mc=Zd(MU);class qa extends kt.Readable{constructor(t,{baseIRI:n,compact:r,context:i={},encoding:a="object",flatten:s,frame:o,prettyPrint:l,skipContext:u}={}){super({objectMode:!0,read:()=>{}}),this.compact=r,this.context=i,this.encoding=a,this.flatten=s,this.frame=o,this.prettyPrint=l,this.skipContext=u,n&&(this.context["@base"]=n.value||n.toString()),t.on("prefix",(c,d)=>{this.context[c]||(this.context[c]=d.value)}),this.handleData(t)}async handleData(t){try{const n=(await hv(t)).map(qa.toJsonldQuad),r=await mc.fromRDF(n),i=await this.transform(r,this.options);this.push(i),this.push(null)}catch(n){this.emit("error",n)}}async transform(t){return this.compact&&(t=await mc.compact(t,this.context)),this.flatten&&(t=await mc.flatten(t,this.context)),this.frame&&(t=await mc.frame(t,this.context)),this.skipContext&&t["@context"]&&delete t["@context"],this.encoding==="string"?this.prettyPrint?JSON.stringify(t,null,2):JSON.stringify(t):t}static toJsonldQuad(t){return{subject:qa.toJsonldTerm(t.subject),predicate:qa.toJsonldTerm(t.predicate),object:qa.toJsonldTerm(t.object),graph:qa.toJsonldTerm(t.graph)}}static toJsonldTerm(t){return t.termType==="BlankNode"?{termType:"BlankNode",value:`_:${t.value}`}:t}}class BU extends Io{constructor(t){super(qa,t)}}class UU extends BU{constructor({...t}={}){super({...t,compact:!0,encoding:"string",prettyPrint:!0})}}var aC={},mo={},fs={},sC={};(function(e){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r ---`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,n=10,r=13,i=32;e.S_LIST=[i,n,r,t];function a(u){return u>=i&&u<=55295||u===n||u===r||u===t||u>=57344&&u<=65533||u>=65536&&u<=1114111}e.isChar=a;function s(u){return u===i||u===n||u===r||u===t}e.isS=s;function o(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}e.isNameStartChar=o;function l(u){return o(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}e.isNameChar=l})(sC);var oC={};(function(e){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="---",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,n=10,r=13,i=32;e.S_LIST=[i,n,r,t];function a(d){return d>=1&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isChar=a;function s(d){return d>=1&&d<=8||d===11||d===12||d>=14&&d<=31||d>=127&&d<=132||d>=134&&d<=159}e.isRestrictedChar=s;function o(d){return d===9||d===10||d===13||d>31&&d<127||d===133||d>159&&d<=55295||d>=57344&&d<=65533||d>=65536&&d<=1114111}e.isCharAndNotRestricted=o;function l(d){return d===i||d===n||d===r||d===t}e.isS=l;function u(d){return d>=65&&d<=90||d>=97&&d<=122||d===58||d===95||d===8204||d===8205||d>=192&&d<=214||d>=216&&d<=246||d>=248&&d<=767||d>=880&&d<=893||d>=895&&d<=8191||d>=8304&&d<=8591||d>=11264&&d<=12271||d>=12289&&d<=55295||d>=63744&&d<=64975||d>=65008&&d<=65533||d>=65536&&d<=983039}e.isNameStartChar=u;function c(d){return u(d)||d>=48&&d<=57||d===45||d===46||d===183||d>=768&&d<=879||d>=8255&&d<=8256}e.isNameChar=c})(oC);var lC={};(function(e){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-z------------",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9--",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u");function t(r){return r>=65&&r<=90||r===95||r>=97&&r<=122||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}e.isNCNameStartChar=t;function n(r){return t(r)||r===45||r===46||r>=48&&r<=57||r===183||r>=768&&r<=879||r>=8255&&r<=8256}e.isNCNameChar=n})(lC);Object.defineProperty(fs,"__esModule",{value:!0});fs.SaxesParser=fs.EVENTS=void 0;const Do=sC,HU=oC,Lv=lC;var Pn=Do.isS,GU=Do.isChar,fl=Do.isNameStartChar,l0=Do.isNameChar,uC=Do.S_LIST,WU=Do.NAME_RE,zU=HU.isChar,KU=Lv.isNCNameStartChar,qU=Lv.isNCNameChar,JU=Lv.NC_NAME_RE;const Gc="http://www.w3.org/XML/1998/namespace",Ks="http://www.w3.org/2000/xmlns/",YU={__proto__:null,xml:Gc,xmlns:Ks},QU={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Ot=-1,Yr=-2,u0=0,XU=1,Ip=2,ZU=3,Ls=4,eH=5,tH=6,nH=7,Cp=8,rH=9,iH=10,aH=11,sH=12,_n=13,vc=14,Tp=15,oH=16,Ap=17,lH=18,uH=19,Np=20,cH=21,dH=22,fH=23,c0=24,Rp=25,yc=26,d0=27,hH=28,pH=29,f0=30,gH=31,mH=32,Va=33,vH=34,Dp=35,hl=36,kp=37,yH=38,h0=39,p0=40,bH=41,g0=42,_H=43,wH=44,Op=9,Tr=10,Pp=13,m0=32,v0=33,cC=34,xl=38,dC=39,bc=45,_c=47,xH=59,aa=60,Bs=61,Jt=62,on=63,fC=91,Us=93,y0=133,b0=8232,wc=e=>e===cC||e===dC,hC=[cC,dC],SH=[...hC,fC,Jt],EH=[...hC,aa,Us],IH=[Bs,on,...uC],CH=[...uC,Jt,xl,aa];function qg(e,t,n){switch(t){case"xml":n!==Gc&&e.fail(`xml prefix must be bound to ${Gc}.`);break;case"xmlns":n!==Ks&&e.fail(`xmlns prefix must be bound to ${Ks}.`);break}switch(n){case Ks:e.fail(t===""?`the default namespace may not be set to ${n}.`:`may not assign a prefix (even "xmlns") to the URI ${Ks}.`);break;case Gc:switch(t){case"xml":break;case"":e.fail(`the default namespace may not be set to ${n}.`);break;default:e.fail("may not assign the xml namespace to another prefix.")}break}}function TH(e,t){for(const n of Object.keys(t))qg(e,n,t[n])}const AH=e=>JU.test(e),NH=e=>WU.test(e),Ma=0,_0=1,Lp=2;fs.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const w0={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class RH{get closed(){return this._closed}constructor(t){this.opt=t??{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,n){this.nameStartCheck=KU,this.nameCheck=qU,this.isName=AH,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},YU);const r=this.opt.additionalNamespaces;r!=null&&(TH(this,r),Object.assign(this.ns,r))}else this.nameStartCheck=fl,this.nameCheck=l0,this.isName=NH,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ma,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?_n:u0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:r}=this.opt;if(r===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");r="1.0"}this.setXMLVersion(r),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(QU),(t=this.readyHandler)===null||t===void 0||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[w0[t]]=n}off(t){this[w0[t]]=void 0}makeError(t){var n;let r=(n=this.fileName)!==null&&n!==void 0?n:"";return this.trackPosition&&(r.length>0&&(r+=":"),r+=`${this.line}:${this.column}`),r.length>0&&(r+=": "),new Error(r+t)}fail(t){const n=this.makeError(t),r=this.errorHandler;if(r===void 0)throw n;return r(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;t===null?(n=!0,t=""):typeof t=="object"&&(t=t.toString()),this.carriedFromPrevious!==void 0&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let r=t.length;const i=t.charCodeAt(r-1);!n&&(i===Pp||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[r-1],r--,t=t.slice(0,r));const{stateTable:a}=this;for(this.chunk=t,this.i=0;this.i<r;)a[this.state].call(this);return this.chunkPosition+=r,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return Ot;const r=t.charCodeAt(n);if(this.column++,r<55296){if(r>=m0||r===Op)return r;switch(r){case Tr:return this.line++,this.column=0,this.positionAtNewLine=this.position,Tr;case Pp:return t.charCodeAt(n+1)===Tr&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,Yr;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+(r-55296)*1024+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return Ot;const r=t.charCodeAt(n);if(this.column++,r<55296){if(r>31&&r<127||r>159&&r!==b0||r===Op)return r;switch(r){case Tr:return this.line++,this.column=0,this.positionAtNewLine=this.position,Tr;case Pp:{const a=t.charCodeAt(n+1);(a===Tr||a===y0)&&(this.i=n+2)}case y0:case b0:return this.line++,this.column=0,this.positionAtNewLine=this.position,Yr;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+(r-55296)*1024+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i}getCodeNorm(){const t=this.getCode();return t===Yr?Tr:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:r}=this;for(;;){const i=this.getCode(),a=i===Yr,s=a?Tr:i;if(s===Ot||t.includes(s))return this.text+=r.slice(n,this.prevI),s;a&&(this.text+=`${r.slice(n,this.prevI)}
`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:r}=this;for(;;){let i=this.getCode();switch(i){case Yr:this.text+=`${r.slice(n,this.prevI)}
`,n=this.i,i=Tr;break;case Ot:return this.text+=r.slice(n),!1}if(i===t)return this.text+=r.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const r=this.getCode();if(r===Ot)return this.name+=t.slice(n),Ot;if(!l0(r))return this.name+=t.slice(n,this.prevI),r===Yr?Tr:r}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===Ot||!Pn(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,t==="1.0"?(this.isChar=GU,this.getCode=this.getCode10):(this.isChar=zU,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=XU}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case aa:if(this.state=Tp,this.text.length!==0)throw new Error("no-empty text at start");break;case Ot:break;default:this.unget(),this.state=_n,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(SH);switch(n){case Jt:{(t=this.doctypeHandler)===null||t===void 0||t.call(this,this.text),this.text="",this.state=_n,this.doctype=!0;break}case Ot:break;default:this.text+=String.fromCodePoint(n),n===fC?this.state=Ls:wc(n)&&(this.state=ZU,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=Ip)}sDTD(){const t=this.captureTo(EH);t!==Ot&&(this.text+=String.fromCodePoint(t),t===Us?this.state=Ip:t===aa?this.state=tH:wc(t)&&(this.state=eH,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=Ls,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case v0:this.state=nH,this.openWakaBang="";break;case on:this.state=aH;break;default:this.state=Ls}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,n!=="-"&&(this.state=n==="--"?Cp:Ls,this.openWakaBang="")}sDTDComment(){this.captureToChar(bc)&&(this.text+="-",this.state=rH)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===bc?iH:Cp}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Jt?this.state=Ls:(this.fail("malformed comment."),this.state=Cp)}sDTDPI(){this.captureToChar(on)&&(this.text+="?",this.state=sH)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Jt&&(this.state=Ls)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;e:for(;;)switch(this.getCode()){case Yr:this.entity+=`${n.slice(t,this.prevI)}
`,t=this.i;break;case xH:{const{entityReturnState:r}=this,i=this.entity+n.slice(t,this.prevI);this.state=r;let a;i===""?(this.fail("empty entity name."),a="&;"):(a=this.parseEntity(i),this.entity=""),(r!==_n||this.textHandler!==void 0)&&(this.text+=a);break e}case Ot:this.entity+=n.slice(t);break e}}sOpenWaka(){const t=this.getCode();if(fl(t))this.state=vH,this.unget(),this.xmlDeclPossible=!1;else switch(t){case _c:this.state=_H,this.xmlDeclPossible=!1;break;case v0:this.state=oH,this.openWakaBang="",this.xmlDeclPossible=!1;break;case on:this.state=fH;break;default:this.fail("disallowed character in tag name"),this.state=_n,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Np,this.openWakaBang="";break;case"--":this.state=Ap,this.openWakaBang="";break;case"DOCTYPE":this.state=Ip,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(bc)&&(this.state=lH)}sCommentEnding(){var t;const n=this.getCodeNorm();n===bc?(this.state=uH,(t=this.commentHandler)===null||t===void 0||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=Ap)}sCommentEnded(){const t=this.getCodeNorm();t!==Jt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=Ap):this.state=_n}sCData(){this.captureToChar(Us)&&(this.state=cH)}sCDataEnding(){const t=this.getCodeNorm();t===Us?this.state=dH:(this.text+=`]${String.fromCodePoint(t)}`,this.state=Np)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Jt:{(t=this.cdataHandler)===null||t===void 0||t.call(this,this.text),this.text="",this.state=_n;break}case Us:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=Np}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=c0):t===on||Pn(t)?(this.fail("processing instruction without a target."),this.state=t===on?yc:Rp):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=c0)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===Ot){this.piTarget+=t.slice(n);return}if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const i=r===on;i||Pn(r)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?Va:d0):this.state=i?yc:Rp:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(this.text.length===0){const t=this.getCodeNorm();t===on?this.state=yc:Pn(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(on)&&(this.state=yc)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Jt){const{piTarget:r}=this;r.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(t=this.piHandler)===null||t===void 0||t.call(this,{target:r,body:this.text}),this.piTarget=this.text="",this.state=_n}else n===on?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=Rp);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();if(t===on){this.state=Va;return}t!==Ot&&(this.state=hH,this.name=String.fromCodePoint(t))}sXMLDeclName(){const t=this.captureTo(IH);if(t===on){this.state=Va,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(Pn(t)||t===Bs){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===Bs?f0:pH}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===on){this.state=Va,this.fail("XML declaration is incomplete.");return}Pn(t)||(t!==Bs&&this.fail("value required."),this.state=f0)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===on){this.state=Va,this.fail("XML declaration is incomplete.");return}Pn(t)||(wc(t)?this.q=t:(this.fail("value must be quoted."),this.q=m0),this.state=gH)}sXMLDeclValue(){const t=this.captureTo([this.q,on]);if(t===on){this.state=Va,this.text="",this.fail("XML declaration is incomplete.");return}if(t===Ot)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const r=n;this.xmlDecl.version=r,/^1\.[0-9]+$/.test(r)?this.opt.forceXMLVersion||this.setXMLVersion(r):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":n!=="yes"&&n!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n;break}this.name="",this.state=mH}sXMLDeclSeparator(){const t=this.getCodeNorm();if(t===on){this.state=Va;return}Pn(t)||(this.fail("whitespace required."),this.unget()),this.state=d0}sXMLDeclEnding(){var t;this.getCodeNorm()===Jt?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(t=this.xmldeclHandler)===null||t===void 0||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=_n):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===Ot)return;const r=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=Object.create(null)),(t=this.openTagStartHandler)===null||t===void 0||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Jt:this.openTag();break;case _c:this.state=Dp;break;default:Pn(n)||this.fail("disallowed character in tag name."),this.state=hl}}sOpenTagSlash(){this.getCode()===Jt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=hl)}sAttrib(){const t=this.skipSpaces();t!==Ot&&(fl(t)?(this.unget(),this.state=kp):t===Jt?this.openTag():t===_c?this.state=Dp:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===Bs?this.state=h0:Pn(t)?this.state=yH:t===Jt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==Ot&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case Ot:return;case Bs:this.state=h0;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Jt?this.openTag():fl(t)?(this.unget(),this.state=kp):(this.fail("disallowed character in attribute name."),this.state=hl)}}sAttribValue(){const t=this.getCodeNorm();wc(t)?(this.q=t,this.state=p0):Pn(t)||(this.fail("unquoted attribute value."),this.state=g0,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:r}=this;for(;;)switch(this.getCode()){case t:this.pushAttrib(this.name,this.text+n.slice(r,this.prevI)),this.name=this.text="",this.q=null,this.state=bH;return;case xl:this.text+=n.slice(r,this.prevI),this.state=vc,this.entityReturnState=p0;return;case Tr:case Yr:case Op:this.text+=`${n.slice(r,this.prevI)} `,r=this.i;break;case aa:this.text+=n.slice(r,this.prevI),this.fail("disallowed character.");return;case Ot:this.text+=n.slice(r);return}}sAttribValueClosed(){const t=this.getCodeNorm();Pn(t)?this.state=hl:t===Jt?this.openTag():t===_c?this.state=Dp:fl(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=kp):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(CH);switch(t){case xl:this.state=vc,this.entityReturnState=g0;break;case aa:this.fail("disallowed character.");break;case Ot:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Jt?this.openTag():this.state=hl}}sCloseTag(){const t=this.captureNameChars();t===Jt?this.closeTag():Pn(t)?this.state=wH:t!==Ot&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Jt:this.closeTag();break;case Ot:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:r,textHandler:i}=this;e:for(;;)switch(this.getCode()){case aa:{if(this.state=Tp,i!==void 0){const{text:a}=this,s=r.slice(t,this.prevI);a.length!==0?(i(a+s),this.text=""):s.length!==0&&i(s)}n=Ma;break e}case xl:this.state=vc,this.entityReturnState=_n,i!==void 0&&(this.text+=r.slice(t,this.prevI)),n=Ma;break e;case Us:switch(n){case Ma:n=_0;break;case _0:n=Lp;break;case Lp:break;default:throw new Error("impossible state")}break;case Jt:n===Lp&&this.fail('the string "]]>" is disallowed in char data.'),n=Ma;break;case Yr:i!==void 0&&(this.text+=`${r.slice(t,this.prevI)}
`),t=this.i,n=Ma;break;case Ot:i!==void 0&&(this.text+=r.slice(t));break e;default:n=Ma}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let i=!1;e:for(;;){const a=this.getCode();switch(a){case aa:{if(this.state=Tp,r!==void 0){const{text:s}=this,o=n.slice(t,this.prevI);s.length!==0?(r(s+o),this.text=""):o.length!==0&&r(o)}break e}case xl:this.state=vc,this.entityReturnState=_n,r!==void 0&&(this.text+=n.slice(t,this.prevI)),i=!0;break e;case Yr:r!==void 0&&(this.text+=`${n.slice(t,this.prevI)}
`),t=this.i;break;case Ot:r!==void 0&&(this.text+=n.slice(t));break e;default:Pn(a)||(i=!0)}}i&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var r;const{prefix:i,local:a}=this.qname(t),s={name:t,prefix:i,local:a,value:n};if(this.attribList.push(s),(r=this.attributeHandler)===null||r===void 0||r.call(this,s),i==="xmlns"){const o=n.trim();this.currentXMLVersion==="1.0"&&o===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[a]=o,qg(this,a,o)}else if(t==="xmlns"){const o=n.trim();this.topNS[""]=o,qg(this,"",o)}}pushAttribPlain(t,n){var r;const i={name:t,value:n};this.attribList.push(i),(r=this.attributeHandler)===null||r===void 0||r.call(this,i)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:r}=this;for(;r.length>0;){const a=r.pop();this.fail(`unclosed tag: ${a.name}`)}this.state!==u0&&this.state!==_n&&this.fail("unexpected end.");const{text:i}=this;return i.length!==0&&((t=this.textHandler)===null||t===void 0||t.call(this,i),this.text=""),this._closed=!0,(n=this.endHandler)===null||n===void 0||n.call(this),this._init(),this}resolve(t){var n,r;let i=this.topNS[t];if(i!==void 0)return i;const{tags:a}=this;for(let s=a.length-1;s>=0;s--)if(i=a[s].ns[t],i!==void 0)return i;return i=this.ns[t],i!==void 0?i:(r=(n=this.opt).resolvePrefix)===null||r===void 0?void 0:r.call(n,t)}qname(t){const n=t.indexOf(":");if(n===-1)return{prefix:"",local:t};const r=t.slice(n+1),i=t.slice(0,n);return(i===""||r===""||r.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:i,local:r}}processAttribsNS(){var t;const{attribList:n}=this,r=this.tag;{const{prefix:s,local:o}=this.qname(r.name);r.prefix=s,r.local=o;const l=r.uri=(t=this.resolve(s))!==null&&t!==void 0?t:"";s!==""&&(s==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),l===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(s)}.`),r.uri=s))}if(n.length===0)return;const{attributes:i}=r,a=new Set;for(const s of n){const{name:o,prefix:l,local:u}=s;let c,d;l===""?(c=o==="xmlns"?Ks:"",d=o):(c=this.resolve(l),c===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(l)}.`),c=l),d=`{${c}}${u}`),a.has(d)&&this.fail(`duplicate attribute: ${d}.`),a.add(d),s.uri=c,i[o]=s}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:r,value:i}of t)n[r]!==void 0&&this.fail(`duplicate attribute: ${r}.`),n[r]=i;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,r=this.tag;r.isSelfClosing=!1,(t=this.openTagHandler)===null||t===void 0||t.call(this,r),n.push(r),this.state=_n,this.name=""}openSelfClosingTag(){var t,n,r;this.processAttribs();const{tags:i}=this,a=this.tag;a.isSelfClosing=!0,(t=this.openTagHandler)===null||t===void 0||t.call(this,a),(n=this.closeTagHandler)===null||n===void 0||n.call(this,a),(this.tag=(r=i[i.length-1])!==null&&r!==void 0?r:null)===null&&(this.closedRoot=!0),this.state=_n,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=_n,this.name="",n===""){this.fail("weird empty close tag."),this.text+="</>";return}const r=this.closeTagHandler;let i=t.length;for(;i-- >0;){const a=this.tag=t.pop();if(this.topNS=a.ns,r==null||r(a),a.name===n)break;this.fail("unexpected close tag.")}i===0?this.closedRoot=!0:i<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if(t[0]!=="#"){const r=this.ENTITIES[t];return r!==void 0?r:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return t[1]==="x"&&/^#x[0-9a-f]+$/i.test(t)?n=parseInt(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=parseInt(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}fs.SaxesParser=RH;var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.ParseError=void 0;let DH=class extends Error{constructor(t,n){const r=t.saxParser;super(t.trackPosition?`Line ${r.line} column ${r.column+1}: ${n}`:n)}};Wf.ParseError=DH;var Fv={},pC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;function t(){const o="[!$&'()*+,;=]",l="%[a-fA-F0-9]{2}",u="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c=`${u}\\.${u}\\.${u}\\.${u}`,d="[a-fA-F0-9]{1,4}",f=`(${d}:${d}|${c})`,h=`((${d}:){6}${f}|::(${d}:){5}${f}|(${d})?::(${d}:){4}${f}|((${d}:){0,1}${d})?::(${d}:){3}${f}|((${d}:){0,2}${d})?::(${d}:){2}${f}|((${d}:){0,3}${d})?::${d}:${f}|((${d}:){0,4}${d})?::${f}|((${d}:){0,5}${d})?::${d}|((${d}:){0,6}${d})?::)`,p=`v[a-fA-F0-9]+\\.(${o}|${o}|":)+`,g=`\\[(${h}|${p})\\]`,m="[0-9]*",v="[a-zA-Z][a-zA-Z0-9+\\-.]*",x="[---]",E="[a-zA-Z0-9\\-._~-----------------]",N=`(${E}|${l}|${o}|[:@])*`,A=`(${N}|[\\/?])*`,R=`(${N}|${x}|[\\/?])*`,M=`(${N})+`,V=`(${N})*`,P="",F=`${M}(\\/${V})*`,U=`\\/(${M}(\\/${V})*)?`,J=`(\\/${V})*`,G=`(${E}|${l}|${o})*`,he=`(${g}|${c}|${G})`,re=`(\\/\\/${`(${`(${E}|${l}|${o}|:)*`}@)?${he}(:${m})?`}${J}|${U}|${F}|${P})`,W=`^${v}:${re}(\\?${R})?(#${A})?$`;return new RegExp(W,"u")}const n=t(),r=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var i;(function(s){s.Strict="strict",s.Pragmatic="pragmatic",s.None="none"})(i=e.IriValidationStrategy||(e.IriValidationStrategy={}));function a(s,o=i.Strict){switch(o){case i.Strict:return n.test(s)?void 0:new Error(`Invalid IRI according to RFC 3987: '${s}'`);case i.Pragmatic:return r.test(s)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${s}'`);case i.None:return;default:return new Error(`Not supported validation strategy "${o}"`)}}e.validateIri=a})(pC);(function(e){var t=tt&&tt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=tt&&tt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(pC,e)})(Fv);Object.defineProperty(mo,"__esModule",{value:!0});mo.ParseType=mo.RdfXmlParser=void 0;const x0=Co,kH=fs,S0=kt,OH=Wf,PH=wv,Fp=Fv;let Es=class jt extends S0.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},t&&(Object.assign(this,t),this.options=t),this.dataFactory||(this.dataFactory=new PH.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?Fp.IriValidationStrategy.Pragmatic:Fp.IriValidationStrategy.None),this.saxParser=new kH.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(t){const n=new S0.PassThrough({readableObjectMode:!0});t.on("error",i=>r.emit("error",i)),t.on("data",i=>n.push(i)),t.on("end",()=>n.push(null));const r=n.pipe(new jt(this.options));return r}_transform(t,n,r){try{this.saxParser.write(t)}catch(i){return r(i)}r()}newParseError(t){return new OH.ParseError(this,t)}valueToUri(t,n){return this.uriToNamedNode((0,x0.resolve)(t,n.baseIRI))}uriToNamedNode(t){const n=(0,Fp.validateIri)(t,this.iriValidationStrategy);if(n instanceof Error)throw this.newParseError(n.message);return this.dataFactory.namedNode(t)}validateNcname(t){if(!jt.NCNAME_MATCHER.test(t))throw this.newParseError(`Not a valid NCName: ${t}`)}attachSaxListeners(){this.saxParser.on("error",t=>this.emit("error",t)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(t){const n=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let r=Ai.RESOURCE;if(n&&(n.hadChildren=!0,r=n.childrenParseType),n&&n.childrenStringTags){const a=t.name;let s="";for(const c in t.attributes)s+=` ${c}="${t.attributes[c].value}"`;const l=`<${`${a}${s}`}>`;n.childrenStringTags.push(l);const u={childrenStringTags:n.childrenStringTags};u.childrenStringEmitClosingTag=`</${a}>`,this.activeTagStack.push(u);return}const i={};n?(i.language=n.language,i.baseIRI=n.baseIRI):i.baseIRI=this.baseIRI,this.activeTagStack.push(i),r===Ai.RESOURCE?this.onTagResource(t,i,n,!n):this.onTagProperty(t,i,n)}onTagResource(t,n,r,i){n.childrenParseType=Ai.PROPERTY;let a=!0;if(t.uri===jt.RDF){if(!i&&jt.FORBIDDEN_NODE_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal node element name: ${t.local}`);switch(t.local){case"RDF":n.childrenParseType=Ai.RESOURCE;case"Description":a=!1}}const s=[],o=[];let l=null,u=!1,c=!1,d=null;for(const f in t.attributes){const h=t.attributes[f];if(r&&h.uri===jt.RDF)switch(h.local){case"about":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${h.value} and ${l} where found.`);l=h.value;continue;case"ID":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${h.value} and ${l} where found.`);this.validateNcname(h.value),l="#"+h.value,u=!0;continue;case"nodeID":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${h.value} and ${l} where found.`);this.validateNcname(h.value),l=h.value,c=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":d=h.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(h.uri===jt.XML){if(h.local==="lang"){n.language=h.value===""?null:h.value.toLowerCase();continue}else if(h.local==="base"){n.baseIRI=(0,x0.resolve)(h.value,n.baseIRI);continue}}h.prefix!=="xml"&&h.prefix!=="xmlns"&&(h.prefix!==""||h.local!=="xmlns")&&h.uri&&(s.push(this.uriToNamedNode(h.uri+h.local)),o.push(h.value))}if(l!==null&&(n.subject=c?this.dataFactory.blankNode(l):this.valueToUri(l,n),u&&this.claimNodeId(n.subject)),n.subject||(n.subject=this.dataFactory.blankNode()),a){const f=this.uriToNamedNode(t.uri+t.local);this.emitTriple(n.subject,this.dataFactory.namedNode(jt.RDF+"type"),f,r?r.reifiedStatementId:null)}if(r){if(r.predicate)if(r.childrenCollectionSubject){const f=this.dataFactory.blankNode();this.emitTriple(r.childrenCollectionSubject,r.childrenCollectionPredicate,f,r.reifiedStatementId),this.emitTriple(f,this.dataFactory.namedNode(jt.RDF+"first"),n.subject,n.reifiedStatementId),r.childrenCollectionSubject=f,r.childrenCollectionPredicate=this.dataFactory.namedNode(jt.RDF+"rest")}else{this.emitTriple(r.subject,r.predicate,n.subject,r.reifiedStatementId);for(let f=0;f<r.predicateSubPredicates.length;f++)this.emitTriple(n.subject,r.predicateSubPredicates[f],r.predicateSubObjects[f],null);r.predicateSubPredicates=[],r.predicateSubObjects=[],r.predicateEmitted=!0}for(let f=0;f<s.length;f++){const h=this.dataFactory.literal(o[f],n.datatype||n.language);this.emitTriple(n.subject,s[f],h,r.reifiedStatementId)}d&&this.emitTriple(n.subject,this.dataFactory.namedNode(jt.RDF+"type"),this.uriToNamedNode(d),null)}}onTagProperty(t,n,r){if(n.childrenParseType=Ai.RESOURCE,n.subject=r.subject,t.uri===jt.RDF&&t.local==="li"?(r.listItemCounter||(r.listItemCounter=1),n.predicate=this.uriToNamedNode(t.uri+"_"+r.listItemCounter++)):n.predicate=this.uriToNamedNode(t.uri+t.local),t.uri===jt.RDF&&jt.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal property element name: ${t.local}`);n.predicateSubPredicates=[],n.predicateSubObjects=[];let i=!1,a=!1,s=null,o=!0;const l=[],u=[];for(const c in t.attributes){const d=t.attributes[c];if(d.uri===jt.RDF)switch(d.local){case"resource":if(s)throw this.newParseError(`Found both rdf:resource (${d.value}) and rdf:nodeID (${s}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${d.value})`);n.hadChildren=!0,s=d.value,o=!1;continue;case"datatype":if(a)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${d.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${d.value})`);n.datatype=this.valueToUri(d.value,n);continue;case"nodeID":if(a)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${d.value}).`);if(n.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${d.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${d.value})`);this.validateNcname(d.value),n.hadChildren=!0,s=d.value,o=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(a)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(n.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${n.datatype.value})`);if(s)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${s})`);if(d.value==="Resource"){i=!0,n.childrenParseType=Ai.PROPERTY;const f=this.dataFactory.blankNode();this.emitTriple(n.subject,n.predicate,f,n.reifiedStatementId),n.subject=f,n.predicate=null}else d.value==="Collection"?(i=!0,n.hadChildren=!0,n.childrenCollectionSubject=n.subject,n.childrenCollectionPredicate=n.predicate,o=!1):d.value==="Literal"&&(i=!0,n.childrenTagsToString=!0,n.childrenStringTags=[]);continue;case"ID":this.validateNcname(d.value),n.reifiedStatementId=this.valueToUri("#"+d.value,n),this.claimNodeId(n.reifiedStatementId);continue}else if(d.uri===jt.XML&&d.local==="lang"){n.language=d.value===""?null:d.value.toLowerCase();continue}if(d.prefix!=="xml"&&d.prefix!=="xmlns"&&(d.prefix!==""||d.local!=="xmlns")&&d.uri){if(i||n.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${d.value}`);n.hadChildren=!0,a=!0,l.push(this.uriToNamedNode(d.uri+d.local)),u.push(this.dataFactory.literal(d.value,n.datatype||n.language))}}if(s!==null){const c=n.subject;n.subject=o?this.dataFactory.blankNode(s):this.valueToUri(s,n),this.emitTriple(c,n.predicate,n.subject,n.reifiedStatementId);for(let d=0;d<l.length;d++)this.emitTriple(n.subject,l[d],u[d],null);n.predicateEmitted=!0}else o&&(n.predicateSubPredicates=l,n.predicateSubObjects=u,n.predicateEmitted=!1)}emitTriple(t,n,r,i){this.push(this.dataFactory.quad(t,n,r,this.defaultGraph)),i&&(this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(jt.RDF+"type"),this.dataFactory.namedNode(jt.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(jt.RDF+"subject"),t,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(jt.RDF+"predicate"),n,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(jt.RDF+"object"),r,this.defaultGraph)))}claimNodeId(t){if(!this.allowDuplicateRdfIds){if(this.nodeIds[t.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${t.value}'.`);this.nodeIds[t.value]=!0}}onText(t){const n=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;n&&(n.childrenStringTags?n.childrenStringTags.push(t):n.predicate&&(n.text=t))}onCloseTag(){const t=this.activeTagStack.pop();if(t.childrenStringEmitClosingTag&&t.childrenStringTags.push(t.childrenStringEmitClosingTag),t.childrenTagsToString&&(t.datatype=this.dataFactory.namedNode(jt.RDF+"XMLLiteral"),t.text=t.childrenStringTags.join(""),t.hadChildren=!1),t.childrenCollectionSubject)this.emitTriple(t.childrenCollectionSubject,t.childrenCollectionPredicate,this.dataFactory.namedNode(jt.RDF+"nil"),t.reifiedStatementId);else if(t.predicate){if(!t.hadChildren&&t.childrenParseType!==Ai.PROPERTY)this.emitTriple(t.subject,t.predicate,this.dataFactory.literal(t.text||"",t.datatype||t.language),t.reifiedStatementId);else if(!t.predicateEmitted){const n=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,n,t.reifiedStatementId);for(let r=0;r<t.predicateSubPredicates.length;r++)this.emitTriple(n,t.predicateSubPredicates[r],t.predicateSubObjects[r],null)}}}onDoctype(t){t.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(n,r,i)=>(this.saxParser.ENTITIES[r]=i,""))}};mo.RdfXmlParser=Es;Es.MIME_TYPE="application/rdf+xml";Es.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";Es.XML="http://www.w3.org/XML/1998/namespace";Es.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"];Es.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"];Es.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var Ai;(function(e){e[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"})(Ai||(mo.ParseType=Ai={}));(function(e){var t=tt&&tt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=tt&&tt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(mo,e)})(aC);let LH=class extends aC.RdfXmlParser{constructor({factory:t,...n}={}){super({...n,dataFactory:t})}};const FH=new ma([["application/ld+json",new s1],["application/trig",new oi],["application/n-quads",new oi],["application/n-triples",new oi],["text/n3",new oi],["text/turtle",new oi],["application/rdf+xml",new LH]]),jH=new ma([["application/ld+json",new wB],["application/n-quads",new ua],["application/n-triples",new ua],["text/n3",new ua],["text/turtle",new ua]]),jv={parsers:FH,serializers:jH};class $H{constructor({factory:t}){this.factory=t,this.parsers=new ma,this.serializers=new ma}import(t){if(t.parsers)for(const[n,r]of t.parsers)this.parsers.set(n,new r.constructor({factory:this.factory}));if(t.serializers)for(const[n,r]of t.serializers)this.serializers.set(n,new r.constructor({factory:this.factory}));return this}}class VH{init(){this.formats=new $H({factory:this})}clone(t){this.formats.import(t.formats)}}class MH extends VH{init(){super.init(),this.formats.import(jv)}}const Ve=new Xm([PI,VI,RV,MH,OI,MF,xI,SI,pj,AI,NI,RI],{bind:!0}),ue=Ve.namespace("http://www.w3.org/ns/shacl#"),Mt=Ve.namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Sl=Ve.namespace("http://datashapes.org/dash#"),Rr=Ve.namespace("http://www.w3.org/2000/01/rdf-schema#"),Xn=Ve.namespace("http://www.w3.org/2001/XMLSchema#"),E0=Ve.namespace("https://concepts.datalad.org/s/distribution/unreleased/");Ve.namespace("https://concepts.datalad.org/s/thing/unreleased/");const Ba=Ve.namespace("https://concepts.datalad.org/s/things/v1/");Ve.namespace("https://concepts.datalad.org/");function ir(e){var r,i;const t=q(!1),n=q([]);return e[(r=ue.minCount)==null?void 0:r.value]>0&&(t.value=!0,n.value.push(a=>a?!0:"This is a required field")),e[(i=ue.pattern)==null?void 0:i.value]&&n.value.push(a=>{const s=new RegExp(e[ue.pattern.value]);return!a||s.test(a)?!0:"Regular expression matching failed"}),{isRequired:t,rules:n}}function Lt(e,t,n){if(!e)return null;t||console.log("no prefixes passed!!");const r=Object.values(t).sort((i,a)=>a.length-i.length);for(const i of r)if(e.indexOf(i)>=0){const a=BH(t)[i],s=e.substring(i.length);return n=="parts"?{prefix:a,property:s}:a+":"+s}return e}function hs(e,t){if(!e)return null;if(!t)return console.error("no prefixes passed!!"),null;if(e.indexOf(":")<0)return e;var n=e.split(":"),r=n[0],i=n[1];return Object.keys(t).indexOf(r)<0?e:t[r]+i}function gC(e,t,n=!1){return e.hasOwnProperty(ue.name.value)?e[ue.name.value]:n?Wc(Lt(e[ue.path.value],t,"parts").property):Lt(e[ue.path.value],t)}function pl(e,t){return[...e].sort((n,r)=>n[t]-r[t])}function BH(e){return Object.keys(e).reduce((t,n)=>(t[e[n]]=n,t),{})}function mC(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}function UH(e){for(const t in e)if(Object.hasOwn(e,t))return!1;return!0}function Ad(e,t){const n=a=>{let s=!1,o=!1;return t.forEach(l=>{l.subject.equals(a)&&(l.predicate.value===Mt.first.value&&(s=!0),l.predicate.value===Mt.rest.value&&(o=!0))}),s&&o},r=a=>{const s=[];let o=a;for(;o&&o.value!==Mt.nil.value;){let l=null;t.forEach(c=>{c.subject.equals(o)&&c.predicate.value===Mt.first.value&&(c.object.termType==="BlankNode"?l=Ad(c.object,t):(c.object.termType==="Literal"||c.object.termType==="NamedNode")&&(l=c.object.value))}),l!==null&&s.push(l);let u=null;t.forEach(c=>{c.subject.equals(o)&&c.predicate.value===Mt.rest.value&&(u=c.object)}),o=u}return s};let i={};return t.forEach(a=>{if(a.subject.equals(e)){const s=a.predicate.value,o=a.object;o.termType==="BlankNode"?n(o)?i[s]=r(o):i[s]=Ad(o,t):(o.termType==="Literal"||o.termType==="NamedNode")&&(i[s]=o.value)}}),i}function Jg(e,t,n,r){var i=Lt(n,r);const a=Ve.grapoi({dataset:e}).hasOut(t,Ve.literal(String(i),Xn.anyURI)).quads(),s=Ve.grapoi({dataset:e}).hasOut(t,Ve.namedNode(n)).quads();return Array.from(a).concat(Array.from(s))}function Nd(e,t){const n=Ve.grapoi({dataset:e,term:t}).out().quads();return Array.from(n)}function HH(e,t){const n=Ve.grapoi({dataset:e,term:t}).in().quads();return Array.from(n)}function $v(e){return e.replace(/`([^`]+)`/g,'<code class="code-style">$1</code>')}function Yg(e,t,n){return e.find(r=>r[t]===n)}function vC(e,t,n){const r=t.match(/{(.*?)}/)[1];var i;return r=="curie"?i=Lt(e,n):r=="name"?i=Lt(e,n,"parts").property:(r=="uri",i=e),t.replace(/{.*?}/,encodeURIComponent(i))}function Wc(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return t=t.replace(/_/g," "),t=t.replace(/-/g," "),t}const vi=ce({border:[Boolean,Number,String]},"border");function yi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();return{borderClasses:O(()=>{const r=lt(e)?e.value:e.border,i=[];if(r===!0||r==="")i.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const a of String(r).split(" "))i.push(`border-${a}`);return i})}}const GH=[null,"default","comfortable","compact"],Mr=ce({density:{type:String,default:"default",validator:e=>GH.includes(e)}},"density");function bi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();return{densityClasses:O(()=>`${t}--density-${e.density}`)}}const Br=ce({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Ur(e){return{elevationClasses:O(()=>{const n=lt(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const Un=ce({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Hn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();return{roundedClasses:O(()=>{const r=lt(e)?e.value:e.rounded,i=lt(e)?e.value:e.tile,a=[];if(r===!0||r==="")a.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))a.push(`rounded-${s}`);else(i||r===!1)&&a.push("rounded-0");return a})}}const _t=ce({tag:{type:String,default:"div"}},"tag");function Vv(e){return Gm(()=>{const t=[],n={};if(e.value.background)if(fg(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&yD(e.value.background)){const r=li(e.value.background);if(r.a==null||r.a===1){const i=GS(r);n.color=i,n.caretColor=i}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(fg(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Fr(e,t){const n=O(()=>({text:lt(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:i}=Vv(n);return{textColorClasses:r,textColorStyles:i}}function rn(e,t){const n=O(()=>({background:lt(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:i}=Vv(n);return{backgroundColorClasses:r,backgroundColorStyles:i}}const WH=["elevated","flat","tonal","outlined","text","plain"];function Cu(e,t){return b(Pe,null,[e&&b("span",{key:"overlay",class:`${t}__overlay`},null),b("span",{key:"underlay",class:`${t}__underlay`},null)])}const Ca=ce({color:String,variant:{type:String,default:"elevated",validator:e=>WH.includes(e)}},"variant");function Tu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();const n=O(()=>{const{variant:a}=X(e);return`${t}--variant-${a}`}),{colorClasses:r,colorStyles:i}=Vv(O(()=>{const{variant:a,color:s}=X(e);return{[["elevated","flat"].includes(a)?"background":"text"]:s}}));return{colorClasses:r,colorStyles:i,variantClasses:n}}const yC=ce({baseColor:String,divided:Boolean,...vi(),...Ge(),...Mr(),...Br(),...Un(),..._t(),...Ft(),...Ca()},"VBtnGroup"),I0=Ee()({name:"VBtnGroup",props:yC(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Bt(e),{densityClasses:i}=bi(e),{borderClasses:a}=yi(e),{elevationClasses:s}=Ur(e),{roundedClasses:o}=Hn(e);gi({VBtn:{height:"auto",baseColor:Ie(e,"baseColor"),color:Ie(e,"color"),density:Ie(e,"density"),flat:!0,variant:Ie(e,"variant")}}),Re(()=>b(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,a.value,i.value,s.value,o.value,e.class],style:e.style},n))}}),zf=ce({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Kf=ce({value:null,disabled:Boolean,selectedClass:String},"group-item");function qf(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Gt("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=Mn();Ae(Symbol.for(`${t.description}:id`),i);const a=be(t,null);if(!a){if(!n)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const s=Ie(e,"value"),o=O(()=>!!(a.disabled.value||e.disabled));a.register({id:i,value:s,disabled:o},r),Ht(()=>{a.unregister(i)});const l=O(()=>a.isSelected(i)),u=O(()=>a.items.value[0].id===i),c=O(()=>a.items.value[a.items.value.length-1].id===i),d=O(()=>l.value&&[a.selectedClass.value,e.selectedClass]);return Ce(l,f=>{r.emit("group:selected",{value:f})},{flush:"sync"}),{id:i,isSelected:l,isFirst:u,isLast:c,toggle:()=>a.select(i,!l.value),select:f=>a.select(i,f),selectedClass:d,value:s,disabled:o,group:a}}function Au(e,t){let n=!1;const r=dt([]),i=it(e,"modelValue",[],f=>f==null?[]:bC(r,Qt(f)),f=>{const h=KH(r,f);return e.multiple?h:h[0]}),a=Gt("useGroup");function s(f,h){const p=f,g=Symbol.for(`${t.description}:id`),v=Hs(g,a==null?void 0:a.vnode).indexOf(h);X(p.value)==null&&(p.value=v,p.useIndexAsValue=!0),v>-1?r.splice(v,0,p):r.push(p)}function o(f){if(n)return;l();const h=r.findIndex(p=>p.id===f);r.splice(h,1)}function l(){const f=r.find(h=>!h.disabled);f&&e.mandatory==="force"&&!i.value.length&&(i.value=[f.id])}en(()=>{l()}),Ht(()=>{n=!0}),Dm(()=>{for(let f=0;f<r.length;f++)r[f].useIndexAsValue&&(r[f].value=f)});function u(f,h){const p=r.find(g=>g.id===f);if(!(h&&(p!=null&&p.disabled)))if(e.multiple){const g=i.value.slice(),m=g.findIndex(_=>_===f),v=~m;if(h=h??!v,v&&e.mandatory&&g.length<=1||!v&&e.max!=null&&g.length+1>e.max)return;m<0&&h?g.push(f):m>=0&&!h&&g.splice(m,1),i.value=g}else{const g=i.value.includes(f);if(e.mandatory&&g)return;i.value=h??!g?[f]:[]}}function c(f){if(e.multiple,i.value.length){const h=i.value[0],p=r.findIndex(v=>v.id===h);let g=(p+f)%r.length,m=r[g];for(;m.disabled&&g!==p;)g=(g+f)%r.length,m=r[g];if(m.disabled)return;i.value=[r[g].id]}else{const h=r.find(p=>!p.disabled);h&&(i.value=[h.id])}}const d={register:s,unregister:o,selected:i,select:u,disabled:Ie(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:f=>i.value.includes(f),selectedClass:O(()=>e.selectedClass),items:O(()=>r),getItemIndex:f=>zH(r,f)};return Ae(t,d),d}function zH(e,t){const n=bC(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function bC(e,t){const n=[];return t.forEach(r=>{const i=e.find(s=>_o(r,s.value)),a=e[r];(i==null?void 0:i.value)!=null?n.push(i.id):a!=null&&n.push(a.id)}),n}function KH(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(a=>a.id===r);if(~i){const a=e[i];n.push(a.value!=null?a.value:i)}}),n}const _C=Symbol.for("vuetify:v-btn-toggle"),qH=ce({...yC(),...zf()},"VBtnToggle");Ee()({name:"VBtnToggle",props:qH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:i,prev:a,select:s,selected:o}=Au(e,_C);return Re(()=>{const l=I0.filterProps(e);return b(I0,xe({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,next:i,prev:a,select:s,selected:o})]}})}),{next:i,prev:a,select:s}}});const JH=ce({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),yt=Ee(!1)({name:"VDefaultsProvider",props:JH(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:i,reset:a,root:s,scoped:o}=Cm(e);return gi(r,{reset:a,root:s,scoped:o,disabled:i}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),YH=["x-small","small","default","large","x-large"],Nu=ce({size:{type:[String,Number],default:"default"}},"size");function Ru(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();return Gm(()=>{let n,r;return rd(YH,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:Be(e.size),height:Be(e.size)}),{sizeClasses:n,sizeStyles:r}})}const QH=ce({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:at,...Ge(),...Nu(),..._t({tag:"i"}),...Ft()},"VIcon"),ut=Ee()({name:"VIcon",props:QH(),setup(e,t){let{attrs:n,slots:r}=t;const i=q(),{themeClasses:a}=Bt(e),{iconData:s}=Fk(O(()=>i.value||e.icon)),{sizeClasses:o}=Ru(e),{textColorClasses:l,textColorStyles:u}=Fr(Ie(e,"color"));return Re(()=>{var f,h;const c=(f=r.default)==null?void 0:f.call(r);c&&(i.value=(h=LS(c).filter(p=>p.type===du&&p.children&&typeof p.children=="string")[0])==null?void 0:h.children);const d=!!(n.onClick||n.onClickOnce);return b(s.value.component,{tag:e.tag,icon:s.value.icon,class:["v-icon","notranslate",a.value,o.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[o.value?void 0:{fontSize:Be(e.size),height:Be(e.size),width:Be(e.size)},u.value,e.style],role:d?"button":void 0,"aria-hidden":!d,tabindex:d?e.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function wC(e,t){const n=q(),r=Te(!1);if(Mm){const i=new IntersectionObserver(a=>{r.value=!!a.find(s=>s.isIntersecting)},t);Ht(()=>{i.disconnect()}),Ce(n,(a,s)=>{s&&(i.unobserve(s),r.value=!1),a&&i.observe(a)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const XH=ce({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ge(),...Nu(),..._t({tag:"div"}),...Ft()},"VProgressCircular"),xC=Ee()({name:"VProgressCircular",props:XH(),setup(e,t){let{slots:n}=t;const r=20,i=2*Math.PI*r,a=q(),{themeClasses:s}=Bt(e),{sizeClasses:o,sizeStyles:l}=Ru(e),{textColorClasses:u,textColorStyles:c}=Fr(Ie(e,"color")),{textColorClasses:d,textColorStyles:f}=Fr(Ie(e,"bgColor")),{intersectionRef:h,isIntersecting:p}=wC(),{resizeRef:g,contentRect:m}=ho(),v=O(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),_=O(()=>Number(e.width)),x=O(()=>l.value?Number(e.size):m.value?m.value.width:Math.max(_.value,32)),I=O(()=>r/(1-_.value/x.value)*2),S=O(()=>_.value/x.value*I.value),E=O(()=>Be((100-v.value)/100*i));return yn(()=>{h.value=a.value,g.value=a.value}),Re(()=>b(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},s.value,o.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:v.value},{default:()=>[b("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${I.value} ${I.value}`},[b("circle",{class:["v-progress-circular__underlay",d.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":S.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),b("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":S.value,"stroke-dasharray":i,"stroke-dashoffset":E.value},null)]),n.default&&b("div",{class:"v-progress-circular__content"},[n.default({value:v.value})])]})),{}}}),Gn=ce({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Wn(e){return{dimensionStyles:O(()=>{const n={},r=Be(e.height),i=Be(e.maxHeight),a=Be(e.maxWidth),s=Be(e.minHeight),o=Be(e.minWidth),l=Be(e.width);return r!=null&&(n.height=r),i!=null&&(n.maxHeight=i),a!=null&&(n.maxWidth=a),s!=null&&(n.minHeight=s),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}const C0={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Jf=ce({location:String},"location");function Yf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=er();return{locationStyles:O(()=>{if(!e.location)return{};const{side:a,align:s}=cg(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function o(u){return n?n(u):0}const l={};return a!=="center"&&(t?l[C0[a]]=`calc(100% - ${o(a)}px)`:l[a]=0),s!=="center"?t?l[C0[s]]=`calc(100% - ${o(s)}px)`:l[s]=0:(a==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[a]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[a]),l})}}const ZH=ce({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ge(),...Jf({location:"top"}),...Un(),..._t(),...Ft()},"VProgressLinear"),e3=Ee()({name:"VProgressLinear",props:ZH(),emits:{"update:modelValue":e=>!0},setup(e,t){var V;let{slots:n}=t;const r=it(e,"modelValue"),{isRtl:i,rtlClasses:a}=er(),{themeClasses:s}=Bt(e),{locationStyles:o}=Yf(e),{textColorClasses:l,textColorStyles:u}=Fr(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:d}=rn(O(()=>e.bgColor||e.color)),{backgroundColorClasses:f,backgroundColorStyles:h}=rn(O(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:p,backgroundColorStyles:g}=rn(e,"color"),{roundedClasses:m}=Hn(e),{intersectionRef:v,isIntersecting:_}=wC(),x=O(()=>parseFloat(e.max)),I=O(()=>parseFloat(e.height)),S=O(()=>Pr(parseFloat(e.bufferValue)/x.value*100,0,100)),E=O(()=>Pr(parseFloat(r.value)/x.value*100,0,100)),N=O(()=>i.value!==e.reverse),A=O(()=>e.indeterminate?"fade-transition":"slide-x-transition"),R=ft&&((V=window.matchMedia)==null?void 0:V.call(window,"(forced-colors: active)").matches);function M(P){if(!v.value)return;const{left:F,right:U,width:J}=v.value.getBoundingClientRect(),G=N.value?J-P.clientX+(U-J):P.clientX-F;r.value=Math.round(G/J*x.value)}return Re(()=>b(e.tag,{ref:v,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&_.value,"v-progress-linear--reverse":N.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},m.value,s.value,a.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Be(I.value):0,"--v-progress-linear-height":Be(I.value),...e.absolute?o.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(r.value),x.value),onClick:e.clickable&&M},{default:()=>[e.stream&&b("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[N.value?"left":"right"]:Be(-I.value),borderTop:`${Be(I.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Be(I.value/4)})`,width:Be(100-S.value,"%"),"--v-progress-linear-stream-to":Be(I.value*(N.value?1:-1))}},null),b("div",{class:["v-progress-linear__background",R?void 0:c.value],style:[d.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),b("div",{class:["v-progress-linear__buffer",R?void 0:f.value],style:[h.value,{opacity:parseFloat(e.bufferOpacity),width:Be(S.value,"%")}]},null),b(pa,{name:A.value},{default:()=>[e.indeterminate?b("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(P=>b("div",{key:P,class:["v-progress-linear__indeterminate",P,R?void 0:p.value],style:g.value},null))]):b("div",{class:["v-progress-linear__determinate",R?void 0:p.value],style:[g.value,{width:Be(E.value,"%")}]},null)]}),n.default&&b("div",{class:"v-progress-linear__content"},[n.default({value:E.value,buffer:S.value})])]})),{}}}),Mv=ce({loading:[Boolean,String]},"loader");function Qf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();return{loaderClasses:O(()=>({[`${t}--loading`]:e.loading}))}}function Bv(e,t){var r;let{slots:n}=t;return b("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||b(e3,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const t3=["static","relative","fixed","absolute","sticky"],Uv=ce({position:{type:String,validator:e=>t3.includes(e)}},"position");function Hv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();return{positionClasses:O(()=>e.position?`${t}--${e.position}`:void 0)}}function n3(){const e=Gt("useRoute");return O(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function SC(){var e,t;return(t=(e=Gt("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Xf(e,t){var d,f;const n=Om("RouterLink"),r=O(()=>!!(e.href||e.to)),i=O(()=>(r==null?void 0:r.value)||ib(t,"click")||ib(e,"click"));if(typeof n=="string"||!("useLink"in n)){const h=Ie(e,"href");return{isLink:r,isClickable:i,href:h,linkProps:dt({href:h})}}const a=O(()=>({...e,to:Ie(()=>e.to||"")})),s=n.useLink(a.value),o=O(()=>e.to?s:void 0),l=n3(),u=O(()=>{var h,p,g;return o.value?e.exact?l.value?((g=o.value.isExactActive)==null?void 0:g.value)&&_o(o.value.route.value.query,l.value.query):((p=o.value.isExactActive)==null?void 0:p.value)??!1:((h=o.value.isActive)==null?void 0:h.value)??!1:!1}),c=O(()=>{var h;return e.to?(h=o.value)==null?void 0:h.route.value.href:e.href});return{isLink:r,isClickable:i,isActive:u,route:(d=o.value)==null?void 0:d.route,navigate:(f=o.value)==null?void 0:f.navigate,href:c,linkProps:dt({href:c,"aria-current":O(()=>u.value?"page":void 0)})}}const Zf=ce({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let jp=!1;function r3(e,t){let n=!1,r,i;ft&&(e!=null&&e.beforeEach)&&(Dt(()=>{window.addEventListener("popstate",a),r=e.beforeEach((s,o,l)=>{jp?n?t(l):l():setTimeout(()=>n?t(l):l()),jp=!0}),i=e==null?void 0:e.afterEach(()=>{jp=!1})}),Dn(()=>{window.removeEventListener("popstate",a),r==null||r(),i==null||i()}));function a(s){var o;(o=s.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function i3(e,t){Ce(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Dt(()=>{t(!0)})},{immediate:!0})}const Qg=Symbol("rippleStop"),a3=80;function T0(e,t){e.style.transform=t,e.style.webkitTransform=t}function Xg(e){return e.constructor.name==="TouchEvent"}function EC(e){return e.constructor.name==="KeyboardEvent"}const s3=function(e,t){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;if(!EC(e)){const f=t.getBoundingClientRect(),h=Xg(e)?e.touches[e.touches.length-1]:e;r=h.clientX-f.left,i=h.clientY-f.top}let a=0,s=.3;(d=t._ripple)!=null&&d.circle?(s=.15,a=t.clientWidth/2,a=n.center?a:a+Math.sqrt((r-a)**2+(i-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const o=`${(t.clientWidth-a*2)/2}px`,l=`${(t.clientHeight-a*2)/2}px`,u=n.center?o:`${r-a}px`,c=n.center?l:`${i-a}px`;return{radius:a,scale:s,x:u,y:c,centerX:o,centerY:l}},Rd={show(e,t){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:a,scale:s,x:o,y:l,centerX:u,centerY:c}=s3(e,t,n),d=`${a*2}px`;i.className="v-ripple__animation",i.style.width=d,i.style.height=d,t.appendChild(r);const f=window.getComputedStyle(t);f&&f.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),T0(i,`translate(${o}, ${l}) scale3d(${s},${s},${s})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),T0(i,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var a;if(!((a=e==null?void 0:e._ripple)!=null&&a.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===e&&e.removeChild(n.parentNode)},300)},i)}};function IC(e){return typeof e>"u"||!!e}function nu(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[Qg])){if(e[Qg]=!0,Xg(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||EC(e),n._ripple.class&&(t.class=n._ripple.class),Xg(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Rd.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},a3)}else Rd.show(e,n,t)}}function A0(e){e[Qg]=!0}function Yn(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Yn(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Rd.hide(t)}}function CC(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let ru=!1;function TC(e){!ru&&(e.keyCode===eb.enter||e.keyCode===eb.space)&&(ru=!0,nu(e))}function AC(e){ru=!1,Yn(e)}function NC(e){ru&&(ru=!1,Yn(e))}function RC(e,t,n){const{value:r,modifiers:i}=t,a=IC(r);if(a||Rd.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=a,e._ripple.centered=i.center,e._ripple.circle=i.circle,Bm(r)&&r.class&&(e._ripple.class=r.class),a&&!n){if(i.stop){e.addEventListener("touchstart",A0,{passive:!0}),e.addEventListener("mousedown",A0);return}e.addEventListener("touchstart",nu,{passive:!0}),e.addEventListener("touchend",Yn,{passive:!0}),e.addEventListener("touchmove",CC,{passive:!0}),e.addEventListener("touchcancel",Yn),e.addEventListener("mousedown",nu),e.addEventListener("mouseup",Yn),e.addEventListener("mouseleave",Yn),e.addEventListener("keydown",TC),e.addEventListener("keyup",AC),e.addEventListener("blur",NC),e.addEventListener("dragstart",Yn,{passive:!0})}else!a&&n&&DC(e)}function DC(e){e.removeEventListener("mousedown",nu),e.removeEventListener("touchstart",nu),e.removeEventListener("touchend",Yn),e.removeEventListener("touchmove",CC),e.removeEventListener("touchcancel",Yn),e.removeEventListener("mouseup",Yn),e.removeEventListener("mouseleave",Yn),e.removeEventListener("keydown",TC),e.removeEventListener("keyup",AC),e.removeEventListener("dragstart",Yn),e.removeEventListener("blur",NC)}function o3(e,t){RC(e,t,!1)}function l3(e){delete e._ripple,DC(e)}function u3(e,t){if(t.value===t.oldValue)return;const n=IC(t.oldValue);RC(e,t,n)}const ko={mounted:o3,unmounted:l3,updated:u3},kC=ce({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:_C},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:at,appendIcon:at,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...vi(),...Ge(),...Mr(),...Gn(),...Br(),...Kf(),...Mv(),...Jf(),...Uv(),...Un(),...Zf(),...Nu(),..._t({tag:"button"}),...Ft(),...Ca({variant:"elevated"})},"VBtn"),rt=Ee()({name:"VBtn",props:kC(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=Bt(e),{borderClasses:a}=yi(e),{densityClasses:s}=bi(e),{dimensionStyles:o}=Wn(e),{elevationClasses:l}=Ur(e),{loaderClasses:u}=Qf(e),{locationStyles:c}=Yf(e),{positionClasses:d}=Hv(e),{roundedClasses:f}=Hn(e),{sizeClasses:h,sizeStyles:p}=Ru(e),g=qf(e,e.symbol,!1),m=Xf(e,n),v=O(()=>{var V;return e.active!==void 0?e.active:m.isLink.value?(V=m.isActive)==null?void 0:V.value:g==null?void 0:g.isSelected.value}),_=O(()=>v.value?e.activeColor??e.color:e.color),x=O(()=>{var P,F;return{color:(g==null?void 0:g.isSelected.value)&&(!m.isLink.value||((P=m.isActive)==null?void 0:P.value))||!g||((F=m.isActive)==null?void 0:F.value)?_.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:I,colorStyles:S,variantClasses:E}=Tu(x),N=O(()=>(g==null?void 0:g.disabled.value)||e.disabled),A=O(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),R=O(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function M(V){var P;N.value||m.isLink.value&&(V.metaKey||V.ctrlKey||V.shiftKey||V.button!==0||n.target==="_blank")||((P=m.navigate)==null||P.call(m,V),g==null||g.toggle())}return i3(m,g==null?void 0:g.select),Re(()=>{const V=m.isLink.value?"a":e.tag,P=!!(e.prependIcon||r.prepend),F=!!(e.appendIcon||r.append),U=!!(e.icon&&e.icon!==!0);return Zt(b(V,xe({type:V==="a"?void 0:"button",class:["v-btn",g==null?void 0:g.selectedClass.value,{"v-btn--active":v.value,"v-btn--block":e.block,"v-btn--disabled":N.value,"v-btn--elevated":A.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},i.value,a.value,I.value,s.value,l.value,u.value,d.value,f.value,h.value,E.value,e.class],style:[S.value,o.value,c.value,p.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:N.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:M,value:R.value},m.linkProps),{default:()=>{var J;return[Cu(!0,"v-btn"),!e.icon&&P&&b("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?b(yt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):b(ut,{key:"prepend-icon",icon:e.prependIcon},null)]),b("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&U?b(ut,{key:"content-icon",icon:e.icon},null):b(yt,{key:"content-defaults",disabled:!U,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var G;return[((G=r.default)==null?void 0:G.call(r))??e.text]}})]),!e.icon&&F&&b("span",{key:"append",class:"v-btn__append"},[r.append?b(yt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):b(ut,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&b("span",{key:"loader",class:"v-btn__loader"},[((J=r.loader)==null?void 0:J.call(r))??b(xC,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[ko,!N.value&&e.ripple,"",{center:!!e.icon}]])}),{group:g}}}),c3=ce({fluid:{type:Boolean,default:!1},...Ge(),...Gn(),..._t()},"VContainer"),Zg=Ee()({name:"VContainer",props:c3(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=er(),{dimensionStyles:i}=Wn(e);return Re(()=>b(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:[i.value,e.style]},n)),{}}}),OC=Yd.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),PC=Yd.reduce((e,t)=>{const n="offset"+Bi(t);return e[n]={type:[String,Number],default:null},e},{}),LC=Yd.reduce((e,t)=>{const n="order"+Bi(t);return e[n]={type:[String,Number],default:null},e},{}),N0={col:Object.keys(OC),offset:Object.keys(PC),order:Object.keys(LC)};function d3(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const i=t.replace(e,"");r+=`-${i}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const f3=["auto","start","end","center","baseline","stretch"],h3=ce({cols:{type:[Boolean,String,Number],default:!1},...OC,offset:{type:[String,Number],default:null},...PC,order:{type:[String,Number],default:null},...LC,alignSelf:{type:String,default:null,validator:e=>f3.includes(e)},...Ge(),..._t()},"VCol"),$n=Ee()({name:"VCol",props:h3(),setup(e,t){let{slots:n}=t;const r=O(()=>{const i=[];let a;for(a in N0)N0[a].forEach(o=>{const l=e[o],u=d3(a,o,l);u&&i.push(u)});const s=i.some(o=>o.startsWith("v-col-"));return i.push({"v-col":!s||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return wa(e.tag,{class:[r.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),Gv=["start","end","center"],FC=["space-between","space-around","space-evenly"];function Wv(e,t){return Yd.reduce((n,r)=>{const i=e+Bi(r);return n[i]=t(),n},{})}const p3=[...Gv,"baseline","stretch"],jC=e=>p3.includes(e),$C=Wv("align",()=>({type:String,default:null,validator:jC})),g3=[...Gv,...FC],VC=e=>g3.includes(e),MC=Wv("justify",()=>({type:String,default:null,validator:VC})),m3=[...Gv,...FC,"stretch"],BC=e=>m3.includes(e),UC=Wv("alignContent",()=>({type:String,default:null,validator:BC})),R0={align:Object.keys($C),justify:Object.keys(MC),alignContent:Object.keys(UC)},v3={align:"align",justify:"justify",alignContent:"align-content"};function y3(e,t,n){let r=v3[e];if(n!=null){if(t){const i=t.replace(e,"");r+=`-${i}`}return r+=`-${n}`,r.toLowerCase()}}const b3=ce({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:jC},...$C,justify:{type:String,default:null,validator:VC},...MC,alignContent:{type:String,default:null,validator:BC},...UC,...Ge(),..._t()},"VRow"),ps=Ee()({name:"VRow",props:b3(),setup(e,t){let{slots:n}=t;const r=O(()=>{const i=[];let a;for(a in R0)R0[a].forEach(s=>{const o=e[s],l=y3(a,s,o);l&&i.push(l)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return wa(e.tag,{class:["v-row",r.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),zv=qd("v-spacer","div","VSpacer");function $p(e,t){return{x:e.x+t.x,y:e.y+t.y}}function _3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function D0(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,i=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,a=n==="top"?0:n==="bottom"?t.height:n;return $p({x:i,y:a},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,i=n==="left"?0:n==="right"?t.width:n,a=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return $p({x:i,y:a},t)}return $p({x:t.width/2,y:t.height/2},t)}const HC={static:S3,connected:I3},w3=ce({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in HC},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function x3(e,t){const n=q({}),r=q();ft&&gr(()=>!!(t.isActive.value&&e.locationStrategy),a=>{var s,o;Ce(()=>e.locationStrategy,a),Dn(()=>{window.removeEventListener("resize",i),r.value=void 0}),window.addEventListener("resize",i,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(s=e.locationStrategy(t,e,n))==null?void 0:s.updateLocation:r.value=(o=HC[e.locationStrategy](t,e,n))==null?void 0:o.updateLocation});function i(a){var s;(s=r.value)==null||s.call(r,a)}return{contentStyles:n,updateLocation:r}}function S3(){}function E3(e,t){const n=Km(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function I3(e,t,n){(Array.isArray(e.target.value)||OD(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:a}=Gm(()=>{const p=cg(t.location,e.isRtl.value),g=t.origin==="overlap"?p:t.origin==="auto"?Eh(p):cg(t.origin,e.isRtl.value);return p.side===g.side&&p.align===Ih(g).align?{preferredAnchor:ab(p),preferredOrigin:ab(g)}:{preferredAnchor:p,preferredOrigin:g}}),[s,o,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>O(()=>{const g=parseFloat(t[p]);return isNaN(g)?1/0:g})),c=O(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const p=t.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let d=!1;const f=new ResizeObserver(()=>{d&&h()});Ce([e.target,e.contentEl],(p,g)=>{let[m,v]=p,[_,x]=g;_&&!Array.isArray(_)&&f.unobserve(_),m&&!Array.isArray(m)&&f.observe(m),x&&f.unobserve(x),v&&f.observe(v)},{immediate:!0}),Dn(()=>{f.disconnect()});function h(){if(d=!1,requestAnimationFrame(()=>d=!0),!e.target.value||!e.contentEl.value)return;const p=VS(e.target.value),g=E3(e.contentEl.value,e.isRtl.value),m=od(e.contentEl.value),v=12;m.length||(m.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const _=m.reduce((V,P)=>{const F=P.getBoundingClientRect(),U=new ts({x:P===document.documentElement?0:F.x,y:P===document.documentElement?0:F.y,width:P.clientWidth,height:P.clientHeight});return V?new ts({x:Math.max(V.left,U.left),y:Math.max(V.top,U.top),width:Math.min(V.right,U.right)-Math.max(V.left,U.left),height:Math.min(V.bottom,U.bottom)-Math.max(V.top,U.top)}):U},void 0);_.x+=v,_.y+=v,_.width-=v*2,_.height-=v*2;let x={anchor:i.value,origin:a.value};function I(V){const P=new ts(g),F=D0(V.anchor,p),U=D0(V.origin,P);let{x:J,y:G}=_3(F,U);switch(V.anchor.side){case"top":G-=c.value[0];break;case"bottom":G+=c.value[0];break;case"left":J-=c.value[0];break;case"right":J+=c.value[0];break}switch(V.anchor.align){case"top":G-=c.value[1];break;case"bottom":G+=c.value[1];break;case"left":J-=c.value[1];break;case"right":J+=c.value[1];break}return P.x+=J,P.y+=G,P.width=Math.min(P.width,l.value),P.height=Math.min(P.height,u.value),{overflows:ob(P,_),x:J,y:G}}let S=0,E=0;const N={x:0,y:0},A={x:!1,y:!1};let R=-1;for(;!(R++>10);){const{x:V,y:P,overflows:F}=I(x);S+=V,E+=P,g.x+=V,g.y+=P;{const U=sb(x.anchor),J=F.x.before||F.x.after,G=F.y.before||F.y.after;let he=!1;if(["x","y"].forEach(ne=>{if(ne==="x"&&J&&!A.x||ne==="y"&&G&&!A.y){const Z={anchor:{...x.anchor},origin:{...x.origin}},re=ne==="x"?U==="y"?Ih:Eh:U==="y"?Eh:Ih;Z.anchor=re(Z.anchor),Z.origin=re(Z.origin);const{overflows:W}=I(Z);(W[ne].before<=F[ne].before&&W[ne].after<=F[ne].after||W[ne].before+W[ne].after<(F[ne].before+F[ne].after)/2)&&(x=Z,he=A[ne]=!0)}}),he)continue}F.x.before&&(S+=F.x.before,g.x+=F.x.before),F.x.after&&(S-=F.x.after,g.x-=F.x.after),F.y.before&&(E+=F.y.before,g.y+=F.y.before),F.y.after&&(E-=F.y.after,g.y-=F.y.after);{const U=ob(g,_);N.x=_.width-U.x.before-U.x.after,N.y=_.height-U.y.before-U.y.after,S+=U.x.before,g.x+=U.x.before,E+=U.y.before,g.y+=U.y.before}break}const M=sb(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:Be(Vp(E)),left:e.isRtl.value?void 0:Be(Vp(S)),right:e.isRtl.value?Be(Vp(-S)):void 0,minWidth:Be(M==="y"?Math.min(s.value,p.width):s.value),maxWidth:Be(k0(Pr(N.x,s.value===1/0?0:s.value,l.value))),maxHeight:Be(k0(Pr(N.y,o.value===1/0?0:o.value,u.value)))}),{available:N,contentBox:g}}return Ce(()=>[i.value,a.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>h()),Dt(()=>{const p=h();if(!p)return;const{available:g,contentBox:m}=p;m.height>g.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function Vp(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function k0(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let em=!0;const Dd=[];function C3(e){!em||Dd.length?(Dd.push(e),tm()):(em=!1,e(),tm())}let O0=-1;function tm(){cancelAnimationFrame(O0),O0=requestAnimationFrame(()=>{const e=Dd.shift();e&&e(),Dd.length?tm():em=!0})}const zc={none:null,close:N3,block:R3,reposition:D3},T3=ce({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in zc}},"VOverlay-scroll-strategies");function A3(e,t){if(!ft)return;let n;yn(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=ym(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=zc[e.scrollStrategy])==null||r.call(zc,t,e,n)}))}),Dn(()=>{n==null||n.stop()})}function N3(e){function t(n){e.isActive.value=!1}GC(e.targetEl.value??e.contentEl.value,t)}function R3(e,t){var s;const n=(s=e.root.value)==null?void 0:s.offsetParent,r=[...new Set([...od(e.targetEl.value,t.contained?n:void 0),...od(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,a=(o=>Ym(o)&&o)(n||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Be(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Be(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Be(i)),o.classList.add("v-overlay-scroll-blocked")}),Dn(()=>{r.forEach((o,l)=>{const u=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),d=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-u,o.scrollTop=-c,o.style.scrollBehavior=d}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function D3(e,t,n){let r=!1,i=-1,a=-1;function s(o){C3(()=>{var c,d;const l=performance.now();(d=(c=e.updateLocation).value)==null||d.call(c,o),r=(performance.now()-l)/(1e3/60)>2})}a=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{GC(e.targetEl.value??e.contentEl.value,o=>{r?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{s(o)})})):s(o)})})}),Dn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(a),cancelAnimationFrame(i)})}function GC(e,t){const n=[document,...od(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Dn(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const nm=Symbol.for("vuetify:v-menu"),WC=ce({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function zC(e,t){let n=()=>{};function r(s){n==null||n();const o=Number(s?e.openDelay:e.closeDelay);return new Promise(l=>{n=QR(o,()=>{t==null||t(s),l(s)})})}function i(){return r(!0)}function a(){return r(!1)}return{clearDelay:n,runOpenDelay:i,runCloseDelay:a}}const k3=ce({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...WC()},"VOverlay-activator");function O3(e,t){let{isActive:n,isTop:r,contentEl:i}=t;const a=Gt("useActivator"),s=q();let o=!1,l=!1,u=!0;const c=O(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),d=O(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:f,runCloseDelay:h}=zC(e,A=>{A===(e.openOnHover&&o||c.value&&l)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==A&&(u=!0),n.value=A)}),p=q(),g={onClick:A=>{A.stopPropagation(),s.value=A.currentTarget||A.target,n.value||(p.value=[A.clientX,A.clientY]),n.value=!n.value},onMouseenter:A=>{var R;(R=A.sourceCapabilities)!=null&&R.firesTouchEvents||(o=!0,s.value=A.currentTarget||A.target,f())},onMouseleave:A=>{o=!1,h()},onFocus:A=>{co(A.target,":focus-visible")!==!1&&(l=!0,A.stopPropagation(),s.value=A.currentTarget||A.target,f())},onBlur:A=>{l=!1,A.stopPropagation(),h()}},m=O(()=>{const A={};return d.value&&(A.onClick=g.onClick),e.openOnHover&&(A.onMouseenter=g.onMouseenter,A.onMouseleave=g.onMouseleave),c.value&&(A.onFocus=g.onFocus,A.onBlur=g.onBlur),A}),v=O(()=>{const A={};if(e.openOnHover&&(A.onMouseenter=()=>{o=!0,f()},A.onMouseleave=()=>{o=!1,h()}),c.value&&(A.onFocusin=()=>{l=!0,f()},A.onFocusout=()=>{l=!1,h()}),e.closeOnContentClick){const R=be(nm,null);A.onClick=()=>{n.value=!1,R==null||R.closeParents()}}return A}),_=O(()=>{const A={};return e.openOnHover&&(A.onMouseenter=()=>{u&&(o=!0,u=!1,f())},A.onMouseleave=()=>{o=!1,h()}),A});Ce(r,A=>{var R;A&&(e.openOnHover&&!o&&(!c.value||!l)||c.value&&!l&&(!e.openOnHover||!o))&&!((R=i.value)!=null&&R.contains(document.activeElement))&&(n.value=!1)}),Ce(n,A=>{A||setTimeout(()=>{p.value=void 0})},{flush:"post"});const x=id();yn(()=>{x.value&&Dt(()=>{s.value=x.el})});const I=id(),S=O(()=>e.target==="cursor"&&p.value?p.value:I.value?I.el:KC(e.target,a)||s.value),E=O(()=>Array.isArray(S.value)?void 0:S.value);let N;return Ce(()=>!!e.activator,A=>{A&&ft?(N=ym(),N.run(()=>{P3(e,a,{activatorEl:s,activatorEvents:m})})):N&&N.stop()},{flush:"post",immediate:!0}),Dn(()=>{N==null||N.stop()}),{activatorEl:s,activatorRef:x,target:S,targetEl:E,targetRef:I,activatorEvents:m,contentEvents:v,scrimEvents:_}}function P3(e,t,n){let{activatorEl:r,activatorEvents:i}=n;Ce(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=o(u);c&&s(c)}l&&Dt(()=>a())},{immediate:!0}),Ce(()=>e.activatorProps,()=>{a()}),Dn(()=>{s()});function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&eD(l,xe(i.value,u))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&tD(l,xe(i.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=KC(l,t);return r.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,r.value}}function KC(e,t){var r,i;if(!e)return;let n;if(e==="parent"){let a=(i=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:i.parentNode;for(;a!=null&&a.hasAttribute("data-no-activator");)a=a.parentNode;n=a}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function L3(){if(!ft)return Te(!1);const{ssr:e}=Qd();if(e){const t=Te(!1);return en(()=>{t.value=!0}),t}else return Te(!0)}const Kv=ce({eager:Boolean},"lazy");function qv(e,t){const n=Te(!1),r=O(()=>n.value||e.eager||t.value);Ce(t,()=>n.value=!0);function i(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:i}}function Oo(){const t=Gt("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const P0=Symbol.for("vuetify:stack"),gl=dt([]);function F3(e,t,n){const r=Gt("useStack"),i=!n,a=be(P0,void 0),s=dt({activeChildren:new Set});Ae(P0,s);const o=Te(+t.value);gr(e,()=>{var d;const c=(d=gl.at(-1))==null?void 0:d[1];o.value=c?c+10:+t.value,i&&gl.push([r.uid,o.value]),a==null||a.activeChildren.add(r.uid),Dn(()=>{if(i){const f=je(gl).findIndex(h=>h[0]===r.uid);gl.splice(f,1)}a==null||a.activeChildren.delete(r.uid)})});const l=Te(!0);i&&yn(()=>{var d;const c=((d=gl.at(-1))==null?void 0:d[0])===r.uid;setTimeout(()=>l.value=c)});const u=O(()=>!s.activeChildren.size);return{globalTop:lu(l),localTop:u,stackStyles:O(()=>({zIndex:o.value}))}}function j3(e){return{teleportTarget:O(()=>{const n=e();if(n===!0||!ft)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let i=[...r.children].find(a=>a.matches(".v-overlay-container"));return i||(i=document.createElement("div"),i.className="v-overlay-container",r.appendChild(i)),i})}}const Po=ce({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),kr=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:i,group:a,...s}=e,{component:o=a?Vm:pa,...l}=typeof r=="object"?r:{};return wa(o,xe(typeof r=="string"?{name:i?"":r}:l,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:i,group:a}).filter(u=>{let[c,d]=u;return d!==void 0})),s),n)};function $3(){return!0}function qC(e,t,n){if(!e||JC(e,n)===!1)return!1;const r=zS(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(t),!i.some(a=>a==null?void 0:a.contains(e.target))}function JC(e,t){return(typeof t.value=="object"&&t.value.closeConditional||$3)(e)}function V3(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&qC(e,t,n)&&setTimeout(()=>{JC(e,n)&&r&&r(e)},0)}function L0(e,t){const n=zS(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const M3={mounted(e,t){const n=i=>V3(i,e,t),r=i=>{e._clickOutside.lastMousedownWasOutside=qC(i,e,t)};L0(e,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(e,t){e._clickOutside&&(L0(e,n=>{var a;if(!n||!((a=e._clickOutside)!=null&&a[t.instance.$.uid]))return;const{onClick:r,onMousedown:i}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",i,!0)}),delete e._clickOutside[t.instance.$.uid])}};function B3(e){const{modelValue:t,color:n,...r}=e;return b(pa,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&b("div",xe({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const eh=ce({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...k3(),...Ge(),...Gn(),...Kv(),...w3(),...T3(),...Ft(),...Po()},"VOverlay"),vo=Ee()({name:"VOverlay",directives:{ClickOutside:M3},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...eh()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:i}=t;const a=Gt("VOverlay"),s=q(),o=q(),l=q(),u=it(e,"modelValue"),c=O({get:()=>u.value,set:Se=>{Se&&e.disabled||(u.value=Se)}}),{themeClasses:d}=Bt(e),{rtlClasses:f,isRtl:h}=er(),{hasContent:p,onAfterLeave:g}=qv(e,c),m=rn(O(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:_,stackStyles:x}=F3(c,Ie(e,"zIndex"),e._disableGlobalStack),{activatorEl:I,activatorRef:S,target:E,targetEl:N,targetRef:A,activatorEvents:R,contentEvents:M,scrimEvents:V}=O3(e,{isActive:c,isTop:_,contentEl:l}),{teleportTarget:P}=j3(()=>{var Oe,Qe,qe;const Se=e.attach||e.contained;if(Se)return Se;const De=((Oe=I==null?void 0:I.value)==null?void 0:Oe.getRootNode())||((qe=(Qe=a.proxy)==null?void 0:Qe.$el)==null?void 0:qe.getRootNode());return De instanceof ShadowRoot?De:!1}),{dimensionStyles:F}=Wn(e),U=L3(),{scopeId:J}=Oo();Ce(()=>e.disabled,Se=>{Se&&(c.value=!1)});const{contentStyles:G,updateLocation:he}=x3(e,{isRtl:h,contentEl:l,target:E,isActive:c});A3(e,{root:s,contentEl:l,targetEl:N,isActive:c,updateLocation:he});function ne(Se){i("click:outside",Se),e.persistent?Q():c.value=!1}function Z(Se){return c.value&&v.value&&(!e.scrim||Se.target===o.value||Se instanceof MouseEvent&&Se.shadowTarget===o.value)}ft&&Ce(c,Se=>{Se?window.addEventListener("keydown",re):window.removeEventListener("keydown",re)},{immediate:!0}),Ht(()=>{ft&&window.removeEventListener("keydown",re)});function re(Se){var De,Oe;Se.key==="Escape"&&v.value&&(e.persistent?Q():(c.value=!1,(De=l.value)!=null&&De.contains(document.activeElement)&&((Oe=I.value)==null||Oe.focus())))}const W=SC();gr(()=>e.closeOnBack,()=>{r3(W,Se=>{v.value&&c.value?(Se(!1),e.persistent?Q():c.value=!1):Se()})});const ee=q();Ce(()=>c.value&&(e.absolute||e.contained)&&P.value==null,Se=>{if(Se){const De=KS(s.value);De&&De!==document.scrollingElement&&(ee.value=De.scrollTop)}});function Q(){e.noClickAnimation||l.value&&Ja(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Xl})}function oe(){i("afterEnter")}function we(){g(),i("afterLeave")}return Re(()=>{var Se;return b(Pe,null,[(Se=n.activator)==null?void 0:Se.call(n,{isActive:c.value,targetRef:A,props:xe({ref:S},R.value,e.activatorProps)}),U.value&&p.value&&b(rN,{disabled:!P.value,to:P.value},{default:()=>[b("div",xe({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},d.value,f.value,e.class],style:[x.value,{"--v-overlay-opacity":e.opacity,top:Be(ee.value)},e.style],ref:s},J,r),[b(B3,xe({color:m,modelValue:c.value&&!!e.scrim,ref:o},V.value),null),b(kr,{appear:!0,persisted:!0,transition:e.transition,target:E.value,onAfterEnter:oe,onAfterLeave:we},{default:()=>{var De;return[Zt(b("div",xe({ref:l,class:["v-overlay__content",e.contentClass],style:[F.value,G.value]},M.value,e.contentProps),[(De=n.default)==null?void 0:De.call(n,{isActive:c})]),[[xa,c.value],[hi("click-outside"),{handler:ne,closeConditional:Z,include:()=>[I.value]}]])]}})])]})])}),{activatorEl:I,scrimEl:o,target:E,animateClick:Q,contentEl:l,globalTop:v,localTop:_,updateLocation:he}}}),Mp=Symbol("Forwarded refs");function Bp(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ki(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[Mp]=n,new Proxy(e,{get(i,a){if(Reflect.has(i,a))return Reflect.get(i,a);if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const s of n)if(s.value&&Reflect.has(s.value,a)){const o=Reflect.get(s.value,a);return typeof o=="function"?o.bind(s.value):o}}},has(i,a){if(Reflect.has(i,a))return!0;if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,a))return!0;return!1},set(i,a,s){if(Reflect.has(i,a))return Reflect.set(i,a,s);if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,a))return Reflect.set(o.value,a,s);return!1},getOwnPropertyDescriptor(i,a){var o;const s=Reflect.getOwnPropertyDescriptor(i,a);if(s)return s;if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=Bp(l.value,a)??("_"in l.value?Bp((o=l.value._)==null?void 0:o.setupState,a):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[Mp];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),f=Bp(d.value,a);if(f)return f;const h=d.value&&d.value[Mp];h&&c.push(...h)}}}}})}const U3=ce({id:String,text:String,...Nn(eh({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),El=Ee()({name:"VTooltip",props:U3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=it(e,"modelValue"),{scopeId:i}=Oo(),a=Mn(),s=O(()=>e.id||`v-tooltip-${a}`),o=q(),l=O(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=O(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=O(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),d=O(()=>xe({"aria-describedby":s.value},e.activatorProps));return Re(()=>{const f=vo.filterProps(e);return b(vo,xe({ref:o,class:["v-tooltip",e.class],style:e.style,id:s.value},f,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},i),{activator:n.activator,default:function(){var m;for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];return((m=n.default)==null?void 0:m.call(n,...p))??e.text}})}),Ki({},o)}}),H3={key:0,style:{color:"red"}},G3=["innerHTML"],W3={key:0},YC={__name:"PropertyShapeEditor",props:{property_shape:Object,node_uid:String,node_idx:String},setup(e){const t=e,n=q(""),r=q(t.property_shape),i=q(t.node_uid),a=q(t.node_idx),s=be("add_empty_triple"),o=be("add_empty_triple_manual"),l=be("editMode"),u=be("remove_triple"),c=be("shapePrefixes"),d=be("editorMatchers"),f=be("defaultEditor"),h=be("formData"),p=be("openForms"),g=be("show_all_fields"),{isRequired:m}=ir(r.value);en(()=>{console.log("PropertyShapeEditor is MOUNTED:"),!((l.graph||l.form)&&p.length==1&&h[i.value][a.value][n.value])&&(p.length>=2&&h[i.value][a.value][n.value]||s(i.value,a.value,n.value,"propertyShapeEditor onMounted"))}),yr(()=>{n.value=r.value[ue.path.value]}),Ht(()=>{});const v=O(()=>{for(const S in d)if(d[S].match(r.value))return d[S].component;return f}),_=O(()=>g.value?!0:!!(m.value||r.value.hasOwnProperty(ue.name.value)));function x(S){return r.value.hasOwnProperty(ue.maxCount)?r.value[ue.maxCount]==1?!1:r.value[ue.maxCount]>1&&h[i.value][a.value][n.value].length<r.value[ue.maxCount]&&h[i.value][a.value][n.value].length==S+1:h[i.value][a.value][n.value].length==S+1}function I(S){return h[i.value][a.value][n.value].length>1}return(S,E)=>X(h)[i.value]&&_.value?(pe(),et(ps,{key:0,align:"start","no-gutters":""},{default:te(()=>[b($n,{cols:"4"},{default:te(()=>[$e("span",null,[Me(vt(X(gC)(r.value,X(c),!0)),1),X(m)?(pe(),ke("span",H3," *")):Tt("",!0),E[1]||(E[1]=Me(": ")),b(El,{activator:"parent",location:"right","max-width":"400px","max-height":"400px"},{default:te(()=>[$e("p",{innerHTML:X($v)(r.value[X(ue).description.value])},null,8,G3)]),_:1})])]),_:1}),b($n,{cols:"8"},{default:te(()=>[X(h)[i.value][a.value]?(pe(),ke("span",W3,[(pe(!0),ke(Pe,null,Yt(X(h)[i.value][a.value][n.value],(N,A)=>(pe(),et(ps,{"no-gutters":"",key:i.value+"-"+n.value+"-"+A},{default:te(()=>[b($n,{cols:"9"},{default:te(()=>[(pe(),et(UN,null,{default:te(()=>[(pe(),et(Om(v.value),{modelValue:X(h)[i.value][a.value][n.value][A],"onUpdate:modelValue":R=>X(h)[i.value][a.value][n.value][A]=R,property_shape:r.value,node_uid:i.value,node_idx:a.value,triple_uid:n.value,triple_idx:A},null,8,["modelValue","onUpdate:modelValue","property_shape","node_uid","node_idx","triple_uid","triple_idx"]))]),_:2},1024))]),_:2},1024),b($n,null,{default:te(()=>[E[2]||(E[2]=Me("  ")),I(A)?(pe(),et(rt,{key:0,rounded:"0",elevation:"1",icon:"mdi-delete-outline",onClick:R=>X(u)(i.value,a.value,n.value,A),density:"comfortable"},null,8,["onClick"])):Tt("",!0),E[3]||(E[3]=Me("  ")),x(A)?(pe(),et(rt,{key:1,rounded:"0",elevation:"1",icon:"mdi-plus-circle-outline",onClick:E[0]||(E[0]=R=>X(o)(i.value,a.value,n.value)),density:"comfortable"})):Tt("",!0)]),_:2},1024)]),_:2},1024))),128))])):Tt("",!0)]),_:1})]),_:1})):Tt("",!0)}},z3=Object.freeze(Object.defineProperty({__proto__:null,default:YC},Symbol.toStringTag,{value:"Module"})),Lo=Ee()({name:"VCardActions",props:Ge(),setup(e,t){let{slots:n}=t;return gi({VBtn:{slim:!0,variant:"text"}}),Re(()=>{var r;return b("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),K3=ce({opacity:[Number,String],...Ge(),..._t()},"VCardSubtitle"),QC=Ee()({name:"VCardSubtitle",props:K3(),setup(e,t){let{slots:n}=t;return Re(()=>b(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Du=qd("v-card-title");function q3(e){return{aspectStyles:O(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const XC=ce({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Ge(),...Gn()},"VResponsive"),F0=Ee()({name:"VResponsive",props:XC(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=q3(e),{dimensionStyles:i}=Wn(e);return Re(()=>{var a;return b("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[i.value,e.style]},[b("div",{class:"v-responsive__sizer",style:r.value},null),(a=n.additional)==null?void 0:a.call(n),n.default&&b("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function J3(e,t){if(!Mm)return;const n=t.modifiers||{},r=t.value,{handler:i,options:a}=typeof r=="object"?r:{handler:r,options:{}},s=new IntersectionObserver(function(){var d;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(d=e._observe)==null?void 0:d[t.instance.$.uid];if(!u)return;const c=o.some(f=>f.isIntersecting);i&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&i(c,o,l),c&&n.once?ZC(e,t):u.init=!0},a);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:s},s.observe(e)}function ZC(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Jv={mounted:J3,unmounted:ZC},Y3=ce({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...XC(),...Ge(),...Un(),...Po()},"VImg"),Fo=Ee()({name:"VImg",directives:{intersect:Jv},props:Y3(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:i,backgroundColorStyles:a}=rn(Ie(e,"color")),{roundedClasses:s}=Hn(e),o=Gt("VImg"),l=Te(""),u=q(),c=Te(e.eager?"loading":"idle"),d=Te(),f=Te(),h=O(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),p=O(()=>h.value.aspect||d.value/f.value||0);Ce(()=>e.src,()=>{g(c.value!=="idle")}),Ce(p,(P,F)=>{!P&&F&&u.value&&I(u.value)}),yr(()=>g());function g(P){if(!(e.eager&&P)&&!(Mm&&!P&&!e.eager)){if(c.value="loading",h.value.lazySrc){const F=new Image;F.src=h.value.lazySrc,I(F,null)}h.value.src&&Dt(()=>{var F;n("loadstart",((F=u.value)==null?void 0:F.currentSrc)||h.value.src),setTimeout(()=>{var U;if(!o.isUnmounted)if((U=u.value)!=null&&U.complete){if(u.value.naturalWidth||v(),c.value==="error")return;p.value||I(u.value,null),c.value==="loading"&&m()}else p.value||I(u.value),_()})})}}function m(){var P;o.isUnmounted||(_(),I(u.value),c.value="loaded",n("load",((P=u.value)==null?void 0:P.currentSrc)||h.value.src))}function v(){var P;o.isUnmounted||(c.value="error",n("error",((P=u.value)==null?void 0:P.currentSrc)||h.value.src))}function _(){const P=u.value;P&&(l.value=P.currentSrc||P.src)}let x=-1;Ht(()=>{clearTimeout(x)});function I(P){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const U=()=>{if(clearTimeout(x),o.isUnmounted)return;const{naturalHeight:J,naturalWidth:G}=P;J||G?(d.value=G,f.value=J):!P.complete&&c.value==="loading"&&F!=null?x=window.setTimeout(U,F):(P.currentSrc.endsWith(".svg")||P.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,f.value=1)};U()}const S=O(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),E=()=>{var U;if(!h.value.src||c.value==="idle")return null;const P=b("img",{class:["v-img__img",S.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:h.value.src,srcset:h.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:m,onError:v},null),F=(U=r.sources)==null?void 0:U.call(r);return b(kr,{transition:e.transition,appear:!0},{default:()=>[Zt(F?b("picture",{class:"v-img__picture"},[F,P]):P,[[xa,c.value==="loaded"]])]})},N=()=>b(kr,{transition:e.transition},{default:()=>[h.value.lazySrc&&c.value!=="loaded"&&b("img",{class:["v-img__img","v-img__img--preload",S.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:h.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),A=()=>r.placeholder?b(kr,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!r.error)&&b("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,R=()=>r.error?b(kr,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&b("div",{class:"v-img__error"},[r.error()])]}):null,M=()=>e.gradient?b("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,V=Te(!1);{const P=Ce(p,F=>{F&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{V.value=!0})}),P())})}return Re(()=>{const P=F0.filterProps(e);return Zt(b(F0,xe({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!V.value},i.value,s.value,e.class],style:[{width:Be(e.width==="auto"?d.value:e.width)},a.value,e.style]},P,{aspectRatio:p.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>b(Pe,null,[b(E,null,null),b(N,null,null),b(M,null,null),b(A,null,null),b(R,null,null)]),default:r.default}),[[hi("intersect"),{handler:g,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:d,naturalHeight:f}}}),Q3=ce({start:Boolean,end:Boolean,icon:at,image:String,text:String,...vi(),...Ge(),...Mr(),...Un(),...Nu(),..._t(),...Ft(),...Ca({variant:"flat"})},"VAvatar"),va=Ee()({name:"VAvatar",props:Q3(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Bt(e),{borderClasses:i}=yi(e),{colorClasses:a,colorStyles:s,variantClasses:o}=Tu(e),{densityClasses:l}=bi(e),{roundedClasses:u}=Hn(e),{sizeClasses:c,sizeStyles:d}=Ru(e);return Re(()=>b(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,i.value,a.value,l.value,u.value,c.value,o.value,e.class],style:[s.value,d.value,e.style]},{default:()=>[n.default?b(yt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?b(Fo,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?b(ut,{key:"icon",icon:e.icon},null):e.text,Cu(!1,"v-avatar")]})),{}}}),X3=ce({appendAvatar:String,appendIcon:at,prependAvatar:String,prependIcon:at,subtitle:[String,Number],title:[String,Number],...Ge(),...Mr()},"VCardItem"),Z3=Ee()({name:"VCardItem",props:X3(),setup(e,t){let{slots:n}=t;return Re(()=>{var u;const r=!!(e.prependAvatar||e.prependIcon),i=!!(r||n.prepend),a=!!(e.appendAvatar||e.appendIcon),s=!!(a||n.append),o=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return b("div",{class:["v-card-item",e.class],style:e.style},[i&&b("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?b(yt,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):b(Pe,null,[e.prependAvatar&&b(va,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&b(ut,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),b("div",{class:"v-card-item__content"},[o&&b(Du,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&b(QC,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),s&&b("div",{key:"append",class:"v-card-item__append"},[n.append?b(yt,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):b(Pe,null,[e.appendIcon&&b(ut,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&b(va,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),eG=ce({opacity:[Number,String],...Ge(),..._t()},"VCardText"),gs=Ee()({name:"VCardText",props:eG(),setup(e,t){let{slots:n}=t;return Re(()=>b(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),tG=ce({appendAvatar:String,appendIcon:at,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:at,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...vi(),...Ge(),...Mr(),...Gn(),...Br(),...Mv(),...Jf(),...Uv(),...Un(),...Zf(),..._t(),...Ft(),...Ca({variant:"elevated"})},"VCard"),Mi=Ee()({name:"VCard",directives:{Ripple:ko},props:tG(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=Bt(e),{borderClasses:a}=yi(e),{colorClasses:s,colorStyles:o,variantClasses:l}=Tu(e),{densityClasses:u}=bi(e),{dimensionStyles:c}=Wn(e),{elevationClasses:d}=Ur(e),{loaderClasses:f}=Qf(e),{locationStyles:h}=Yf(e),{positionClasses:p}=Hv(e),{roundedClasses:g}=Hn(e),m=Xf(e,n),v=O(()=>e.link!==!1&&m.isLink.value),_=O(()=>!e.disabled&&e.link!==!1&&(e.link||m.isClickable.value));return Re(()=>{const x=v.value?"a":e.tag,I=!!(r.title||e.title!=null),S=!!(r.subtitle||e.subtitle!=null),E=I||S,N=!!(r.append||e.appendAvatar||e.appendIcon),A=!!(r.prepend||e.prependAvatar||e.prependIcon),R=!!(r.image||e.image),M=E||A||N,V=!!(r.text||e.text!=null);return Zt(b(x,xe({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":_.value},i.value,a.value,s.value,u.value,d.value,f.value,p.value,g.value,l.value,e.class],style:[o.value,c.value,h.value,e.style],onClick:_.value&&m.navigate,tabindex:e.disabled?-1:void 0},m.linkProps),{default:()=>{var P;return[R&&b("div",{key:"image",class:"v-card__image"},[r.image?b(yt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):b(Fo,{key:"image-img",cover:!0,src:e.image},null)]),b(Bv,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),M&&b(Z3,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),V&&b(gs,{key:"text"},{default:()=>{var F;return[((F=r.text)==null?void 0:F.call(r))??e.text]}}),(P=r.default)==null?void 0:P.call(r),r.actions&&b(Lo,null,{default:r.actions}),Cu(_.value,"v-card")]}}),[[hi("ripple"),_.value&&e.ripple]])}),{}}}),Yv=Symbol.for("vuetify:v-tabs"),nG=ce({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Nn(kC({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),eT=Ee()({name:"VTab",props:nG(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:i,textColorStyles:a}=Fr(e,"sliderColor"),s=q(),o=q(),l=O(()=>e.direction==="horizontal"),u=O(()=>{var d,f;return((f=(d=s.value)==null?void 0:d.group)==null?void 0:f.isSelected.value)??!1});function c(d){var h,p;let{value:f}=d;if(f){const g=(p=(h=s.value)==null?void 0:h.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),m=o.value;if(!g||!m)return;const v=getComputedStyle(g).color,_=g.getBoundingClientRect(),x=m.getBoundingClientRect(),I=l.value?"x":"y",S=l.value?"X":"Y",E=l.value?"right":"bottom",N=l.value?"width":"height",A=_[I],R=x[I],M=A>R?_[E]-x[E]:_[I]-x[I],V=Math.sign(M)>0?l.value?"right":"bottom":Math.sign(M)<0?l.value?"left":"top":"center",F=(Math.abs(M)+(Math.sign(M)<0?_[N]:x[N]))/Math.max(_[N],x[N])||0,U=_[N]/x[N]||0,J=1.5;Ja(m,{backgroundColor:[v,"currentcolor"],transform:[`translate${S}(${M}px) scale${S}(${U})`,`translate${S}(${M/J}px) scale${S}(${(F-1)/J+1})`,"none"],transformOrigin:Array(3).fill(V)},{duration:225,easing:Xl})}}return Re(()=>{const d=rt.filterProps(e);return b(rt,xe({symbol:Yv,ref:s,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},d,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":c}),{...n,default:()=>{var f;return b(Pe,null,[((f=n.default)==null?void 0:f.call(n))??e.text,!e.hideSlider&&b("div",{ref:o,class:["v-tab__slider",i.value],style:a.value},null)])}})}),Ki({},s)}}),rG=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:i}=e,a=.5,s=16;e.offsetX=n-t,e.offsetY=i-r,Math.abs(e.offsetY)<a*Math.abs(e.offsetX)&&(e.left&&n<t-s&&e.left(e),e.right&&n>t+s&&e.right(e)),Math.abs(e.offsetX)<a*Math.abs(e.offsetY)&&(e.up&&i<r-s&&e.up(e),e.down&&i>r+s&&e.down(e))};function iG(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function aG(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),rG(t)}function sG(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function oG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>iG(n,t),touchend:n=>aG(n,t),touchmove:n=>sG(n,t)}}function lG(e,t){var o;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,i=(n==null?void 0:n.options)??{passive:!0},a=(o=t.instance)==null?void 0:o.$.uid;if(!r||!a)return;const s=oG(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[a]=s,OS(s).forEach(l=>{r.addEventListener(l,s[l],i)})}function uG(e,t){var a,s;const n=(a=t.value)!=null&&a.parent?e.parentElement:e,r=(s=t.instance)==null?void 0:s.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const i=n._touchHandlers[r];OS(i).forEach(o=>{n.removeEventListener(o,i[o])}),delete n._touchHandlers[r]}const tT={mounted:lG,unmounted:uG},nT=Symbol.for("vuetify:v-window"),rT=Symbol.for("vuetify:v-window-group"),iT=ce({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ge(),..._t(),...Ft()},"VWindow"),j0=Ee()({name:"VWindow",directives:{Touch:tT},props:iT(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Bt(e),{isRtl:i}=er(),{t:a}=Sa(),s=Au(e,rT),o=q(),l=O(()=>i.value?!e.reverse:e.reverse),u=Te(!1),c=O(()=>{const I=e.direction==="vertical"?"y":"x",E=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${I}${E}-transition`}),d=Te(0),f=q(void 0),h=O(()=>s.items.value.findIndex(I=>s.selected.value.includes(I.id)));Ce(h,(I,S)=>{const E=s.items.value.length,N=E-1;E<=2?u.value=I<S:I===N&&S===0?u.value=!0:I===0&&S===N?u.value=!1:u.value=I<S}),Ae(nT,{transition:c,isReversed:u,transitionCount:d,transitionHeight:f,rootRef:o});const p=O(()=>e.continuous||h.value!==0),g=O(()=>e.continuous||h.value!==s.items.value.length-1);function m(){p.value&&s.prev()}function v(){g.value&&s.next()}const _=O(()=>{const I=[],S={icon:i.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:s.prev,"aria-label":a("$vuetify.carousel.prev")};I.push(p.value?n.prev?n.prev({props:S}):b(rt,S,null):b("div",null,null));const E={icon:i.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:s.next,"aria-label":a("$vuetify.carousel.next")};return I.push(g.value?n.next?n.next({props:E}):b(rt,E,null):b("div",null,null)),I}),x=O(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?m():v()},right:()=>{l.value?v():m()},start:S=>{let{originalEvent:E}=S;E.stopPropagation()}},...e.touch===!0?{}:e.touch});return Re(()=>Zt(b(e.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var I,S;return[b("div",{class:"v-window__container",style:{height:f.value}},[(I=n.default)==null?void 0:I.call(n,{group:s}),e.showArrows!==!1&&b("div",{class:"v-window__controls"},[_.value])]),(S=n.additional)==null?void 0:S.call(n,{group:s})]}}),[[hi("touch"),x.value]])),{group:s}}}),cG=ce({...Nn(iT(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),aT=Ee()({name:"VTabsWindow",props:cG(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=be(Yv,null),i=it(e,"modelValue"),a=O({get(){var s;return i.value!=null||!r?i.value:(s=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:s.value},set(s){i.value=s}});return Re(()=>{const s=j0.filterProps(e);return b(j0,xe({_as:"VTabsWindow"},s,{modelValue:a.value,"onUpdate:modelValue":o=>a.value=o,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}});function ku(){const e=Te(!1);return en(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:O(()=>e.value?void 0:{transition:"none !important"}),isBooted:lu(e)}}const sT=ce({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ge(),...Kf(),...Kv()},"VWindowItem"),$0=Ee()({name:"VWindowItem",directives:{Touch:tT},props:sT(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=be(nT),i=qf(e,rT),{isBooted:a}=ku();if(!r||!i)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=Te(!1),o=O(()=>a.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!s.value||!r||(s.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function u(){var p;s.value||!r||(s.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Be((p=r.rootRef.value)==null?void 0:p.clientHeight)),r.transitionCount.value+=1)}function c(){l()}function d(p){s.value&&Dt(()=>{!o.value||!s.value||!r||(r.transitionHeight.value=Be(p.clientHeight))})}const f=O(()=>{const p=r.isReversed.value?e.reverseTransition:e.transition;return o.value?{name:typeof p!="string"?r.transition.value:p,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:d}:!1}),{hasContent:h}=qv(e,i.isSelected);return Re(()=>b(kr,{transition:f.value,disabled:!a.value},{default:()=>{var p;return[Zt(b("div",{class:["v-window-item",i.selectedClass.value,e.class],style:e.style},[h.value&&((p=n.default)==null?void 0:p.call(n))]),[[xa,i.isSelected.value]])]}})),{groupItem:i}}}),dG=ce({...sT()},"VTabsWindowItem"),oT=Ee()({name:"VTabsWindowItem",props:dG(),setup(e,t){let{slots:n}=t;return Re(()=>{const r=$0.filterProps(e);return b($0,xe({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}}),fG=ce({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function ar(e,t,n){return Ee()({name:e,props:fG({mode:n,origin:t}),setup(r,i){let{slots:a}=i;const s={onBeforeEnter(o){r.origin&&(o.style.transformOrigin=r.origin)},onLeave(o){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:d}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${u}px`,o.style.width=`${c}px`,o.style.height=`${d}px`}r.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(r.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:u,left:c,width:d,height:f}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=u||"",o.style.left=c||"",o.style.width=d||"",o.style.height=f||""}}};return()=>{const o=r.group?Vm:pa;return wa(o,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:s},a.default)}}})}function lT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Ee()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,i){let{slots:a}=i;const s=r.group?Vm:pa;return()=>wa(s,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},a.default)}})}function uT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=Vn(`offset-${n}`);return{onBeforeEnter(s){s._parent=s.parentNode,s._initialStyle={transition:s.style.transition,overflow:s.style.overflow,[n]:s.style[n]}},onEnter(s){const o=s._initialStyle;s.style.setProperty("transition","none","important"),s.style.overflow="hidden";const l=`${s[r]}px`;s.style[n]="0",s.offsetHeight,s.style.transition=o.transition,e&&s._parent&&s._parent.classList.add(e),requestAnimationFrame(()=>{s.style[n]=l})},onAfterEnter:a,onEnterCancelled:a,onLeave(s){s._initialStyle={transition:"",overflow:s.style.overflow,[n]:s.style[n]},s.style.overflow="hidden",s.style[n]=`${s[r]}px`,s.offsetHeight,requestAnimationFrame(()=>s.style[n]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(s){e&&s._parent&&s._parent.classList.remove(e),a(s)}function a(s){const o=s._initialStyle[n];s.style.overflow=s._initialStyle.overflow,o!=null&&(s.style[n]=o),delete s._initialStyle}}const hG=ce({target:[Object,Array]},"v-dialog-transition"),Qv=Ee()({name:"VDialogTransition",props:hG(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,a){var f;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),i.style.visibility="";const{x:s,y:o,sx:l,sy:u,speed:c}=M0(e.target,i),d=Ja(i,[{transform:`translate(${s}px, ${o}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:RD});(f=V0(i))==null||f.forEach(h=>{Ja(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:Xl})}),d.finished.then(()=>a())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,a){var f;await new Promise(h=>requestAnimationFrame(h));const{x:s,y:o,sx:l,sy:u,speed:c}=M0(e.target,i);Ja(i,[{},{transform:`translate(${s}px, ${o}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:DD}).finished.then(()=>a()),(f=V0(i))==null||f.forEach(h=>{Ja(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:Xl})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>e.target?b(pa,xe({name:"dialog-transition"},r,{css:!1}),n):b(pa,{name:"dialog-transition"},n)}});function V0(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function M0(e,t){const n=VS(e),r=Km(t),[i,a]=getComputedStyle(t).transformOrigin.split(" ").map(v=>parseFloat(v)),[s,o]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;s==="left"||o==="left"?l-=n.width/2:(s==="right"||o==="right")&&(l+=n.width/2);let u=n.top+n.height/2;s==="top"||o==="top"?u-=n.height/2:(s==="bottom"||o==="bottom")&&(u+=n.height/2);const c=n.width/r.width,d=n.height/r.height,f=Math.max(1,c,d),h=c/f||0,p=d/f||0,g=r.width*r.height/(window.innerWidth*window.innerHeight),m=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(i+r.left),y:u-(a+r.top),sx:h,sy:p,speed:m}}ar("fab-transition","center center","out-in");ar("dialog-bottom-transition");ar("dialog-top-transition");const rm=ar("fade-transition"),pG=ar("scale-transition");ar("scroll-x-transition");ar("scroll-x-reverse-transition");ar("scroll-y-transition");ar("scroll-y-reverse-transition");ar("slide-x-transition");ar("slide-x-reverse-transition");const cT=ar("slide-y-transition");ar("slide-y-reverse-transition");const Xv=lT("expand-transition",uT()),dT=lT("expand-x-transition",uT("",!0));function gG(e){let{selectedElement:t,containerElement:n,isRtl:r,isHorizontal:i}=e;const a=iu(i,n),s=fT(i,r,n),o=iu(i,t),l=hT(i,t),u=o*.4;return s>l?l-u:s+a<l+o?l-a+o+u:s}function mG(e){let{selectedElement:t,containerElement:n,isHorizontal:r}=e;const i=iu(r,n),a=hT(r,t),s=iu(r,t);return a-i/2+s/2}function B0(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function vG(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function fT(e,t,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:i,scrollWidth:a}=n;return e?t?a-i+r:r:n.scrollTop}function iu(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function hT(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const yG=Symbol.for("vuetify:v-slide-group"),Zv=ce({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:yG},nextIcon:{type:at,default:"$next"},prevIcon:{type:at,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Ge(),...nE({mobile:null}),..._t(),...zf({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),kd=Ee()({name:"VSlideGroup",props:Zv(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=er(),{displayClasses:i,mobile:a}=Qd(e),s=Au(e,e.symbol),o=Te(!1),l=Te(0),u=Te(0),c=Te(0),d=O(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:h}=ho(),{resizeRef:p,contentRect:g}=ho(),m=Rk(),v=O(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),_=O(()=>s.selected.value.length?s.items.value.findIndex(W=>W.id===s.selected.value[0]):-1),x=O(()=>s.selected.value.length?s.items.value.findIndex(W=>W.id===s.selected.value[s.selected.value.length-1]):-1);if(ft){let W=-1;Ce(()=>[s.selected.value,h.value,g.value,d.value],()=>{cancelAnimationFrame(W),W=requestAnimationFrame(()=>{if(h.value&&g.value){const ee=d.value?"width":"height";u.value=h.value[ee],c.value=g.value[ee],o.value=u.value+1<c.value}if(_.value>=0&&p.el){const ee=p.el.children[x.value];S(ee,e.centerActive)}})})}const I=Te(!1);function S(W,ee){let Q=0;ee?Q=mG({containerElement:f.el,isHorizontal:d.value,selectedElement:W}):Q=gG({containerElement:f.el,isHorizontal:d.value,isRtl:r.value,selectedElement:W}),E(Q)}function E(W){if(!ft||!f.el)return;const ee=iu(d.value,f.el),Q=fT(d.value,r.value,f.el);if(!(B0(d.value,f.el)<=ee||Math.abs(W-Q)<16)){if(d.value&&r.value&&f.el){const{scrollWidth:we,offsetWidth:Se}=f.el;W=we-Se-W}d.value?m.horizontal(W,v.value):m(W,v.value)}}function N(W){const{scrollTop:ee,scrollLeft:Q}=W.target;l.value=d.value?Q:ee}function A(W){if(I.value=!0,!(!o.value||!p.el)){for(const ee of W.composedPath())for(const Q of p.el.children)if(Q===ee){S(Q);return}}}function R(W){I.value=!1}let M=!1;function V(W){var ee;!M&&!I.value&&!(W.relatedTarget&&((ee=p.el)!=null&&ee.contains(W.relatedTarget)))&&J(),M=!1}function P(){M=!0}function F(W){if(!p.el)return;function ee(Q){W.preventDefault(),J(Q)}d.value?W.key==="ArrowRight"?ee(r.value?"prev":"next"):W.key==="ArrowLeft"&&ee(r.value?"next":"prev"):W.key==="ArrowDown"?ee("next"):W.key==="ArrowUp"&&ee("prev"),W.key==="Home"?ee("first"):W.key==="End"&&ee("last")}function U(W,ee){if(!W)return;let Q=W;do Q=Q==null?void 0:Q[ee==="next"?"nextElementSibling":"previousElementSibling"];while(Q!=null&&Q.hasAttribute("disabled"));return Q}function J(W){if(!p.el)return;let ee;if(!W)ee=Yl(p.el)[0];else if(W==="next"){if(ee=U(p.el.querySelector(":focus"),W),!ee)return J("first")}else if(W==="prev"){if(ee=U(p.el.querySelector(":focus"),W),!ee)return J("last")}else W==="first"?(ee=p.el.firstElementChild,ee!=null&&ee.hasAttribute("disabled")&&(ee=U(ee,"next"))):W==="last"&&(ee=p.el.lastElementChild,ee!=null&&ee.hasAttribute("disabled")&&(ee=U(ee,"prev")));ee&&ee.focus({preventScroll:!0})}function G(W){const ee=d.value&&r.value?-1:1,Q=(W==="prev"?-ee:ee)*u.value;let oe=l.value+Q;if(d.value&&r.value&&f.el){const{scrollWidth:we,offsetWidth:Se}=f.el;oe+=we-Se}E(oe)}const he=O(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),ne=O(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return a.value||o.value||Math.abs(l.value)>0;default:return!a.value&&(o.value||Math.abs(l.value)>0)}}),Z=O(()=>Math.abs(l.value)>1),re=O(()=>{if(!f.value)return!1;const W=B0(d.value,f.el),ee=vG(d.value,f.el);return W-ee-Math.abs(l.value)>1});return Re(()=>b(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":ne.value,"v-slide-group--is-overflowing":o.value},i.value,e.class],style:e.style,tabindex:I.value||s.selected.value.length?-1:0,onFocus:V},{default:()=>{var W,ee,Q;return[ne.value&&b("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Z.value}],onMousedown:P,onClick:()=>Z.value&&G("prev")},[((W=n.prev)==null?void 0:W.call(n,he.value))??b(rm,null,{default:()=>[b(ut,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),b("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:N},[b("div",{ref:p,class:"v-slide-group__content",onFocusin:A,onFocusout:R,onKeydown:F},[(ee=n.default)==null?void 0:ee.call(n,he.value)])]),ne.value&&b("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!re.value}],onMousedown:P,onClick:()=>re.value&&G("next")},[((Q=n.next)==null?void 0:Q.call(n,he.value))??b(rm,null,{default:()=>[b(ut,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:G,scrollOffset:l,focus:J,hasPrev:Z,hasNext:re}}});function bG(e){return e?e.map(t=>Bm(t)?t:{text:t,value:t}):[]}const _G=ce({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Zv({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Mr(),..._t()},"VTabs"),wG=Ee()({name:"VTabs",props:_G(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const i=it(e,"modelValue"),a=O(()=>bG(e.items)),{densityClasses:s}=bi(e),{backgroundColorClasses:o,backgroundColorStyles:l}=rn(Ie(e,"bgColor")),{scopeId:u}=Oo();return gi({VTab:{color:Ie(e,"color"),direction:Ie(e,"direction"),stacked:Ie(e,"stacked"),fixed:Ie(e,"fixedTabs"),sliderColor:Ie(e,"sliderColor"),hideSlider:Ie(e,"hideSlider")}}),Re(()=>{const c=kd.filterProps(e),d=!!(r.window||e.items.length>0);return b(Pe,null,[b(kd,xe(c,{modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,o.value,e.class],style:[{"--v-tabs-height":Be(e.height)},l.value,e.style],role:"tablist",symbol:Yv},u,n),{default:()=>{var f;return[((f=r.default)==null?void 0:f.call(r))??a.value.map(h=>{var p;return((p=r.tab)==null?void 0:p.call(r,{item:h}))??b(eT,xe(h,{key:h.text,value:h.value}),{default:r[`tab.${h.value}`]?()=>{var g;return(g=r[`tab.${h.value}`])==null?void 0:g.call(r,{item:h})}:void 0})})]}}),d&&b(aT,xe({modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,key:"tabs-window"},u),{default:()=>{var f;return[a.value.map(h=>{var p;return((p=r.item)==null?void 0:p.call(r,{item:h}))??b(oT,{value:h.value},{default:()=>{var g;return(g=r[`item.${h.value}`])==null?void 0:g.call(r,{item:h})}})}),(f=r.window)==null?void 0:f.call(r)]}})])}),{}}}),xG={key:0},SG={key:1},EG={key:0},pT={__name:"NodeShapeEditor",props:{shape_iri:String,node_idx:String},setup(e){const t=e,n=q(t.shape_iri),r=q(t.node_idx),i=be("config"),a=i.value.defaultPropertyGroup,s=be("propertyGroups"),l=be("nodeShapes").value[n.value],u=q(!1);var c=q(null);const d=q("default"),f=[Mt.type.value],h=Te({});en(()=>{h.value=p(),u.value=!0}),yr(()=>{i.value.hasOwnProperty("group_layout")&&i.value.group_layout=="tabs"&&(d.value="tabs")}),Rm(()=>{}),Ht(()=>{n.value=null,r.value=null});function p(){var g=l.properties.map(function(x){return x[ue.group.value]});g=[...new Set(g)].filter(Boolean);var m={};for(var v of g)s.value[v]?m[v]=s.value[v]:m[v]={};m[a.key]=a.value;for(var v of Object.keys(m))m[v].own_properties=[];for(var _ of l.properties)_.hasOwnProperty(ue.group.value)?m[_[ue.group.value]].own_properties.push(_):f.indexOf(_[ue.path])<0?m[a.key].own_properties.push(_):(console.log("Not adding ignored property default group:"),console.log(_));return m}return(g,m)=>{const v=YC;return d.value=="tabs"?(pe(),ke("span",xG,[b(Mi,null,{default:te(()=>[b(wG,{modelValue:X(c),"onUpdate:modelValue":m[0]||(m[0]=_=>lt(c)?c.value=_:c=_),"bg-color":"#C5CAE9"},{default:te(()=>[(pe(!0),ke(Pe,null,Yt(X(pl)(Object.values(h.value),X(ue).order.value),_=>(pe(),ke("span",null,[b(eT,{value:_[X(Rr).label.value]},{default:te(()=>[Me(vt(_[X(Rr).label.value]),1)]),_:2},1032,["value"])]))),256))]),_:1},8,["modelValue"]),b(gs,null,{default:te(()=>[b(aT,{modelValue:X(c),"onUpdate:modelValue":m[1]||(m[1]=_=>lt(c)?c.value=_:c=_)},{default:te(()=>[(pe(!0),ke(Pe,null,Yt(X(pl)(Object.values(h.value),X(ue).order.value),_=>(pe(),ke("span",null,[_.own_properties.length?(pe(),et(oT,{key:0,value:_[X(Rr).label.value]},{default:te(()=>[$e("h3",null,vt(_[X(Rr).label.value]),1),$e("p",null,vt(_[X(Rr).comment.value]),1),m[2]||(m[2]=$e("br",null,null,-1)),(pe(!0),ke(Pe,null,Yt(X(pl)(_.own_properties,X(ue).order.value),x=>(pe(),ke("span",{key:n.value+"-"+r.value+"-"+x[X(ue).path.value]},[b(v,{property_shape:x,node_uid:n.value,node_idx:r.value},null,8,["property_shape","node_uid","node_idx"])]))),128)),m[3]||(m[3]=$e("br",null,null,-1))]),_:2},1032,["value"])):Tt("",!0)]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})])):(pe(),ke("span",SG,[(pe(!0),ke(Pe,null,Yt(X(pl)([...Object.values(h.value)],X(ue).order.value),_=>(pe(),ke("span",null,[_.own_properties.length?(pe(),ke("span",EG,[$e("h3",null,vt(_[X(Rr).label.value]),1),$e("p",null,[$e("em",null,vt(_[X(Rr).comment.value]),1)]),m[4]||(m[4]=$e("br",null,null,-1)),(pe(!0),ke(Pe,null,Yt(X(pl)(_.own_properties,X(ue).order.value),x=>(pe(),ke("span",{key:n.value+"-"+r.value+"-"+x[X(ue).path.value]},[b(v,{property_shape:x,node_uid:n.value,node_idx:r.value},null,8,["property_shape","node_uid","node_idx"])]))),128))])):Tt("",!0),m[5]||(m[5]=$e("br",null,null,-1))]))),256))]))}}},IG=Object.freeze(Object.defineProperty({__proto__:null,default:pT},Symbol.toStringTag,{value:"Module"})),jo=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},gT=Symbol.for("vuetify:form"),CG=ce({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function TG(e){const t=it(e,"modelValue"),n=O(()=>e.disabled),r=O(()=>e.readonly),i=Te(!1),a=q([]),s=q([]);async function o(){const c=[];let d=!0;s.value=[],i.value=!0;for(const f of a.value){const h=await f.validate();if(h.length>0&&(d=!1,c.push({id:f.id,errorMessages:h})),!d&&e.fastFail)break}return s.value=c,i.value=!1,{valid:d,errors:s.value}}function l(){a.value.forEach(c=>c.reset())}function u(){a.value.forEach(c=>c.resetValidation())}return Ce(a,()=>{let c=0,d=0;const f=[];for(const h of a.value)h.isValid===!1?(d++,f.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&c++;s.value=f,t.value=d>0?!1:c===a.value.length?!0:null},{deep:!0,flush:"post"}),Ae(gT,{register:c=>{let{id:d,vm:f,validate:h,reset:p,resetValidation:g}=c;a.value.some(m=>m.id===d),a.value.push({id:d,validate:h,reset:p,resetValidation:g,vm:Rx(f),isValid:null,errorMessages:[]})},unregister:c=>{a.value=a.value.filter(d=>d.id!==c)},update:(c,d,f)=>{const h=a.value.find(p=>p.id===c);h&&(h.isValid=d,h.errorMessages=f)},isDisabled:n,isReadonly:r,isValidating:i,isValid:t,items:a,validateOn:Ie(e,"validateOn")}),{errors:s,isDisabled:n,isReadonly:r,isValidating:i,isValid:t,items:a,validate:o,reset:l,resetValidation:u}}function ey(e){const t=be(gT,null);return{...t,isReadonly:O(()=>!!((e==null?void 0:e.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:O(()=>!!((e==null?void 0:e.disabled)??(t==null?void 0:t.isDisabled.value)))}}const AG=ce({...Ge(),...CG()},"VForm"),ty=Ee()({name:"VForm",props:AG(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const i=TG(e),a=q();function s(l){l.preventDefault(),i.reset()}function o(l){const u=l,c=i.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),r("submit",u),u.defaultPrevented||c.then(d=>{var h;let{valid:f}=d;f&&((h=a.value)==null||h.submit())}),u.preventDefault()}return Re(()=>{var l;return b("form",{ref:a,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:s,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,i)])}),Ki(i,a)}}),im=Symbol.for("vuetify:list");function mT(){const e=be(im,{hasPrepend:Te(!1),updateHasPrepend:()=>null}),t={hasPrepend:Te(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return Ae(im,t),e}function vT(){return be(im,null)}const ny=e=>{const t={activate:n=>{let{id:r,value:i,activated:a}=n;return r=je(r),e&&!i&&a.size===1&&a.has(r)||(i?a.add(r):a.delete(r)),a},in:(n,r,i)=>{let a=new Set;if(n!=null)for(const s of Qt(n))a=t.activate({id:s,value:!0,activated:new Set(a),children:r,parents:i});return a},out:n=>Array.from(n)};return t},yT=e=>{const t=ny(e);return{activate:r=>{let{activated:i,id:a,...s}=r;a=je(a);const o=i.has(a)?new Set([a]):new Set;return t.activate({...s,id:a,activated:o})},in:(r,i,a)=>{let s=new Set;if(r!=null){const o=Qt(r);o.length&&(s=t.in(o.slice(0,1),i,a))}return s},out:(r,i,a)=>t.out(r,i,a)}},NG=e=>{const t=ny(e);return{activate:r=>{let{id:i,activated:a,children:s,...o}=r;return i=je(i),s.has(i)?a:t.activate({id:i,activated:a,children:s,...o})},in:t.in,out:t.out}},RG=e=>{const t=yT(e);return{activate:r=>{let{id:i,activated:a,children:s,...o}=r;return i=je(i),s.has(i)?a:t.activate({id:i,activated:a,children:s,...o})},in:t.in,out:t.out}},DG={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){const a=new Set;a.add(t);let s=i.get(t);for(;s!=null;)a.add(s),s=i.get(s);return a}else return r.delete(t),r},select:()=>null},bT={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){let a=i.get(t);for(r.add(t);a!=null&&a!==t;)r.add(a),a=i.get(a);return r}else r.delete(t);return r},select:()=>null},kG={open:bT.open,select:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(!n)return r;const a=[];let s=i.get(t);for(;s!=null;)a.push(s),s=i.get(s);return new Set(a)}},ry=e=>{const t={select:n=>{let{id:r,value:i,selected:a}=n;if(r=je(r),e&&!i){const s=Array.from(a.entries()).reduce((o,l)=>{let[u,c]=l;return c==="on"&&o.push(u),o},[]);if(s.length===1&&s[0]===r)return a}return a.set(r,i?"on":"off"),a},in:(n,r,i)=>{let a=new Map;for(const s of n||[])a=t.select({id:s,value:!0,selected:new Map(a),children:r,parents:i});return a},out:n=>{const r=[];for(const[i,a]of n.entries())a==="on"&&r.push(i);return r}};return t},_T=e=>{const t=ry(e);return{select:r=>{let{selected:i,id:a,...s}=r;a=je(a);const o=i.has(a)?new Map([[a,i.get(a)]]):new Map;return t.select({...s,id:a,selected:o})},in:(r,i,a)=>{let s=new Map;return r!=null&&r.length&&(s=t.in(r.slice(0,1),i,a)),s},out:(r,i,a)=>t.out(r,i,a)}},OG=e=>{const t=ry(e);return{select:r=>{let{id:i,selected:a,children:s,...o}=r;return i=je(i),s.has(i)?a:t.select({id:i,selected:a,children:s,...o})},in:t.in,out:t.out}},PG=e=>{const t=_T(e);return{select:r=>{let{id:i,selected:a,children:s,...o}=r;return i=je(i),s.has(i)?a:t.select({id:i,selected:a,children:s,...o})},in:t.in,out:t.out}},LG=e=>{const t={select:n=>{let{id:r,value:i,selected:a,children:s,parents:o}=n;r=je(r);const l=new Map(a),u=[r];for(;u.length;){const d=u.shift();a.set(je(d),i?"on":"off"),s.has(d)&&u.push(...s.get(d))}let c=je(o.get(r));for(;c;){const d=s.get(c),f=d.every(p=>a.get(je(p))==="on"),h=d.every(p=>!a.has(je(p))||a.get(je(p))==="off");a.set(c,f?"on":h?"off":"indeterminate"),c=je(o.get(c))}return e&&!i&&Array.from(a.entries()).reduce((f,h)=>{let[p,g]=h;return g==="on"&&f.push(p),f},[]).length===0?l:a},in:(n,r,i)=>{let a=new Map;for(const s of n||[])a=t.select({id:s,value:!0,selected:new Map(a),children:r,parents:i});return a},out:(n,r)=>{const i=[];for(const[a,s]of n.entries())s==="on"&&!r.has(a)&&i.push(a);return i}};return t},au=Symbol.for("vuetify:nested"),wT={id:Te(),root:{register:()=>null,unregister:()=>null,parents:q(new Map),children:q(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:q(!1),selectable:q(!1),opened:q(new Set),activated:q(new Set),selected:q(new Map),selectedValues:q([]),getPath:()=>[]}},FG=ce({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),jG=e=>{let t=!1;const n=q(new Map),r=q(new Map),i=it(e,"opened",e.opened,p=>new Set(p),p=>[...p.values()]),a=O(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return NG(e.mandatory);case"single-leaf":return RG(e.mandatory);case"independent":return ny(e.mandatory);case"single-independent":default:return yT(e.mandatory)}}),s=O(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return PG(e.mandatory);case"leaf":return OG(e.mandatory);case"independent":return ry(e.mandatory);case"single-independent":return _T(e.mandatory);case"classic":default:return LG(e.mandatory)}}),o=O(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return kG;case"single":return DG;case"multiple":default:return bT}}),l=it(e,"activated",e.activated,p=>a.value.in(p,n.value,r.value),p=>a.value.out(p,n.value,r.value)),u=it(e,"selected",e.selected,p=>s.value.in(p,n.value,r.value),p=>s.value.out(p,n.value,r.value));Ht(()=>{t=!0});function c(p){const g=[];let m=p;for(;m!=null;)g.unshift(m),m=r.value.get(m);return g}const d=Gt("nested"),f=new Set,h={id:Te(),root:{opened:i,activatable:Ie(e,"activatable"),selectable:Ie(e,"selectable"),activated:l,selected:u,selectedValues:O(()=>{const p=[];for(const[g,m]of u.value.entries())m==="on"&&p.push(g);return p}),register:(p,g,m)=>{if(f.has(p)){c(p).map(String).join(" -> "),c(g).concat(p).map(String).join(" -> ");return}else f.add(p);g&&p!==g&&r.value.set(p,g),m&&n.value.set(p,[]),g!=null&&n.value.set(g,[...n.value.get(g)||[],p])},unregister:p=>{if(t)return;f.delete(p),n.value.delete(p);const g=r.value.get(p);if(g){const m=n.value.get(g)??[];n.value.set(g,m.filter(v=>v!==p))}r.value.delete(p)},open:(p,g,m)=>{d.emit("click:open",{id:p,value:g,path:c(p),event:m});const v=o.value.open({id:p,value:g,opened:new Set(i.value),children:n.value,parents:r.value,event:m});v&&(i.value=v)},openOnSelect:(p,g,m)=>{const v=o.value.select({id:p,value:g,selected:new Map(u.value),opened:new Set(i.value),children:n.value,parents:r.value,event:m});v&&(i.value=v)},select:(p,g,m)=>{d.emit("click:select",{id:p,value:g,path:c(p),event:m});const v=s.value.select({id:p,value:g,selected:new Map(u.value),children:n.value,parents:r.value,event:m});v&&(u.value=v),h.root.openOnSelect(p,g,m)},activate:(p,g,m)=>{if(!e.activatable)return h.root.select(p,!0,m);d.emit("click:activate",{id:p,value:g,path:c(p),event:m});const v=a.value.activate({id:p,value:g,activated:new Set(l.value),children:n.value,parents:r.value,event:m});v&&(l.value=v)},children:n,parents:r,getPath:c}};return Ae(au,h),h.root},xT=(e,t)=>{const n=be(au,wT),r=Symbol(Mn()),i=O(()=>e.value!==void 0?e.value:r),a={...n,id:i,open:(s,o)=>n.root.open(i.value,s,o),openOnSelect:(s,o)=>n.root.openOnSelect(i.value,s,o),isOpen:O(()=>n.root.opened.value.has(i.value)),parent:O(()=>n.root.parents.value.get(i.value)),activate:(s,o)=>n.root.activate(i.value,s,o),isActivated:O(()=>n.root.activated.value.has(je(i.value))),select:(s,o)=>n.root.select(i.value,s,o),isSelected:O(()=>n.root.selected.value.get(je(i.value))==="on"),isIndeterminate:O(()=>n.root.selected.value.get(je(i.value))==="indeterminate"),isLeaf:O(()=>!n.root.children.value.get(i.value)),isGroupActivator:n.isGroupActivator};return yr(()=>{!n.isGroupActivator&&n.root.register(i.value,n.id.value,t)}),Ht(()=>{!n.isGroupActivator&&n.root.unregister(i.value)}),t&&Ae(au,a),a},$G=()=>{const e=be(au,wT);Ae(au,{...e,isGroupActivator:!0})},VG=wo({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return $G(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),MG=ce({activeColor:String,baseColor:String,color:String,collapseIcon:{type:at,default:"$collapse"},expandIcon:{type:at,default:"$expand"},prependIcon:at,appendIcon:at,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ge(),..._t()},"VListGroup"),U0=Ee()({name:"VListGroup",props:MG(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:i,id:a}=xT(Ie(e,"value"),!0),s=O(()=>`v-list-group--id-${String(a.value)}`),o=vT(),{isBooted:l}=ku();function u(h){h.stopPropagation(),i(!r.value,h)}const c=O(()=>({onClick:u,class:"v-list-group__header",id:s.value})),d=O(()=>r.value?e.collapseIcon:e.expandIcon),f=O(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&d.value,appendIcon:e.appendIcon||!e.subgroup&&d.value,title:e.title,value:e.value}}));return Re(()=>b(e.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&b(yt,{defaults:f.value},{default:()=>[b(VG,null,{default:()=>[n.activator({props:c.value,isOpen:r.value})]})]}),b(kr,{transition:{component:Xv},disabled:!l.value},{default:()=>{var h;return[Zt(b("div",{class:"v-list-group__items",role:"group","aria-labelledby":s.value},[(h=n.default)==null?void 0:h.call(n)]),[[xa,r.value]])]}})]})),{isOpen:r}}}),BG=ce({opacity:[Number,String],...Ge(),..._t()},"VListItemSubtitle"),ST=Ee()({name:"VListItemSubtitle",props:BG(),setup(e,t){let{slots:n}=t;return Re(()=>b(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Od=qd("v-list-item-title"),UG=ce({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:at,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:at,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:An(),onClickOnce:An(),...vi(),...Ge(),...Mr(),...Gn(),...Br(),...Un(),...Zf(),..._t(),...Ft(),...Ca({variant:"text"})},"VListItem"),Zn=Ee()({name:"VListItem",directives:{Ripple:ko},props:UG(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:i}=t;const a=Xf(e,n),s=O(()=>e.value===void 0?a.href.value:e.value),{activate:o,isActivated:l,select:u,isOpen:c,isSelected:d,isIndeterminate:f,isGroupActivator:h,root:p,parent:g,openOnSelect:m,id:v}=xT(s,!1),_=vT(),x=O(()=>{var oe;return e.active!==!1&&(e.active||((oe=a.isActive)==null?void 0:oe.value)||(p.activatable.value?l.value:d.value))}),I=O(()=>e.link!==!1&&a.isLink.value),S=O(()=>!!_&&(p.selectable.value||p.activatable.value||e.value!=null)),E=O(()=>!e.disabled&&e.link!==!1&&(e.link||a.isClickable.value||S.value)),N=O(()=>e.rounded||e.nav),A=O(()=>e.color??e.activeColor),R=O(()=>({color:x.value?A.value??e.baseColor:e.baseColor,variant:e.variant}));Ce(()=>{var oe;return(oe=a.isActive)==null?void 0:oe.value},oe=>{oe&&M()}),yr(()=>{var oe;(oe=a.isActive)!=null&&oe.value&&M()});function M(){g.value!=null&&p.open(g.value,!0),m(!0)}const{themeClasses:V}=Bt(e),{borderClasses:P}=yi(e),{colorClasses:F,colorStyles:U,variantClasses:J}=Tu(R),{densityClasses:G}=bi(e),{dimensionStyles:he}=Wn(e),{elevationClasses:ne}=Ur(e),{roundedClasses:Z}=Hn(N),re=O(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),W=O(()=>({isActive:x.value,select:u,isOpen:c.value,isSelected:d.value,isIndeterminate:f.value}));function ee(oe){var we;i("click",oe),E.value&&((we=a.navigate)==null||we.call(a,oe),!h&&(p.activatable.value?o(!l.value,oe):(p.selectable.value||e.value!=null)&&u(!d.value,oe)))}function Q(oe){(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),oe.target.dispatchEvent(new MouseEvent("click",oe)))}return Re(()=>{const oe=I.value?"a":e.tag,we=r.title||e.title!=null,Se=r.subtitle||e.subtitle!=null,De=!!(e.appendAvatar||e.appendIcon),Oe=!!(De||r.append),Qe=!!(e.prependAvatar||e.prependIcon),qe=!!(Qe||r.prepend);return _==null||_.updateHasPrepend(qe),e.activeColor&&dD("active-color",["color","base-color"]),Zt(b(oe,xe({class:["v-list-item",{"v-list-item--active":x.value,"v-list-item--disabled":e.disabled,"v-list-item--link":E.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!qe&&(_==null?void 0:_.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&x.value},V.value,P.value,F.value,G.value,ne.value,re.value,Z.value,J.value,e.class],style:[U.value,he.value,e.style],tabindex:E.value?_?-2:0:void 0,"aria-selected":S.value?p.activatable.value?l.value:p.selectable.value?d.value:x.value:void 0,onClick:ee,onKeydown:E.value&&!I.value&&Q},a.linkProps),{default:()=>{var ge;return[Cu(E.value||x.value,"v-list-item"),qe&&b("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?b(yt,{key:"prepend-defaults",disabled:!Qe,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var j;return[(j=r.prepend)==null?void 0:j.call(r,W.value)]}}):b(Pe,null,[e.prependAvatar&&b(va,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&b(ut,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),b("div",{class:"v-list-item__spacer"},null)]),b("div",{class:"v-list-item__content","data-no-activator":""},[we&&b(Od,{key:"title"},{default:()=>{var j;return[((j=r.title)==null?void 0:j.call(r,{title:e.title}))??e.title]}}),Se&&b(ST,{key:"subtitle"},{default:()=>{var j;return[((j=r.subtitle)==null?void 0:j.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(ge=r.default)==null?void 0:ge.call(r,W.value)]),Oe&&b("div",{key:"append",class:"v-list-item__append"},[r.append?b(yt,{key:"append-defaults",disabled:!De,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var j;return[(j=r.append)==null?void 0:j.call(r,W.value)]}}):b(Pe,null,[e.appendIcon&&b(ut,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&b(va,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),b("div",{class:"v-list-item__spacer"},null)])]}}),[[hi("ripple"),E.value&&e.ripple]])}),{activate:o,isActivated:l,isGroupActivator:h,isSelected:d,list:_,select:u,root:p,id:v}}}),HG=ce({color:String,inset:Boolean,sticky:Boolean,title:String,...Ge(),..._t()},"VListSubheader"),GG=Ee()({name:"VListSubheader",props:HG(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:i}=Fr(Ie(e,"color"));return Re(()=>{const a=!!(n.default||e.title);return b(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:i},e.style]},{default:()=>{var s;return[a&&b("div",{class:"v-list-subheader__text"},[((s=n.default)==null?void 0:s.call(n))??e.title])]}})}),{}}}),WG=ce({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Ge(),...Ft()},"VDivider"),am=Ee()({name:"VDivider",props:WG(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=Bt(e),{textColorClasses:a,textColorStyles:s}=Fr(Ie(e,"color")),o=O(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=Be(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=Be(e.thickness)),l});return Re(()=>{const l=b("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},i.value,a.value,e.class],style:[o.value,s.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?b("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[l,b("div",{class:"v-divider__content"},[r.default()]),l]):l}),{}}}),zG=ce({items:Array,returnObject:Boolean},"VListChildren"),ET=Ee()({name:"VListChildren",props:zG(),setup(e,t){let{slots:n}=t;return mT(),()=>{var r,i;return((r=n.default)==null?void 0:r.call(n))??((i=e.items)==null?void 0:i.map(a=>{var f,h;let{children:s,props:o,type:l,raw:u}=a;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:o}))??b(am,o,null);if(l==="subheader")return((h=n.subheader)==null?void 0:h.call(n,{props:o}))??b(GG,o,null);const c={subtitle:n.subtitle?p=>{var g;return(g=n.subtitle)==null?void 0:g.call(n,{...p,item:u})}:void 0,prepend:n.prepend?p=>{var g;return(g=n.prepend)==null?void 0:g.call(n,{...p,item:u})}:void 0,append:n.append?p=>{var g;return(g=n.append)==null?void 0:g.call(n,{...p,item:u})}:void 0,title:n.title?p=>{var g;return(g=n.title)==null?void 0:g.call(n,{...p,item:u})}:void 0},d=U0.filterProps(o);return s?b(U0,xe({value:o==null?void 0:o.value},d),{activator:p=>{let{props:g}=p;const m={...o,...g,value:e.returnObject?u:o.value};return n.header?n.header({props:m}):b(Zn,m,c)},default:()=>b(ET,{items:s,returnObject:e.returnObject},n)}):n.item?n.item({props:o}):b(Zn,xe(o,{value:e.returnObject?u:o.value}),c)}))}}}),IT=ce({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:_o}},"list-items");function sm(e,t){const n=ai(t,e.itemTitle,t),r=ai(t,e.itemValue,n),i=ai(t,e.itemChildren),a=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Nn(t,["children"]):t:void 0:ai(t,e.itemProps),s={title:n,value:r,...a};return{title:String(s.title??""),value:s.value,props:s,children:Array.isArray(i)?CT(e,i):void 0,raw:t}}function CT(e,t){const n=[];for(const r of t)n.push(sm(e,r));return n}function TT(e){const t=O(()=>CT(e,e.items)),n=O(()=>t.value.some(a=>a.value===null));function r(a){return n.value||(a=a.filter(s=>s!==null)),a.map(s=>e.returnObject&&typeof s=="string"?sm(e,s):t.value.find(o=>e.valueComparator(s,o.value))||sm(e,s))}function i(a){return e.returnObject?a.map(s=>{let{raw:o}=s;return o}):a.map(s=>{let{value:o}=s;return o})}return{items:t,transformIn:r,transformOut:i}}function KG(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function qG(e,t){const n=ai(t,e.itemType,"item"),r=KG(t)?t:ai(t,e.itemTitle),i=ai(t,e.itemValue,void 0),a=ai(t,e.itemChildren),s=e.itemProps===!0?Nn(t,["children"]):ai(t,e.itemProps),o={title:r,value:i,...s};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&a?AT(e,a):void 0,raw:t}}function AT(e,t){const n=[];for(const r of t)n.push(qG(e,r));return n}function JG(e){return{items:O(()=>AT(e,e.items))}}const YG=ce({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:at,collapseIcon:at,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":An(),"onClick:select":An(),"onUpdate:opened":An(),...FG({selectStrategy:"single-leaf",openStrategy:"list"}),...vi(),...Ge(),...Mr(),...Gn(),...Br(),itemType:{type:String,default:"type"},...IT(),...Un(),..._t(),...Ft(),...Ca({variant:"text"})},"VList"),Ou=Ee()({name:"VList",props:YG(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=JG(e),{themeClasses:i}=Bt(e),{backgroundColorClasses:a,backgroundColorStyles:s}=rn(Ie(e,"bgColor")),{borderClasses:o}=yi(e),{densityClasses:l}=bi(e),{dimensionStyles:u}=Wn(e),{elevationClasses:c}=Ur(e),{roundedClasses:d}=Hn(e),{children:f,open:h,parents:p,select:g,getPath:m}=jG(e),v=O(()=>e.lines?`v-list--${e.lines}-line`:void 0),_=Ie(e,"activeColor"),x=Ie(e,"baseColor"),I=Ie(e,"color");mT(),gi({VListGroup:{activeColor:_,baseColor:x,color:I,expandIcon:Ie(e,"expandIcon"),collapseIcon:Ie(e,"collapseIcon")},VListItem:{activeClass:Ie(e,"activeClass"),activeColor:_,baseColor:x,color:I,density:Ie(e,"density"),disabled:Ie(e,"disabled"),lines:Ie(e,"lines"),nav:Ie(e,"nav"),slim:Ie(e,"slim"),variant:Ie(e,"variant")}});const S=Te(!1),E=q();function N(F){S.value=!0}function A(F){S.value=!1}function R(F){var U;!S.value&&!(F.relatedTarget&&((U=E.value)!=null&&U.contains(F.relatedTarget)))&&P()}function M(F){const U=F.target;if(!(!E.value||["INPUT","TEXTAREA"].includes(U.tagName))){if(F.key==="ArrowDown")P("next");else if(F.key==="ArrowUp")P("prev");else if(F.key==="Home")P("first");else if(F.key==="End")P("last");else return;F.preventDefault()}}function V(F){S.value=!0}function P(F){if(E.value)return kl(E.value,F)}return Re(()=>b(e.tag,{ref:E,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},i.value,a.value,o.value,l.value,c.value,v.value,d.value,e.class],style:[s.value,u.value,e.style],tabindex:e.disabled||S.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:N,onFocusout:A,onFocus:R,onKeydown:M,onMousedown:V},{default:()=>[b(ET,{items:r.value,returnObject:e.returnObject},n)]})),{open:h,select:g,focus:P,children:f,parents:p,getPath:m}}}),QG=ce({id:String,submenu:Boolean,...Nn(eh({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Qv}}),["absolute"])},"VMenu"),th=Ee()({name:"VMenu",props:QG(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=it(e,"modelValue"),{scopeId:i}=Oo(),{isRtl:a}=er(),s=Mn(),o=O(()=>e.id||`v-menu-${s}`),l=q(),u=be(nm,null),c=Te(new Set);Ae(nm,{register(){c.value.add(s)},unregister(){c.value.delete(s)},closeParents(m){setTimeout(()=>{var v;!c.value.size&&!e.persistent&&(m==null||(v=l.value)!=null&&v.contentEl&&!XR(m,l.value.contentEl))&&(r.value=!1,u==null||u.closeParents())},40)}}),Ht(()=>{u==null||u.unregister(),document.removeEventListener("focusin",d)}),Nm(()=>r.value=!1);async function d(m){var x,I,S;const v=m.relatedTarget,_=m.target;await Dt(),r.value&&v!==_&&((x=l.value)!=null&&x.contentEl)&&((I=l.value)!=null&&I.globalTop)&&![document,l.value.contentEl].includes(_)&&!l.value.contentEl.contains(_)&&((S=Yl(l.value.contentEl)[0])==null||S.focus())}Ce(r,m=>{m?(u==null||u.register(),ft&&document.addEventListener("focusin",d,{once:!0})):(u==null||u.unregister(),ft&&document.removeEventListener("focusin",d))},{immediate:!0});function f(m){u==null||u.closeParents(m)}function h(m){var v,_,x,I,S;if(!e.disabled)if(m.key==="Tab"||m.key==="Enter"&&!e.closeOnContentClick){if(m.key==="Enter"&&(m.target instanceof HTMLTextAreaElement||m.target instanceof HTMLInputElement&&m.target.closest("form")))return;m.key==="Enter"&&m.preventDefault(),jS(Yl((v=l.value)==null?void 0:v.contentEl,!1),m.shiftKey?"prev":"next",N=>N.tabIndex>=0)||(r.value=!1,(x=(_=l.value)==null?void 0:_.activatorEl)==null||x.focus())}else e.submenu&&m.key===(a.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(S=(I=l.value)==null?void 0:I.activatorEl)==null||S.focus())}function p(m){var _;if(e.disabled)return;const v=(_=l.value)==null?void 0:_.contentEl;v&&r.value?m.key==="ArrowDown"?(m.preventDefault(),m.stopImmediatePropagation(),kl(v,"next")):m.key==="ArrowUp"?(m.preventDefault(),m.stopImmediatePropagation(),kl(v,"prev")):e.submenu&&(m.key===(a.value?"ArrowRight":"ArrowLeft")?r.value=!1:m.key===(a.value?"ArrowLeft":"ArrowRight")&&(m.preventDefault(),kl(v,"first"))):(e.submenu?m.key===(a.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(m.key))&&(r.value=!0,m.preventDefault(),setTimeout(()=>setTimeout(()=>p(m))))}const g=O(()=>xe({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-controls":o.value,onKeydown:p},e.activatorProps));return Re(()=>{const m=vo.filterProps(e);return b(vo,xe({ref:l,id:o.value,class:["v-menu",e.class],style:e.style},m,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,absolute:!0,activatorProps:g.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:h},i),{activator:n.activator,default:function(){for(var v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];return b(yt,{root:"VMenu"},{default:()=>{var I;return[(I=n.default)==null?void 0:I.call(n,..._)]}})}})}),Ki({id:o,openChildren:c},l)}}),NT=ce({color:String,...vi(),...Ge(),...Gn(),...Br(),...Jf(),...Uv(),...Un(),..._t(),...Ft()},"VSheet"),om=Ee()({name:"VSheet",props:NT(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Bt(e),{backgroundColorClasses:i,backgroundColorStyles:a}=rn(Ie(e,"color")),{borderClasses:s}=yi(e),{dimensionStyles:o}=Wn(e),{elevationClasses:l}=Ur(e),{locationStyles:u}=Yf(e),{positionClasses:c}=Hv(e),{roundedClasses:d}=Hn(e);return Re(()=>b(e.tag,{class:["v-sheet",r.value,i.value,s.value,l.value,c.value,d.value,e.class],style:[a.value,o.value,u.value,e.style]},n)),{}}});function RT(e){const{t}=Sa();function n(r){let{name:i}=r;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],s=e[`onClick:${i}`];function o(u){u.key!=="Enter"&&u.key!==" "||(u.preventDefault(),u.stopPropagation(),Wm(s,new PointerEvent("click",u)))}const l=s&&a?t(`$vuetify.input.${a}`,e.label??""):void 0;return b(ut,{icon:e[`${i}Icon`],"aria-label":l,onClick:s,onKeydown:o},null)}return{InputIcon:n}}const XG=ce({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ge(),...Po({transition:{component:cT,leaveAbsolute:!0,group:!0}})},"VMessages"),ZG=Ee()({name:"VMessages",props:XG(),setup(e,t){let{slots:n}=t;const r=O(()=>Qt(e.messages)),{textColorClasses:i,textColorStyles:a}=Fr(O(()=>e.color));return Re(()=>b(kr,{transition:e.transition,tag:"div",class:["v-messages",i.value,e.class],style:[a.value,e.style]},{default:()=>[e.active&&r.value.map((s,o)=>b("div",{class:"v-messages__message",key:`${o}-${r.value}`},[n.message?n.message({message:s}):s]))]})),{}}}),DT=ce({focused:Boolean,"onUpdate:focused":An()},"focus");function Pu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi();const n=it(e,"focused"),r=O(()=>({[`${t}--focused`]:n.value}));function i(){n.value=!0}function a(){n.value=!1}return{focusClasses:r,isFocused:n,focus:i,blur:a}}const e8=ce({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...DT()},"validation");function t8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mn();const r=it(e,"modelValue"),i=O(()=>e.validationValue===void 0?r.value:e.validationValue),a=ey(e),s=q([]),o=Te(!0),l=O(()=>!!(Qt(r.value===""?null:r.value).length||Qt(i.value===""?null:i.value).length)),u=O(()=>{var x;return(x=e.errorMessages)!=null&&x.length?Qt(e.errorMessages).concat(s.value).slice(0,Math.max(0,+e.maxErrors)):s.value}),c=O(()=>{var S;let x=(e.validateOn??((S=a.validateOn)==null?void 0:S.value))||"input";x==="lazy"&&(x="input lazy"),x==="eager"&&(x="input eager");const I=new Set((x==null?void 0:x.split(" "))??[]);return{input:I.has("input"),blur:I.has("blur")||I.has("input")||I.has("invalid-input"),invalidInput:I.has("invalid-input"),lazy:I.has("lazy"),eager:I.has("eager")}}),d=O(()=>{var x;return e.error||(x=e.errorMessages)!=null&&x.length?!1:e.rules.length?o.value?s.value.length||c.value.lazy?null:!0:!s.value.length:!0}),f=Te(!1),h=O(()=>({[`${t}--error`]:d.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:a.isDisabled.value,[`${t}--readonly`]:a.isReadonly.value})),p=Gt("validation"),g=O(()=>e.name??X(n));yr(()=>{var x;(x=a.register)==null||x.call(a,{id:g.value,vm:p,validate:_,reset:m,resetValidation:v})}),Ht(()=>{var x;(x=a.unregister)==null||x.call(a,g.value)}),en(async()=>{var x;c.value.lazy||await _(!c.value.eager),(x=a.update)==null||x.call(a,g.value,d.value,u.value)}),gr(()=>c.value.input||c.value.invalidInput&&d.value===!1,()=>{Ce(i,()=>{if(i.value!=null)_();else if(e.focused){const x=Ce(()=>e.focused,I=>{I||_(),x()})}})}),gr(()=>c.value.blur,()=>{Ce(()=>e.focused,x=>{x||_()})}),Ce([d,u],()=>{var x;(x=a.update)==null||x.call(a,g.value,d.value,u.value)});async function m(){r.value=null,await Dt(),await v()}async function v(){o.value=!0,c.value.lazy?s.value=[]:await _(!c.value.eager)}async function _(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const I=[];f.value=!0;for(const S of e.rules){if(I.length>=+(e.maxErrors??1))break;const N=await(typeof S=="function"?S:()=>S)(i.value);if(N!==!0){if(N!==!1&&typeof N!="string"){console.warn(`${N} is not a valid value. Rule functions must return boolean true or a string.`);continue}I.push(N||"")}}return s.value=I,f.value=!1,o.value=x,s.value}return{errorMessages:u,isDirty:l,isDisabled:a.isDisabled,isReadonly:a.isReadonly,isPristine:o,isValid:d,isValidating:f,reset:m,resetValidation:v,validate:_,validationClasses:h}}const Lu=ce({id:String,appendIcon:at,centerAffix:{type:Boolean,default:!0},prependIcon:at,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":An(),"onClick:append":An(),...Ge(),...Mr(),...WR(Gn(),["maxWidth","minWidth","width"]),...Ft(),...e8()},"VInput"),an=Ee()({name:"VInput",props:{...Lu()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:i}=t;const{densityClasses:a}=bi(e),{dimensionStyles:s}=Wn(e),{themeClasses:o}=Bt(e),{rtlClasses:l}=er(),{InputIcon:u}=RT(e),c=Mn(),d=O(()=>e.id||`input-${c}`),f=O(()=>`${d.value}-messages`),{errorMessages:h,isDirty:p,isDisabled:g,isReadonly:m,isPristine:v,isValid:_,isValidating:x,reset:I,resetValidation:S,validate:E,validationClasses:N}=t8(e,"v-input",d),A=O(()=>({id:d,messagesId:f,isDirty:p,isDisabled:g,isReadonly:m,isPristine:v,isValid:_,isValidating:x,reset:I,resetValidation:S,validate:E})),R=O(()=>{var M;return(M=e.errorMessages)!=null&&M.length||!v.value&&h.value.length?h.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Re(()=>{var U,J,G,he;const M=!!(r.prepend||e.prependIcon),V=!!(r.append||e.appendIcon),P=R.value.length>0,F=!e.hideDetails||e.hideDetails==="auto"&&(P||!!r.details);return b("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},a.value,o.value,l.value,N.value,e.class],style:[s.value,e.style]},[M&&b("div",{key:"prepend",class:"v-input__prepend"},[(U=r.prepend)==null?void 0:U.call(r,A.value),e.prependIcon&&b(u,{key:"prepend-icon",name:"prepend"},null)]),r.default&&b("div",{class:"v-input__control"},[(J=r.default)==null?void 0:J.call(r,A.value)]),V&&b("div",{key:"append",class:"v-input__append"},[e.appendIcon&&b(u,{key:"append-icon",name:"append"},null),(G=r.append)==null?void 0:G.call(r,A.value)]),F&&b("div",{id:f.value,class:"v-input__details",role:"alert","aria-live":"polite"},[b(ZG,{active:P,messages:R.value},{message:r.message}),(he=r.details)==null?void 0:he.call(r,A.value)])])}),{reset:I,resetValidation:S,validate:E,isValid:_,errorMessages:h}}}),n8=ce({text:String,onClick:An(),...Ge(),...Ft()},"VLabel"),kT=Ee()({name:"VLabel",props:n8(),setup(e,t){let{slots:n}=t;return Re(()=>{var r;return b("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),OT=Symbol.for("vuetify:selection-control-group"),PT=ce({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:at,trueIcon:at,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:_o},...Ge(),...Mr(),...Ft()},"SelectionControlGroup"),r8=ce({...PT({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Ee()({name:"VSelectionControlGroup",props:r8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=it(e,"modelValue"),i=Mn(),a=O(()=>e.id||`v-selection-control-group-${i}`),s=O(()=>e.name||a.value),o=new Set;return Ae(OT,{modelValue:r,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),Dn(()=>{o.delete(l)})}}),gi({[e.defaultsTarget]:{color:Ie(e,"color"),disabled:Ie(e,"disabled"),density:Ie(e,"density"),error:Ie(e,"error"),inline:Ie(e,"inline"),modelValue:r,multiple:O(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:s,falseIcon:Ie(e,"falseIcon"),trueIcon:Ie(e,"trueIcon"),readonly:Ie(e,"readonly"),ripple:Ie(e,"ripple"),type:Ie(e,"type"),valueComparator:Ie(e,"valueComparator")}}),Re(()=>{var l;return b("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}});const iy=ce({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ge(),...PT()},"VSelectionControl");function i8(e){const t=be(OT,void 0),{densityClasses:n}=bi(e),r=it(e,"modelValue"),i=O(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),a=O(()=>e.falseValue!==void 0?e.falseValue:!1),s=O(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),o=O({get(){const h=t?t.modelValue.value:r.value;return s.value?Qt(h).some(p=>e.valueComparator(p,i.value)):e.valueComparator(h,i.value)},set(h){if(e.readonly)return;const p=h?i.value:a.value;let g=p;s.value&&(g=h?[...Qt(r.value),p]:Qt(r.value).filter(m=>!e.valueComparator(m,i.value))),t?t.modelValue.value=g:r.value=g}}),{textColorClasses:l,textColorStyles:u}=Fr(O(()=>{if(!(e.error||e.disabled))return o.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:d}=rn(O(()=>o.value&&!e.error&&!e.disabled?e.color:e.baseColor)),f=O(()=>o.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:i,falseValue:a,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:f}}const Pd=Ee()({name:"VSelectionControl",directives:{Ripple:ko},inheritAttrs:!1,props:iy(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:i,densityClasses:a,icon:s,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:f}=i8(e),h=Mn(),p=Te(!1),g=Te(!1),m=q(),v=O(()=>e.id||`input-${h}`),_=O(()=>!e.disabled&&!e.readonly);i==null||i.onForceUpdate(()=>{m.value&&(m.value.checked=o.value)});function x(N){_.value&&(p.value=!0,co(N.target,":focus-visible")!==!1&&(g.value=!0))}function I(){p.value=!1,g.value=!1}function S(N){N.stopPropagation()}function E(N){if(!_.value){m.value&&(m.value.checked=o.value);return}e.readonly&&i&&Dt(()=>i.forceUpdate()),o.value=N.target.checked}return Re(()=>{var V,P;const N=r.label?r.label({label:e.label,props:{for:v.value}}):e.label,[A,R]=fu(n),M=b("input",xe({ref:m,checked:o.value,disabled:!!e.disabled,id:v.value,onBlur:I,onFocus:x,onInput:E,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?o.value:void 0},R),null);return b("div",xe({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":p.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":e.inline},a.value,e.class]},A,{style:e.style}),[b("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(V=r.default)==null?void 0:V.call(r,{backgroundColorClasses:c,backgroundColorStyles:d}),Zt(b("div",{class:["v-selection-control__input"]},[((P=r.input)==null?void 0:P.call(r,{model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:M,icon:s.value,props:{onFocus:x,onBlur:I,id:v.value}}))??b(Pe,null,[s.value&&b(ut,{key:"icon",icon:s.value},null),M])]),[[hi("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),N&&b(kT,{for:v.value,onClick:S},{default:()=>[N]})])}),{isFocused:p,input:m}}}),a8=ce({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Lu(),...iy()},"VSwitch"),LT=Ee()({name:"VSwitch",inheritAttrs:!1,props:a8(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const i=it(e,"indeterminate"),a=it(e,"modelValue"),{loaderClasses:s}=Qf(e),{isFocused:o,focus:l,blur:u}=Pu(e),c=q(),d=ft&&window.matchMedia("(forced-colors: active)").matches,f=O(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),h=Mn(),p=O(()=>e.id||`switch-${h}`);function g(){i.value&&(i.value=!1)}function m(v){var _,x;v.stopPropagation(),v.preventDefault(),(x=(_=c.value)==null?void 0:_.input)==null||x.click()}return Re(()=>{const[v,_]=fu(n),x=an.filterProps(e),I=Pd.filterProps(e);return b(an,xe({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":i.value},s.value,e.class]},v,x,{modelValue:a.value,"onUpdate:modelValue":S=>a.value=S,id:p.value,focused:o.value,style:e.style}),{...r,default:S=>{let{id:E,messagesId:N,isDisabled:A,isReadonly:R,isValid:M}=S;const V={model:a,isValid:M};return b(Pd,xe({ref:c},I,{modelValue:a.value,"onUpdate:modelValue":[P=>a.value=P,g],id:E.value,"aria-describedby":N.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:A.value,readonly:R.value,onFocus:l,onBlur:u},_),{...r,default:P=>{let{backgroundColorClasses:F,backgroundColorStyles:U}=P;return b("div",{class:["v-switch__track",d?void 0:F.value],style:U.value,onClick:m},[r["track-true"]&&b("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](V)]),r["track-false"]&&b("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](V)])])},input:P=>{let{inputNode:F,icon:U,backgroundColorClasses:J,backgroundColorStyles:G}=P;return b(Pe,null,[F,b("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":U||e.loading},e.inset||d?void 0:J.value],style:e.inset?void 0:G.value},[r.thumb?b(yt,{defaults:{VIcon:{icon:U,size:"x-small"}}},{default:()=>[r.thumb({...V,icon:U})]}):b(pG,null,{default:()=>[e.loading?b(Bv,{name:"v-switch",active:!0,color:M.value===!1?void 0:f.value},{default:he=>r.loader?r.loader(he):b(xC,{active:he.isActive,color:he.color,indeterminate:!0,size:"16",width:"2"},null)}):U&&b(ut,{key:String(U),icon:U,size:"x-small"},null)]})])])}})}})}),{}}}),s8={style:{display:"flex",position:"relative"}},o8={style:{display:"flex","margin-left":"auto"}},l8={key:0,class:"position-sticky top-4",style:{"margin-left":"1em"}},u8={key:0},c8=["innerHTML"],d8={class:"top-1"},f8={style:{display:"flex"}},h8={__name:"FormEditor",props:{shape_iri:String,node_idx:String},setup(e){const t=be("graphData"),n=e,r=q(n.shape_iri),i=q(n.node_idx),a=be("config"),s=q(!1),o=be("ID_IRI"),l=be("save_node"),u=be("clear_current_node"),c=be("remove_current_node"),d=be("allPrefixes"),f=be("nodeShapes"),h=be("cancelFormHandler"),p=be("saveFormHandler"),g=be("editMode"),m=be("add_empty_node"),v=be("removeForm"),_=f.value[r.value],x=q(null),I=q(null),S=dt({}),E=q([]);function N(J,G){S[J]=G}function A(J){delete S[J]}Ae("registerRef",N),Ae("unregisterRef",A),Ae("show_all_fields",s),yr(()=>{console.log("the FormEditor component is about to be mounted."),m(r.value,i.value),a.value.hasOwnProperty("show_all_fields")&&typeof a.value.show_all_fields=="boolean"&&a.value.show_all_fields&&(s.value=!0)}),Ht(()=>{console.log("Running onBeforeUnmount for formeditor"),r.value=null}),en(()=>{console.log("the FormEditor component is now mounted.")});const R=O(()=>_?$v(_[ue.description]):"-");async function M(){try{E.value=[];const G=await x.value.validate();if(G.valid){console.log("going to save form now");var J=l(r.value,i.value,f.value,t,g.form||g.graph,o.value,d);v(J),typeof p=="function"&&p()}else console.log("Still some validation errors, bro"),G.errors.forEach(he=>{const ne=he.id,Z=S[ne];Z&&E.value.push({name:Z.name,message:he.errorMessages.join(", "),element_id:he.id})})}catch(G){console.error("Validation failed:",G)}}function V(){u(r.value,i.value),x.value.resetValidation(),E.value=[]}function P(){console.log("Cancelling form from FormEditor"),g.form||(console.log(`Removing current node: ${r.value} - ${i.value}`),c(r.value,i.value)),v(null),typeof h=="function"&&h()}function F(){window.scrollTo(0,0)}function U(J){console.log(J);var G=document.getElementById(J.element_id);G?G.scrollIntoView({behavior:"smooth"}):(G=document.getElementById(J.element_id+"-messages"),G&&G.scrollIntoView({behavior:"smooth"}))}return(J,G)=>{const he=pT;return pe(),et(om,{class:"pa-4 scaled-sheet",border:"",rounded:"",elevation:"2"},{default:te(()=>[$e("div",s8,[$e("h3",null,vt(X(Lt)(r.value,X(d))),1),$e("div",o8,[b(rt,{text:"Cancel",onClick:G[0]||(G[0]=ne=>P()),style:{"margin-left":"auto","margin-right":"1em"},"prepend-icon":"mdi-close-box"}),b(rt,{text:"Reset",onClick:G[1]||(G[1]=ne=>V()),style:{"margin-right":"1em"},"prepend-icon":"mdi-undo"}),b(rt,{text:"Save",type:"submit",onClick:G[2]||(G[2]=ne=>M()),"prepend-icon":"mdi-content-save"})]),E.value.length?(pe(),ke("div",l8,[b(th,{location:"end"},{activator:te(({props:ne})=>[b(rt,xe({color:"warning"},ne,{density:"compact",icon:"mdi-alert-circle-outline"}),null,16)]),default:te(()=>[b(Ou,null,{default:te(()=>[(pe(!0),ke(Pe,null,Yt(E.value,ne=>(pe(),et(Zn,{onClick:Z=>U(ne)},{default:te(()=>[b(Od,null,{default:te(()=>[$e("em",null,vt(ne.name),1)]),_:2},1024),b(ST,null,{default:te(()=>[Me(vt(ne.message),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})])):Tt("",!0)]),i.value&&r.value?(pe(),ke("span",u8,[b(ty,{ref_key:"form",ref:x,modelValue:I.value,"onUpdate:modelValue":G[5]||(G[5]=ne=>I.value=ne),"validate-on":"lazy input",onSubmit:G[6]||(G[6]=Tc(ne=>M(),["prevent"]))},{default:te(()=>[G[7]||(G[7]=$e("br",null,null,-1)),$e("p",{innerHTML:R.value,class:"quote-description"},null,8,c8),G[8]||(G[8]=$e("br",null,null,-1)),$e("div",d8,[b(LT,{modelValue:s.value,"onUpdate:modelValue":G[3]||(G[3]=ne=>s.value=ne),label:"All fields","hide-details":"",color:"primary"},null,8,["modelValue"])]),(pe(),et(he,{key:r.value,shape_iri:r.value,node_idx:i.value},null,8,["shape_iri","node_idx"])),$e("div",f8,[b(rt,{icon:"mdi-arrow-up-bold",onClick:G[4]||(G[4]=ne=>F()),style:{"margin-left":"auto"}})])]),_:1},8,["modelValue"])])):Tt("",!0)]),_:1})}}},FT=jo(h8,[["__scopeId","data-v-60faa538"]]),p8=Object.freeze(Object.defineProperty({__proto__:null,default:FT},Symbol.toStringTag,{value:"Module"})),g8={key:0},m8=["href"],v8={key:1},Up={__name:"TextOrLinkViewer",props:{textVal:String,prefLabel:String},setup(e){const t=e,n=be("allPrefixes"),r=q(!1),i=q(""),a=q("");return yr(()=>{if(t.textVal.startsWith("http")){r.value=!0,i.value=t.textVal,t.prefLabel?a.value=t.prefLabel:a.value=t.textVal;return}var s=hs(t.textVal,n);if(s.startsWith("http")){r.value=!0,i.value=s,t.prefLabel?a.value=t.prefLabel:a.value=t.textVal;return}}),(s,o)=>r.value?(pe(),ke("span",g8,[$e("a",{href:i.value,target:"_blank"},vt(a.value),9,m8)])):(pe(),ke("span",v8,vt(e.textVal),1))}},y8={key:0},b8={key:0},_8={__name:"RecordViewer",props:{classIRI:String,record:Object,variant:String,formOpen:Boolean},setup(e){const t=e,n=be("editInstanceItem"),r=be("allPrefixes"),i=be("getClassIcon"),a=q({}),s=q({}),o=q("");yr(()=>{const u=Object.keys(t.record.props);for(var c of u)if(!(["subtitle","quad",Mt.type.value].indexOf(c)>=0)){var d=t.record.props[c];mC(d[0])?s.value[c]=d:a.value[c]=d}o.value=l()});function l(){if(t.record.props.hasOwnProperty(Ba.annotations.value))for(var u=0;u<t.record.props[Ba.annotations.value].length;u++){var c=t.record.props[Ba.annotations.value][u];if(c.hasOwnProperty(Ba.annotation_tag.value)&&(c[Ba.annotation_tag.value]=="skos:prefLabel"||c[Ba.annotation_tag.value]==hs("skos:prefLabel",r)))return c[Ba.annotation_value.value]}return""}return(u,c)=>(pe(),et(Mi,{class:"mx-4 mb-4",variant:t.variant},{default:te(()=>[b(Du,{class:"text-h6"},{default:te(()=>[b(ut,null,{default:te(()=>[Me(vt(X(i)(e.classIRI)),1)]),_:1}),c[1]||(c[1]=Me(" ")),b(Up,{textVal:t.record.title,prefLabel:o.value},null,8,["textVal","prefLabel"]),c[2]||(c[2]=Me(" ")),b(rt,{icon:"mdi-pencil",variant:"tonal",size:"x-small",class:"rounded-lg",onClick:c[0]||(c[0]=d=>X(n)(t.record))})]),_:1}),b(QC,null,{default:te(()=>[Me(vt(X(Lt)(t.record.props.subtitle,X(r))),1)]),_:1}),e.formOpen?Tt("",!0):(pe(),et(gs,{key:0},{default:te(()=>[(pe(!0),ke(Pe,null,Yt(a.value,(d,f,h)=>(pe(),ke("span",null,[$e("strong",null,vt(X(Wc)(X(Lt)(f,X(r),"parts").property)),1),c[5]||(c[5]=Me(": ")),(pe(!0),ke(Pe,null,Yt(d,(p,g)=>(pe(),ke("span",null,[d.length>1?(pe(),ke("span",y8,c[3]||(c[3]=[$e("br",null,null,-1),Me("- ")]))):Tt("",!0),c[4]||(c[4]=Me(" ")),b(Up,{textVal:p},null,8,["textVal"])]))),256)),c[6]||(c[6]=$e("br",null,null,-1))]))),256)),(pe(!0),ke(Pe,null,Yt(s.value,(d,f,h)=>(pe(),ke("span",null,[$e("strong",null,vt(X(Wc)(X(Lt)(f,X(r),"parts").property)),1),c[10]||(c[10]=Me(": ")),c[11]||(c[11]=$e("br",null,null,-1)),(pe(!0),ke(Pe,null,Yt(d,(p,g)=>(pe(),ke("span",null,[$e("div",null,[b(Mi,{variant:"text",class:"d-inline-block",style:{"margin-bottom":"0","padding-bottom":"0","background-color":"white"},"no-gutters":""},{default:te(()=>[b(gs,{style:{padding:"0.5em","background-color":"white"}},{default:te(()=>[b(ps,{justify:"center",align:"center"},{default:te(()=>[b($n,{cols:"1"},{default:te(()=>[b(ut,null,{default:te(()=>[Me(vt(X(i)(p[X(Mt).type.value])),1)]),_:2},1024)]),_:2},1024),b($n,null,{default:te(()=>[(pe(!0),ke(Pe,null,Yt(p,(m,v,_)=>(pe(),ke("span",null,[v!=X(Mt).type.value?(pe(),ke("span",b8,[$e("em",null,vt(X(Wc)(X(Lt)(v,X(r),"parts").property)),1),c[7]||(c[7]=Me(": ")),b(Up,{textVal:m},null,8,["textVal"]),c[8]||(c[8]=Me()),c[9]||(c[9]=$e("br",null,null,-1))])):Tt("",!0)]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),256))]))),256))]),_:1}))]),_:1},8,["variant"]))}},H0="./";function w8(e){const t=`${H0}config.json`;var n;e?e.indexOf("http")?n=e:n=`${H0}${e}`:n=t;const r=q(null),i=q(!1),a=q(!1);return en(async()=>{try{const s=await fetch(n,{cache:"no-cache"});if(!s.ok)throw a.value=!0,console.log(`Provided config file path: ${n}`),new Error(`Error fetching config file: ${s.statusText}`);r.value=await s.json(),i.value=!0}catch(s){throw console.error("Fetch error:",s),a.value=!0,s}}),{config:r,configFetched:i,configError:a}}class x8 extends R1{constructor({...t}={}){super({encoding:"string",...t})}}var jT={},yo={},nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.ParseError=void 0;class S8 extends Error{constructor(t,n){const r=t.saxParser;super(t.trackPosition?`Line ${r.line} column ${r.column+1}: ${n}`:n)}}nh.ParseError=S8;var $T={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.BlankNode=void 0;class E8{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&t.termType==="BlankNode"&&t.value===this.value}}Fu.BlankNode=E8;var rh={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.DefaultGraph=void 0;class lm{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&t.termType==="DefaultGraph"}}ju.DefaultGraph=lm;lm.INSTANCE=new lm;var $u={},$o={};Object.defineProperty($o,"__esModule",{value:!0});$o.NamedNode=void 0;class I8{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&t.termType==="NamedNode"&&t.value===this.value}}$o.NamedNode=I8;Object.defineProperty($u,"__esModule",{value:!0});$u.Literal=void 0;const VT=$o;class bo{constructor(t,n){this.termType="Literal",this.value=t,typeof n=="string"?(this.language=n,this.datatype=bo.RDF_LANGUAGE_STRING):n?(this.language="",this.datatype=n):(this.language="",this.datatype=bo.XSD_STRING)}equals(t){return!!t&&t.termType==="Literal"&&t.value===this.value&&t.language===this.language&&this.datatype.equals(t.datatype)}}$u.Literal=bo;bo.RDF_LANGUAGE_STRING=new VT.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");bo.XSD_STRING=new VT.NamedNode("http://www.w3.org/2001/XMLSchema#string");var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.Quad=void 0;class C8{constructor(t,n,r,i){this.termType="Quad",this.value="",this.subject=t,this.predicate=n,this.object=r,this.graph=i}equals(t){return!!t&&(t.termType==="Quad"||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}Vu.Quad=C8;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.Variable=void 0;class T8{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&t.termType==="Variable"&&t.value===this.value}}Mu.Variable=T8;Object.defineProperty(rh,"__esModule",{value:!0});rh.DataFactory=void 0;const A8=Fu,N8=ju,G0=$u,R8=$o,D8=Vu,k8=Mu;let O8=0;class P8{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${O8++}_`}namedNode(t){return new R8.NamedNode(t)}blankNode(t){return new A8.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,n){return new G0.Literal(t,n)}variable(t){return new k8.Variable(t)}defaultGraph(){return N8.DefaultGraph.INSTANCE}quad(t,n,r,i){return new D8.Quad(t,n,r,i||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(G0.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}}rh.DataFactory=P8;(function(e){var t=tt&&tt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=tt&&tt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Fu,e),n(rh,e),n(ju,e),n($u,e),n($o,e),n(Vu,e),n(Mu,e)})($T);Object.defineProperty(yo,"__esModule",{value:!0});yo.ParseType=yo.RdfXmlParser=void 0;const W0=Co,L8=fs,z0=kt,F8=nh,j8=$T,Hp=Fv;class gt extends z0.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},t&&(Object.assign(this,t),this.options=t),this.dataFactory||(this.dataFactory=new j8.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?Hp.IriValidationStrategy.Pragmatic:Hp.IriValidationStrategy.None),this.saxParser=new L8.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(t){const n=new z0.PassThrough({readableObjectMode:!0});t.on("error",i=>r.emit("error",i)),t.on("data",i=>n.push(i)),t.on("end",()=>n.push(null));const r=n.pipe(new gt(this.options));return r}_transform(t,n,r){try{this.saxParser.write(t)}catch(i){return r(i)}r()}newParseError(t){return new F8.ParseError(this,t)}valueToUri(t,n){return this.uriToNamedNode((0,W0.resolve)(t,n.baseIRI))}uriToNamedNode(t){const n=(0,Hp.validateIri)(t,this.iriValidationStrategy);if(n instanceof Error)throw this.newParseError(n.message);return this.dataFactory.namedNode(t)}validateNcname(t){if(!gt.NCNAME_MATCHER.test(t))throw this.newParseError(`Not a valid NCName: ${t}`)}attachSaxListeners(){this.saxParser.on("error",t=>this.emit("error",t)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(t){const n=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let r=Ni.RESOURCE;if(n&&(n.hadChildren=!0,r=n.childrenParseType),n&&n.childrenStringTags){const a=t.name;let s="";for(const c in t.attributes)s+=` ${c}="${t.attributes[c].value}"`;const l=`<${`${a}${s}`}>`;n.childrenStringTags.push(l);const u={childrenStringTags:n.childrenStringTags};u.childrenStringEmitClosingTag=`</${a}>`,this.activeTagStack.push(u);return}const i={};n?(i.language=n.language,i.baseIRI=n.baseIRI):i.baseIRI=this.baseIRI,this.activeTagStack.push(i),r===Ni.RESOURCE?this.onTagResource(t,i,n,!n):this.onTagProperty(t,i,n)}onTagResource(t,n,r,i){n.childrenParseType=Ni.PROPERTY;let a=!0;if(t.uri===gt.RDF){if(!i&&gt.FORBIDDEN_NODE_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal node element name: ${t.local}`);switch(t.local){case"RDF":n.childrenParseType=Ni.RESOURCE;case"Description":a=!1}}const s=[],o=[];let l=null,u=!1,c=!1,d=null;for(const f in t.attributes){const h=t.attributes[f];if(r&&h.uri===gt.RDF)switch(h.local){case"about":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${h.value} and ${l} where found.`);l=h.value;continue;case"ID":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${h.value} and ${l} where found.`);this.validateNcname(h.value),l="#"+h.value,u=!0;continue;case"nodeID":if(l)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${h.value} and ${l} where found.`);this.validateNcname(h.value),l=h.value,c=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":d=h.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(h.uri===gt.XML){if(h.local==="lang"){n.language=h.value===""?null:h.value.toLowerCase();continue}else if(h.local==="base"){n.baseIRI=(0,W0.resolve)(h.value,n.baseIRI);continue}}h.prefix!=="xml"&&h.prefix!=="xmlns"&&(h.prefix!==""||h.local!=="xmlns")&&h.uri&&(s.push(this.uriToNamedNode(h.uri+h.local)),o.push(h.value))}if(l!==null&&(n.subject=c?this.dataFactory.blankNode(l):this.valueToUri(l,n),u&&this.claimNodeId(n.subject)),n.subject||(n.subject=this.dataFactory.blankNode()),a){const f=this.uriToNamedNode(t.uri+t.local);this.emitTriple(n.subject,this.dataFactory.namedNode(gt.RDF+"type"),f,r?r.reifiedStatementId:null)}if(r){if(r.predicate)if(r.childrenCollectionSubject){const f=this.dataFactory.blankNode();this.emitTriple(r.childrenCollectionSubject,r.childrenCollectionPredicate,f,r.reifiedStatementId),this.emitTriple(f,this.dataFactory.namedNode(gt.RDF+"first"),n.subject,n.reifiedStatementId),r.childrenCollectionSubject=f,r.childrenCollectionPredicate=this.dataFactory.namedNode(gt.RDF+"rest")}else{this.emitTriple(r.subject,r.predicate,n.subject,r.reifiedStatementId);for(let f=0;f<r.predicateSubPredicates.length;f++)this.emitTriple(n.subject,r.predicateSubPredicates[f],r.predicateSubObjects[f],null);r.predicateSubPredicates=[],r.predicateSubObjects=[],r.predicateEmitted=!0}for(let f=0;f<s.length;f++){const h=this.dataFactory.literal(o[f],n.datatype||n.language);this.emitTriple(n.subject,s[f],h,r.reifiedStatementId)}d&&this.emitTriple(n.subject,this.dataFactory.namedNode(gt.RDF+"type"),this.uriToNamedNode(d),null)}}onTagProperty(t,n,r){if(n.childrenParseType=Ni.RESOURCE,n.subject=r.subject,t.uri===gt.RDF&&t.local==="li"?(r.listItemCounter||(r.listItemCounter=1),n.predicate=this.uriToNamedNode(t.uri+"_"+r.listItemCounter++)):n.predicate=this.uriToNamedNode(t.uri+t.local),t.uri===gt.RDF&&gt.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal property element name: ${t.local}`);n.predicateSubPredicates=[],n.predicateSubObjects=[];let i=!1,a=!1,s=null,o=!0;const l=[],u=[];for(const c in t.attributes){const d=t.attributes[c];if(d.uri===gt.RDF)switch(d.local){case"resource":if(s)throw this.newParseError(`Found both rdf:resource (${d.value}) and rdf:nodeID (${s}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${d.value})`);n.hadChildren=!0,s=d.value,o=!1;continue;case"datatype":if(a)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${d.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${d.value})`);n.datatype=this.valueToUri(d.value,n);continue;case"nodeID":if(a)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${d.value}).`);if(n.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${d.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${d.value})`);this.validateNcname(d.value),n.hadChildren=!0,s=d.value,o=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(a)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(n.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${n.datatype.value})`);if(s)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${s})`);if(d.value==="Resource"){i=!0,n.childrenParseType=Ni.PROPERTY;const f=this.dataFactory.blankNode();this.emitTriple(n.subject,n.predicate,f,n.reifiedStatementId),n.subject=f,n.predicate=null}else d.value==="Collection"?(i=!0,n.hadChildren=!0,n.childrenCollectionSubject=n.subject,n.childrenCollectionPredicate=n.predicate,o=!1):d.value==="Literal"&&(i=!0,n.childrenTagsToString=!0,n.childrenStringTags=[]);continue;case"ID":this.validateNcname(d.value),n.reifiedStatementId=this.valueToUri("#"+d.value,n),this.claimNodeId(n.reifiedStatementId);continue}else if(d.uri===gt.XML&&d.local==="lang"){n.language=d.value===""?null:d.value.toLowerCase();continue}if(d.prefix!=="xml"&&d.prefix!=="xmlns"&&(d.prefix!==""||d.local!=="xmlns")&&d.uri){if(i||n.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${d.value}`);n.hadChildren=!0,a=!0,l.push(this.uriToNamedNode(d.uri+d.local)),u.push(this.dataFactory.literal(d.value,n.datatype||n.language))}}if(s!==null){const c=n.subject;n.subject=o?this.dataFactory.blankNode(s):this.valueToUri(s,n),this.emitTriple(c,n.predicate,n.subject,n.reifiedStatementId);for(let d=0;d<l.length;d++)this.emitTriple(n.subject,l[d],u[d],null);n.predicateEmitted=!0}else o&&(n.predicateSubPredicates=l,n.predicateSubObjects=u,n.predicateEmitted=!1)}emitTriple(t,n,r,i){this.push(this.dataFactory.quad(t,n,r,this.defaultGraph)),i&&(this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(gt.RDF+"type"),this.dataFactory.namedNode(gt.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(gt.RDF+"subject"),t,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(gt.RDF+"predicate"),n,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(gt.RDF+"object"),r,this.defaultGraph)))}claimNodeId(t){if(!this.allowDuplicateRdfIds){if(this.nodeIds[t.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${t.value}'.`);this.nodeIds[t.value]=!0}}onText(t){const n=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;n&&(n.childrenStringTags?n.childrenStringTags.push(t):n.predicate&&(n.text=t))}onCloseTag(){const t=this.activeTagStack.pop();if(t.childrenStringEmitClosingTag&&t.childrenStringTags.push(t.childrenStringEmitClosingTag),t.childrenTagsToString&&(t.datatype=this.dataFactory.namedNode(gt.RDF+"XMLLiteral"),t.text=t.childrenStringTags.join(""),t.hadChildren=!1),t.childrenCollectionSubject)this.emitTriple(t.childrenCollectionSubject,t.childrenCollectionPredicate,this.dataFactory.namedNode(gt.RDF+"nil"),t.reifiedStatementId);else if(t.predicate){if(!t.hadChildren&&t.childrenParseType!==Ni.PROPERTY)this.emitTriple(t.subject,t.predicate,this.dataFactory.literal(t.text||"",t.datatype||t.language),t.reifiedStatementId);else if(!t.predicateEmitted){const n=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,n,t.reifiedStatementId);for(let r=0;r<t.predicateSubPredicates.length;r++)this.emitTriple(n,t.predicateSubPredicates[r],t.predicateSubObjects[r],null)}}}onDoctype(t){t.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(n,r,i)=>(this.saxParser.ENTITIES[r]=i,""))}}yo.RdfXmlParser=gt;gt.MIME_TYPE="application/rdf+xml";gt.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";gt.XML="http://www.w3.org/XML/1998/namespace";gt.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"];gt.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"];gt.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var Ni;(function(e){e[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"})(Ni||(yo.ParseType=Ni={}));(function(e){var t=tt&&tt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=tt&&tt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(yo,e)})(jT);class $8 extends jT.RdfXmlParser{constructor({factory:t,...n}={}){super({...n,dataFactory:t})}}const V8=new ma,M8=new ma,Rn={parsers:V8,serializers:M8};Rn.parsers.set("application/ld+json",new s1);Rn.parsers.set("application/trig",new oi);Rn.parsers.set("application/n-quads",new oi);Rn.parsers.set("application/n-triples",new oi);Rn.parsers.set("text/n3",new oi);Rn.parsers.set("text/turtle",new oi);Rn.parsers.set("application/rdf+xml",new $8);Rn.serializers.set("application/ld+json",new x8);Rn.serializers.set("application/n-quads",new ua);Rn.serializers.set("application/n-triples",new ua);Rn.serializers.set("text/n3",new ua);Rn.serializers.set("text/turtle",new ua);const B8=new ma(jv.parsers),ih=new ma(jv.serializers);ih.set("application/ld+json",new UU);ih.set("text/n3",new N1);ih.set("text/turtle",new N1);const Bu={parsers:B8,serializers:ih},MT=Ve.clone();MT.formats.import(Bu);async function ay(e,t={"Content-Type":"text/turtle"}){try{var n=null;if(n=await bd(e,{formats:Rn,headers:t}),["text/plain","text/html"].indexOf(n.headers.get("content-type"))>=0&&(t["Content-Type"]="text/turtle",n=await bd(e,{formats:Rn,headers:t})),n.ok){if(n.headers.get("content-type").indexOf("application/json")>=0)throw console.log(n.json()),new Error("readRDF error: cannot read json data");return await n.quadStream()}else throw new Error(`readRDF error:: ${n.statusText}`)}catch(r){throw console.error("readRDF error:",r),r}}async function U8(e,t,n="text/turtle",r={},i){try{r["Content-Type"]=n;var a;const s=new uB.Writer({prefixes:je(i)});t.forEach(u=>{s.addQuad(u)}),s.end((u,c)=>{a=c});const o=await MT.io.dataset.toText("text/turtle",t),l=await bd(e,{method:"POST",formats:Rn,headers:r,body:o,prefixes:i});if(!l.ok)throw new Error(`postRDF error: ${l.statusText}`);return l}catch(s){throw console.error("postRDF error:",s),s}}const um="serviceToken",Gp=q(sessionStorage.getItem(um)||null);function ah(){return{token:Gp,setToken:n=>{Gp.value=n,sessionStorage.setItem(um,n)},clearToken:()=>{Gp.value=null,sessionStorage.removeItem(um)}}}const K0="./";function H8(e){const t=`${K0}dlschemas_data.ttl`,n=g(),r=q(""),i=q([]);var a=dt({}),s=q([]),o=q(!1);const l=Ve.clone();l.formats.import(Bu);const u=q(!1),c=new Set,{token:d}=ah();async function f(_){return new Promise((x,I)=>{var S;if(_)S=_;else if(e.value.data_url)e.value.data_url.indexOf("http")>=0?S=e.value.data_url:S=`${K0}${e.value.data_url}`;else if(e.value.use_default_data==!0)S=t;else{console.log("getGraphData -> no url provided via argument or config, and config specifies not to use default; not fetching"),h(),m(),x();return}u.value=!0;var E={"Content-Type":"text/turtle"};d.value!==null&&d.value!=="null"&&(E["X-DumpThings-Token"]=d.value),ay(S,E).then(N=>{N.on("prefix",(A,R)=>{a[A]=R.value,s.value.push(R.value)}).on("end",()=>{o.value=!0}),N.on("data",A=>{n.deleteMatches(A.subject,A.predicate,A.object,null),n.add(A)}).on("end",()=>{h(),m(),u.value=!1,x()}).on("error",A=>{console.error("Error in quadStream:",A),x()})}).catch(N=>{console.error("Error reading TTL data:",N),x()})})}async function h(){r.value=(await l.io.dataset.toText("text/turtle",n)).trim()}Ce(n,async()=>{await h(),p()},{deep:!0});function p(){var _=[];n.forEach(x=>{_.push(`${x.subject.value} - ${x.predicate.value} - ${x.object.value}`)}),i.value=_}function g(){const _=Ve.dataset(),x=new Proxy(_,{get(I,S,E){const N=Reflect.get(I,S,E);return typeof N=="function"&&["add","delete","deleteMatches","toCanonical","toStream","toString"].includes(S)?function(...A){const R=N.apply(I,A);return u.value||m(),R}:N}});return x._dummy=!1,dt(x)}function m(){n._dummy=!n._dummy}async function v(_,x,I){const S=e.value.service_base_url,E=e.value.service_endpoints;if(!(S||E)){console.error(`Service base URL and/or service endpoints not included in configuration.
Fetching data from an endpoint will not be possible.`);return}if(Object.keys(E).indexOf(_)<0){console.log(`Unknown endpoint '${_}' provided; continuing without making a request to configured service`);return}const N=vC(x,E[_],I);console.log(N);var A=`${S}${N}`;if(c.has(A)){console.log(`Skipping request: Data previously fetched from ${A}`);return}return c.add(A),new Promise((R,M)=>{f(A).then(()=>{R()}).catch(V=>{console.error(V),c.delete(A),M(V)})})}return{graphData:n,batchMode:u,getGraphData:f,graphPrefixes:a,serializedGraphData:r,graphTriples:i,updateSerializedData:h,triggerReactivity:m,fetchFromService:v}}const q0="./";function G8(e){const t=`${q0}dlschemas_owl.ttl`,n=dt(Ve.dataset()),r=q("");var i=dt({}),a=q(!1);const s=Ve.clone();s.formats.import(Bu);var o=q([]);async function l(u){var c;if(console.log("getURL for classes:"),u)c=u;else if(e.value.class_url)console.log("- specified via config"),e.value.class_url.indexOf("http")>=0?(console.log("- contains http"),c=e.value.class_url):(console.log("- does not contain http"),c=`${q0}${e.value.class_url}`);else if(e.value.use_default_classes==!0)c=t;else{console.log("getClassData -> no url provided via argument or config, and config specifies not to use default; not fetching");return}console.log(c),ay(c).then(d=>{d.on("prefix",(f,h)=>{i[f]=h.value}).on("end",()=>{a.value=!0}),d.on("data",f=>{f.predicate.value===Rr.subClassOf.value&&f.subject.termType!=="BlankNode"&&f.object.termType!=="BlankNode"&&n.add(f)}).on("end",async()=>{r.value=(await s.io.dataset.toText("text/turtle",n)).trim(),n.forEach(f=>{o.value.push(`${f.subject.value} - ${f.predicate.value} - ${f.object.value}`)}),console.log("classdata loaded"),console.log(o.value)})}).catch(d=>{console.error("Error reading TTL data:",d)})}return{classData:n,getClassData:l,classPrefixes:i,serializedClassData:r,classTriples:o}}const W8="./",BT=Ve.clone();BT.formats.import(Bu);function z8(e){const t=`${W8}dlschemas_shacl.ttl`;var n=dt(Ve.dataset()),r=q({}),i=q({}),a=q([]),s=dt({}),o=q([]),l=q(!1),u=q(null),c=q({}),d=q(!1);const f=q("");async function h(g){const m=e.value.shapes_url?e.value.shapes_url:t;ay(g||m).then(_=>{_.on("prefix",(x,I)=>{s[x]=I.value,o.value.push(I.value)}).on("end",()=>{l.value=!0}),_.on("data",x=>{n.add(x);const I=x.subject.value,S=x.predicate.value,E=x.object;S===Mt.type.value&&E.value===ue.NodeShape.value&&(r.value[I]={properties:[]}),S===ue.property.value&&r.value[I].properties.push(E),S===Mt.type.value&&E.value===ue.PropertyGroup.value&&(i.value[I]={})}).on("end",()=>{for(const[N,A]of Object.entries(r.value)){n.forEach(R=>{R.subject.value===N&&R.predicate.value!=ue.property.value&&(R.predicate.value,R.object,R.object.termType==="BlankNode"?r.value[N][R.predicate.value]=Ad(R.object,n):r.value[N][R.predicate.value]=R.object.value)});for(var x=0;x<A.properties.length;x++){var I=A.properties[x];if(I.termType==="BlankNode")A.properties[x]=Ad(I,n);else{var S={};n.forEach(R=>{R.subject.value===I.value&&(S[R.predicate.value]=R.object.value)}),A.properties[x]=S}}}for(const N of Object.keys(r.value)){var E=N.split("/");c.value[E[E.length-1]]=N}a.value=Object.keys(c.value).sort(),u.value=Object.keys(r.value).sort();for(const[N,A]of Object.entries(i.value))n.forEach(R=>{R.subject.value===N&&R.predicate.value!=Mt.type.value&&(i.value[N][R.predicate.value]=R.object.value)});p(),console.log("All nodeshapes from shapes graph:"),console.log(je(r.value)),console.log(a.value),console.log(u.value),d.value=!0})}).catch(_=>{console.error("Error reading SHACL data:",_)})}async function p(){f.value=(await BT.io.dataset.toText("text/turtle",n)).trim()}return{getSHACLschema:h,shapesDataset:n,nodeShapes:r,propertyGroups:i,nodeShapeNamesArray:a,shapePrefixes:s,prefixArray:o,prefixes_ready:l,nodeShapeIRIs:u,nodeShapeNames:c,serializedData:f,page_ready:d}}function K8(){const e=dt({});Ve.clone().formats.import(Bu);const n=[Mt.type.value];function r(m,v){Object.keys(e).indexOf(m)<0&&(e[m]=dt({})),Object.keys(e[m]).indexOf(v)<0&&(e[m][v]=dt({}))}function i(m,v){Object.keys(e).indexOf(m)<0?console.error(`Trying to delete a node of a shape that does not exist in form data:
${m}`):Object.keys(e[m]).indexOf(v)<0?console.error(`Trying to delete a node that does not exist in form data:
${m} - ${v}`):(delete e[m][v],UH(e[m])&&delete e[m])}function a(m,v){Object.keys(e).indexOf(m)<0?console.error(`Trying to clear a node of a shape that does not exist in form data:
${m}`):Object.keys(e[m]).indexOf(v)<0?console.error(`Trying to clear a node that does not exist in form data:
${m} - ${v}`):g(e[m][v])}function s(m,v,_,x){console.log(`Adding empty triple from '${x}':
	nodeshape_iri: ${m}
	node_iri: ${v}
	triple_uid: ${_}`),Object.keys(e).indexOf(m)>=0&&Object.keys(e[m]).indexOf(v)>=0?Object.keys(e[m][v]).indexOf(_)<0?e[m][v][_]=dt([null]):e[m][v][_].push(null):console.error(`Node shape and/or node IRI not in formData yet:
${m} - ${v}
Cannot add triple to non-existing node.`)}function o(m,v,_){e[m][v][_].push(null)}function l(m,v,_,x){Object.keys(e).indexOf(m)>=0&&Object.keys(e[m]).indexOf(v)>=0?Object.keys(e[m][v]).indexOf(_)<0?console.error(`Triple UID ${_} not in specific node IRI instance in formData:
${m} - ${v}
Cannot remove non-existing triple.`):e[m][v][_].splice(x,1):console.error(`Node shape and/or node IRI not in formData yet:
${m} - ${v}
Cannot remove triple from non-existing node.`)}function u(m,v,_,x,I,S,E){console.log(`Saving node of shape: ${m}`);var N=!1,A=null;if(e[m]){I&&(console.log("saving while in edit mode -> delete preexisting quads from dataset"),x.deleteMatches(Ve.namedNode(v),null,null,null));var R=_[m],M=R.properties,V=d(m,v,_,M,S,E);V.forEach(U=>{x.add(U)});var P=V[0].subject;if(P.termType==="NamedNode"&&(N=!0,A=P.value),I&&A!==null&&A!==v){var F=HH(x,Ve.namedNode(v));F.forEach(U=>{let J=Ve.quad(U.subject,U.predicate,P);x.delete(U),x.add(J)})}return N&&A!==v&&(e[m][A]=dt(structuredClone(je(e[m][v]))),delete e[m][v]),console.log("formData saved to graph. Current formData:"),console.log(je(e)),{nodeshape_iri:m,node_iri:A||v}}else console.error(`	- Node ${m} does not exist`)}async function c(m,v,_,x){if(console.log("inside submitFormData function"),console.log(je(e)),Object.keys(e).length==0){console.log("submitFormData: no edited formData to submit; returning.");return}const I="post-record",S=x.value.service_base_url,E=x.value.service_endpoints;if(!(S||E)){console.error(`Service base URL and/or service endpoints not included in configuration.
Posting data to an endpoint will not be possible.`);return}if(Object.keys(E).indexOf(I)<0){console.log(`Unknown endpoint '${I}' provided; Posting data to an endpoint will not be possible. Returning.`);return}const{token:N}=ah();var A={};N.value!==null&&N.value!=="null"&&(A["X-DumpThings-Token"]=N.value);try{let G=[];for(var R of Object.keys(e)){var M=m[R],V=M.properties;for(var P of Object.keys(e[R])){var F=d(R,P,m,V,v,_),U=Ve.dataset();F.forEach(re=>{U.add(re)});const Z=vC(R,E[I],_);var J=`${S}${Z}`;console.log("POSTing to the following URL:"),console.log(J),G.push(U8(J,U,"text/turtle",A,_))}}const ne=(await Promise.allSettled(G)).filter(Z=>Z.status==="rejected");return ne.length>0?(console.error("Some POST requests failed:",ne),{ok:!1,error:"One or more POST requests failed."}):{ok:!0}}catch(G){return console.error("submitFormData error:",G),{ok:!1,error:G.message}}}function d(m,v,_,x,I,S){var E=[],N=f(v,e[m][v],I);let A=Ve.quad(N,Ve.namedNode(Mt.type.value),Ve.namedNode(m));E.push(A);for(var R of Object.keys(e[m][v]))if(!(Array.isArray(e[m][v][R])&&e[m][v][R].length==1&&e[m][v][R][0]===null)&&R!=I){if(n.indexOf(R)>=0){console.log(`Not saving predicate: ${R}`);continue}var M=Ve.namedNode(R),[V,P]=h(R,x,_,S,I);for(var F of e[m][v][R]){let U;P?U=V(F,Ve.namedNode(P)):U=V(F);let J=Ve.quad(N,M,U);E.push(J)}}return E}function f(m,v,_){var x;if(Object.keys(v).indexOf(_)>=0){var I=v[_][0];x=Ve.namedNode(I)}else x=Ve.blankNode(m);return x}function h(m,v,_,x,I){var S=v.find(V=>V[ue.path.value]==m),E=null,N=null;if(S.hasOwnProperty(ue.nodeKind.value))if(S[ue.nodeKind.value]==ue.Literal.value)E=Ve.literal,S.hasOwnProperty(ue.datatype.value)&&(N=S[ue.datatype.value]);else if(S[ue.nodeKind.value]==ue.IRI.value)E=Ve.namedNode;else if(S[ue.nodeKind.value]==ue.BlankNode.value)E=Ve.blankNode;else if(S[ue.nodeKind.value]==ue.BlankNodeOrIRI.value)if(S.hasOwnProperty(ue.class.value)){var A=S[ue.class.value],R=_[hs(A,x)],M=R.properties.find(V=>V[ue.path.value]==I);M?E=Ve.namedNode:E=Ve.blankNode}else E=Ve.namedNode;else console.error(`	- NodeKind not supported: ${S[ue.nodeKind.value]}
		Adding triple with literal object to graphData`),E=Ve.literal;else S.hasOwnProperty(ue.in.value)?(console.log(`	- NodeKind not found for property shape: ${m}; found 'sh:in'. Setting to default literal`),E=Ve.literal):(console.log(`	- NodeKind not found for property shape: ${m}. Setting to default literal`),E=Ve.literal);return[E,N]}function p(m,v,_,x,I){console.log("Adding quads to formdata...");var S=v.value;r(m,S);var E=Nd(_,v),N=!1;if(E.forEach(R=>{var M=hs(R.predicate.value,I);M===x&&(N=!0),s(m,S,M,"quadsToFormData quad");var V=e[m][S][M].length;e[m][S][M][V-1]=R.object.value}),v.termType==="NamedNode"&&!N){s(m,S,x,"quadsToFormData ID_IRI");var A=e[m][S][x].length;e[m][S][x][A-1]=S}}function g(m){for(var v in m)m.hasOwnProperty(v)&&(m[v]=dt([null]))}return{formData:e,add_empty_node:r,remove_current_node:i,clear_current_node:a,add_empty_triple:s,add_empty_triple_manual:o,remove_triple:l,save_node:u,quadsToFormData:p,submitFormData:c}}function Hr(e,t){const n=q(null),r=be("registerRef",null),i=be("unregisterRef",null),a=be("shapePrefixes");return en(()=>{if(r&&n.value){var s={ref:n,name:gC(t.property_shape,a)};r(e,s)}}),km(()=>{i&&n.value&&i(e)}),{fieldRef:n}}function Gr(e,t,n,r){const i=q(n(e.modelValue)||{}),a=O({get(){return r(i.value)},set(s){i.value=n(s)}});return Ce(()=>e.modelValue,s=>{s!==a.value&&(a.value=s)}),Ce(a,s=>{t("update:modelValue",s)}),{subValues:i,internalValue:a}}const q8=e=>e.hasOwnProperty(ue.nodeKind.value)&&e[ue.nodeKind.value]==ue.Literal.value&&e.hasOwnProperty(ue.datatype.value)?e[ue.datatype.value]==Xn.boolean.value:!1,J8={__name:"BooleanSelectEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{rules:r}=ir(n.property_shape),i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=t,{subValues:o,internalValue:l}=Gr(n,s,u,c);function u(d){return{switchVal:d}}function c(d){return d.switchVal}return(d,f)=>(pe(),et(an,{modelValue:X(l),"onUpdate:modelValue":f[1]||(f[1]=h=>lt(l)?l.value=h:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i,"hide-details":"auto",style:{"margin-bottom":"1em"}},{default:te(()=>[b(LT,{modelValue:X(o).switchVal,"onUpdate:modelValue":f[0]||(f[0]=h=>X(o).switchVal=h),density:"compact",variant:"outlined",label:"No/Yes",inset:"","hide-details":"auto"},null,8,["modelValue"])]),_:1},8,["modelValue","rules"]))}},Y8=Object.freeze(Object.defineProperty({__proto__:null,default:J8,matchingLogic:q8},Symbol.toStringTag,{value:"Module"})),UT=ce({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:at,default:"$next"},prevIcon:{type:at,default:"$prev"},modeIcon:{type:at,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),J0=Ee()({name:"VDatePickerControls",props:UT(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const r=O(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),i=O(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),a=O(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),s=O(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function o(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function c(){n("click:month")}return Re(()=>b("div",{class:["v-date-picker-controls"]},[b(rt,{class:"v-date-picker-controls__month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:c},null),b(rt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:i.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),b(zv,{key:"mode-spacer"},null),b("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[b(rt,{disabled:a.value,icon:e.prevIcon,variant:"text",onClick:o},null),b(rt,{disabled:s.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),Q8=ce({appendIcon:at,color:String,header:String,transition:String,onClick:An()},"VDatePickerHeader"),Y0=Ee()({name:"VDatePickerHeader",props:Q8(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:i,backgroundColorStyles:a}=rn(e,"color");function s(){n("click")}function o(){n("click:append")}return Re(()=>{const l=!!(r.default||e.header),u=!!(r.append||e.appendIcon);return b("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},i.value],style:a.value,onClick:s},[r.prepend&&b("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),l&&b(kr,{key:"content",name:e.transition},{default:()=>{var c;return[b("div",{key:e.header,class:"v-date-picker-header__content"},[((c=r.default)==null?void 0:c.call(r))??e.header])]}}),u&&b("div",{class:"v-date-picker-header__append"},[r.append?b(yt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=r.append)==null?void 0:c.call(r)]}}):b(rt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),X8=ce({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function Z8(e){const t=hu(),n=it(e,"modelValue",[],p=>Qt(p)),r=O(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),i=it(e,"year",void 0,p=>{const g=p!=null?Number(p):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),g))},p=>t.getYear(p)),a=it(e,"month",void 0,p=>{const g=p!=null?Number(p):t.getMonth(r.value),m=t.setYear(t.startOfMonth(t.date()),t.getYear(i.value));return t.setMonth(m,g)},p=>t.getMonth(p)),s=O(()=>e.firstDayOfWeek??e.weekdays[0]),o=O(()=>{const p=Number(e.firstDayOfWeek??0);return e.weekdays.map(g=>(g+p)%7)}),l=O(()=>{const p=t.getWeekArray(a.value,s.value),g=p.flat(),m=6*7;if(e.weeksInMonth==="static"&&g.length<m){const v=g[g.length-1];let _=[];for(let x=1;x<=m-g.length;x++)_.push(t.addDays(v,x)),x%7===0&&(p.push(_),_=[])}return p});function u(p,g){return p.filter(m=>o.value.includes(t.toJsDate(m).getDay())).map((m,v)=>{const _=t.toISO(m),x=!t.isSameMonth(m,a.value),I=t.isSameDay(m,t.startOfMonth(a.value)),S=t.isSameDay(m,t.endOfMonth(a.value)),E=t.isSameDay(m,a.value);return{date:m,isoDate:_,formatted:t.format(m,"keyboardDate"),year:t.getYear(m),month:t.getMonth(m),isDisabled:h(m),isWeekStart:v%7===0,isWeekEnd:v%7===6,isToday:t.isSameDay(m,g),isAdjacent:x,isHidden:x&&!e.showAdjacentMonths,isStart:I,isSelected:n.value.some(N=>t.isSameDay(m,N)),isEnd:S,isSame:E,localized:t.format(m,"dayOfMonth")}})}const c=O(()=>{const p=t.startOfWeek(r.value,e.firstDayOfWeek),g=[];for(let v=0;v<=6;v++)g.push(t.addDays(p,v));const m=t.date();return u(g,m)}),d=O(()=>{const p=l.value.flat(),g=t.date();return u(p,g)}),f=O(()=>l.value.map(p=>p.length?Ik(t,p[0]):null));function h(p){if(e.disabled)return!0;const g=t.date(p);return e.min&&t.isAfter(t.date(e.min),g)||e.max&&t.isAfter(g,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(m=>t.isSameDay(t.date(m),g)):typeof e.allowedDates=="function"?!e.allowedDates(g):!1}return{displayValue:r,daysInMonth:d,daysInWeek:c,genDays:u,model:n,weeksInMonth:l,weekDays:o,weekNumbers:f}}const HT=ce({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...X8()},"VDatePickerMonth"),Q0=Ee()({name:"VDatePickerMonth",props:HT(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const i=q(),{daysInMonth:a,model:s,weekNumbers:o}=Z8(e),l=hu(),u=Te(),c=Te(),d=Te(!1),f=O(()=>d.value?e.reverseTransition:e.transition);e.multiple==="range"&&s.value.length>0&&(u.value=s.value[0],s.value.length>1&&(c.value=s.value[s.value.length-1]));const h=O(()=>{const v=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return s.value.length>=v});Ce(a,(v,_)=>{_&&(d.value=l.isBefore(v[0].date,_[0].date))});function p(v){const _=l.startOfDay(v);if(s.value.length===0?u.value=void 0:s.value.length===1&&(u.value=s.value[0],c.value=void 0),!u.value)u.value=_,s.value=[u.value];else if(c.value)u.value=v,c.value=void 0,s.value=[u.value];else{if(l.isSameDay(_,u.value)){u.value=void 0,s.value=[];return}else l.isBefore(_,u.value)?(c.value=l.endOfDay(u.value),u.value=_):c.value=l.endOfDay(_);const x=l.getDiff(c.value,u.value,"days"),I=[u.value];for(let S=1;S<x;S++){const E=l.addDays(u.value,S);I.push(E)}I.push(c.value),s.value=I}}function g(v){const _=s.value.findIndex(x=>l.isSameDay(x,v));if(_===-1)s.value=[...s.value,v];else{const x=[...s.value];x.splice(_,1),s.value=x}}function m(v){e.multiple==="range"?p(v):e.multiple?g(v):s.value=[v]}return()=>b("div",{class:"v-date-picker-month"},[e.showWeek&&b("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&b("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Me("")]),o.value.map(v=>b("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[v]))]),b(kr,{name:f.value},{default:()=>{var v;return[b("div",{ref:i,key:(v=a.value[0].date)==null?void 0:v.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays(e.firstDayOfWeek).map(_=>b("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[_])),a.value.map((_,x)=>{const I={props:{onClick:()=>m(_.date)},item:_,i:x};return h.value&&!_.isSelected&&(_.isDisabled=!0),b("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":_.isAdjacent,"v-date-picker-month__day--hide-adjacent":_.isHidden,"v-date-picker-month__day--selected":_.isSelected,"v-date-picker-month__day--week-end":_.isWeekEnd,"v-date-picker-month__day--week-start":_.isWeekStart}],"data-v-date":_.isDisabled?void 0:_.isoDate},[(e.showAdjacentMonths||!_.isAdjacent)&&b(yt,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(_.isSelected||_.isToday)&&!_.isDisabled?e.color:void 0,disabled:_.isDisabled,icon:!0,ripple:!1,text:_.localized,variant:_.isDisabled?_.isToday?"outlined":"text":_.isToday&&!_.isSelected?"outlined":"flat",onClick:()=>m(_.date)}}},{default:()=>{var S;return[((S=r.day)==null?void 0:S.call(r,I))??b(rt,I.props,null)]}})])})])]}})])}}),GT=ce({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),X0=Ee()({name:"VDatePickerMonths",props:GT(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const i=hu(),a=it(e,"modelValue"),s=O(()=>{let o=i.startOfYear(i.date());return e.year&&(o=i.setYear(o,e.year)),Kd(12).map(l=>{const u=i.format(o,"monthShort"),c=!!(e.min&&i.isAfter(i.startOfMonth(i.date(e.min)),o)||e.max&&i.isAfter(o,i.startOfMonth(i.date(e.max))));return o=i.getNextMonth(o),{isDisabled:c,text:u,value:l}})});return yn(()=>{a.value=a.value??i.getMonth(i.date())}),Re(()=>b("div",{class:"v-date-picker-months",style:{height:Be(e.height)}},[b("div",{class:"v-date-picker-months__content"},[s.value.map((o,l)=>{var d;const u={active:a.value===l,color:a.value===l?e.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:a.value===o.value?"flat":"text",onClick:()=>c(l)};function c(f){if(a.value===f){n("update:modelValue",a.value);return}a.value=f}return((d=r.month)==null?void 0:d.call(r,{month:o,i:l,props:u}))??b(rt,xe({key:"month"},u),null)})])])),{}}}),WT=ce({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Z0=Ee()({name:"VDatePickerYears",props:WT(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const i=hu(),a=it(e,"modelValue"),s=O(()=>{const l=i.getYear(i.date());let u=l-100,c=l+52;e.min&&(u=i.getYear(i.date(e.min))),e.max&&(c=i.getYear(i.date(e.max)));let d=i.startOfYear(i.date());return d=i.setYear(d,u),Kd(c-u+1,u).map(f=>{const h=i.format(d,"year");return d=i.setYear(d,i.getYear(d)+1),{text:h,value:f}})});yn(()=>{a.value=a.value??i.getYear(i.date())});const o=id();return en(async()=>{var l;await Dt(),(l=o.el)==null||l.scrollIntoView({block:"center"})}),Re(()=>b("div",{class:"v-date-picker-years",style:{height:Be(e.height)}},[b("div",{class:"v-date-picker-years__content"},[s.value.map((l,u)=>{var d;const c={ref:a.value===l.value?o:void 0,active:a.value===l.value,color:a.value===l.value?e.color:void 0,rounded:!0,text:l.text,variant:a.value===l.value?"flat":"text",onClick:()=>{if(a.value===l.value){n("update:modelValue",a.value);return}a.value=l.value}};return((d=r.year)==null?void 0:d.call(r,{year:l,i:u,props:c}))??b(rt,xe({key:"month"},c),null)})])])),{}}}),e4=qd("v-picker-title"),zT=ce({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...NT()},"VPicker"),ex=Ee()({name:"VPicker",props:zT(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:i}=rn(Ie(e,"color"));return Re(()=>{const a=om.filterProps(e),s=!!(e.title||n.title);return b(om,xe(a,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var o;return[!e.hideHeader&&b("div",{key:"header",class:[r.value],style:[i.value]},[s&&b(e4,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??e.title]}}),n.header&&b("div",{class:"v-picker__header"},[n.header()])]),b("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&b(yt,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[b("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),t4=ce({header:{type:String,default:"$vuetify.datePicker.header"},...UT(),...HT({weeksInMonth:"static"}),...Nn(GT(),["modelValue"]),...Nn(WT(),["modelValue"]),...zT({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),KT=Ee()({name:"VDatePicker",props:t4(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const i=hu(),{t:a}=Sa(),s=it(e,"modelValue",void 0,R=>Qt(R),R=>e.multiple?R:R[0]),o=it(e,"viewMode"),l=O(()=>{var M;const R=i.date((M=s.value)==null?void 0:M[0]);return R&&i.isValid(R)?R:i.date()}),u=q(Number(e.month??i.getMonth(i.startOfMonth(l.value)))),c=q(Number(e.year??i.getYear(i.startOfYear(i.setMonth(l.value,u.value))))),d=Te(!1),f=O(()=>e.multiple&&s.value.length>1?a("$vuetify.datePicker.itemsSelected",s.value.length):s.value[0]&&i.isValid(s.value[0])?i.format(i.date(s.value[0]),"normalDateWithWeekday"):a(e.header)),h=O(()=>{let R=i.date();return R=i.setDate(R,1),R=i.setMonth(R,u.value),R=i.setYear(R,c.value),i.format(R,"monthAndYear")}),p=O(()=>`date-picker-header${d.value?"-reverse":""}-transition`),g=O(()=>{const R=i.date(e.min);return e.min&&i.isValid(R)?R:null}),m=O(()=>{const R=i.date(e.max);return e.max&&i.isValid(R)?R:null}),v=O(()=>{if(e.disabled)return!0;const R=[];if(o.value!=="month")R.push("prev","next");else{let M=i.date();if(M=i.setYear(M,c.value),M=i.setMonth(M,u.value),g.value){const V=i.addDays(i.startOfMonth(M),-1);i.isAfter(g.value,V)&&R.push("prev")}if(m.value){const V=i.addDays(i.endOfMonth(M),1);i.isAfter(V,m.value)&&R.push("next")}}return R});function _(){u.value<11?u.value++:(c.value++,u.value=0,A(c.value)),N(u.value)}function x(){u.value>0?u.value--:(c.value--,u.value=11,A(c.value)),N(u.value)}function I(){o.value="month"}function S(){o.value=o.value==="months"?"month":"months"}function E(){o.value=o.value==="year"?"month":"year"}function N(R){o.value==="months"&&S(),n("update:month",R)}function A(R){o.value==="year"&&E(),n("update:year",R)}return Ce(s,(R,M)=>{const V=Qt(M),P=Qt(R);if(!P.length)return;const F=i.date(V[V.length-1]),U=i.date(P[P.length-1]),J=i.getMonth(U),G=i.getYear(U);J!==u.value&&(u.value=J,N(u.value)),G!==c.value&&(c.value=G,A(c.value)),d.value=i.isBefore(F,U)}),Re(()=>{const R=ex.filterProps(e),M=J0.filterProps(e),V=Y0.filterProps(e),P=Q0.filterProps(e),F=Nn(X0.filterProps(e),["modelValue"]),U=Nn(Z0.filterProps(e),["modelValue"]),J={header:f.value,transition:p.value};return b(ex,xe(R,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var G;return((G=r.title)==null?void 0:G.call(r))??b("div",{class:"v-date-picker__title"},[a(e.title)])},header:()=>r.header?b(yt,{defaults:{VDatePickerHeader:{...J}}},{default:()=>{var G;return[(G=r.header)==null?void 0:G.call(r,J)]}}):b(Y0,xe({key:"header"},V,J,{onClick:o.value!=="month"?I:void 0}),{...r,default:void 0}),default:()=>b(Pe,null,[b(J0,xe(M,{disabled:v.value,text:h.value,"onClick:next":_,"onClick:prev":x,"onClick:month":S,"onClick:year":E}),null),b(rm,{hideOnLeave:!0},{default:()=>[o.value==="months"?b(X0,xe({key:"date-picker-months"},F,{modelValue:u.value,"onUpdate:modelValue":[G=>u.value=G,N],min:g.value,max:m.value,year:c.value}),null):o.value==="year"?b(Z0,xe({key:"date-picker-years"},U,{modelValue:c.value,"onUpdate:modelValue":[G=>c.value=G,A],min:g.value,max:m.value}),null):b(Q0,xe({key:"date-picker-month"},P,{modelValue:s.value,"onUpdate:modelValue":G=>s.value=G,month:u.value,"onUpdate:month":[G=>u.value=G,N],year:c.value,"onUpdate:year":[G=>c.value=G,A],min:g.value,max:m.value}),null)]})]),actions:r.actions})}),{}}}),n4=ce({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...eh({origin:"center center",scrollStrategy:"block",transition:{component:Qv},zIndex:2400})},"VDialog"),su=Ee()({name:"VDialog",props:n4(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:r}=t;const i=it(e,"modelValue"),{scopeId:a}=Oo(),s=q();function o(c){var h,p;const d=c.relatedTarget,f=c.target;if(d!==f&&((h=s.value)!=null&&h.contentEl)&&((p=s.value)!=null&&p.globalTop)&&![document,s.value.contentEl].includes(f)&&!s.value.contentEl.contains(f)){const g=Yl(s.value.contentEl);if(!g.length)return;const m=g[0],v=g[g.length-1];d===m?v.focus():m.focus()}}Ht(()=>{document.removeEventListener("focusin",o)}),ft&&Ce(()=>i.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function l(){var c;n("afterEnter"),(c=s.value)!=null&&c.contentEl&&!s.value.contentEl.contains(document.activeElement)&&s.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return Ce(i,async c=>{var d;c||(await Dt(),(d=s.value.activatorEl)==null||d.focus({preventScroll:!0}))}),Re(()=>{const c=vo.filterProps(e),d=xe({"aria-haspopup":"dialog"},e.activatorProps),f=xe({tabindex:-1},e.contentProps);return b(vo,xe({ref:s,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,"aria-modal":"true",activatorProps:d,contentProps:f,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:u},a),{activator:r.activator,default:function(){for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];return b(yt,{root:"VDialog"},{default:()=>{var m;return[(m=r.default)==null?void 0:m.call(r,...p)]}})}})}),Ki({},s)}}),r4=e=>e.hasOwnProperty(ue.nodeKind.value)&&e[ue.nodeKind.value]==ue.Literal.value&&e.hasOwnProperty(ue.datatype.value)?e[ue.datatype.value]==Xn.date.value:!1,i4={__name:"DatePickerEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{rules:r}=ir(n.property_shape),i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=t,{subValues:o,internalValue:l}=Gr(n,s,u,c);function u(d){return{picked_date:d}}function c(d){return d.picked_date?d.picked_date.toISOString().split("T")[0]:null}return(d,f)=>(pe(),et(su,{"max-width":"500"},{activator:te(({props:h})=>[b(an,{modelValue:X(l),"onUpdate:modelValue":f[0]||(f[0]=p=>lt(l)?l.value=p:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i},{default:te(()=>[b(rt,xe(h,{text:X(l)?X(l):"Select a date"}),null,16,["text"])]),_:2},1032,["modelValue","rules"])]),default:te(({isActive:h})=>[b(Mi,{title:"Date"},{default:te(()=>[b(KT,{"show-adjacent-months":"",modelValue:X(o).picked_date,"onUpdate:modelValue":f[1]||(f[1]=p=>X(o).picked_date=p),"validate-on":"lazy input"},null,8,["modelValue"]),b(Lo,null,{default:te(()=>[b(zv),b(rt,{text:"OK",onClick:p=>h.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1}))}},a4=Object.freeze(Object.defineProperty({__proto__:null,default:i4,matchingLogic:r4},Symbol.toStringTag,{value:"Module"})),s4=e=>e.hasOwnProperty(ue.nodeKind.value)&&e[ue.nodeKind.value]==ue.Literal.value&&e.hasOwnProperty(ue.datatype.value)?e[ue.datatype.value]==Xn.dateTime.value||e[ue.datatype.value]=="https://www.w3.org/TR/NOTE-datetime":!1,o4={__name:"DateTimePickerEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;be("formData");const{rules:r}=ir(n.property_shape),i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=t,{subValues:o,internalValue:l}=Gr(n,s,u,c);function u(d){return{picked_date:d}}function c(d){if(d.picked_date)try{return d.picked_date.toISOString().split("T")[0]}catch(f){return console.log(f),d.picked_date}return null}return(d,f)=>(pe(),et(su,{"max-width":"500"},{activator:te(({props:h})=>[b(an,{modelValue:X(l),"onUpdate:modelValue":f[0]||(f[0]=p=>lt(l)?l.value=p:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i},{default:te(()=>[b(rt,xe(h,{text:X(l)?X(l):"Select a date"}),null,16,["text"])]),_:2},1032,["modelValue","rules"])]),default:te(({isActive:h})=>[b(Mi,{title:"Date"},{default:te(()=>[b(KT,{"show-adjacent-months":"",modelValue:X(o).picked_date,"onUpdate:modelValue":f[1]||(f[1]=p=>X(o).picked_date=p),"validate-on":"lazy input"},null,8,["modelValue"]),b(Lo,null,{default:te(()=>[b(zv),b(rt,{text:"OK",onClick:p=>h.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1}))}},l4=Object.freeze(Object.defineProperty({__proto__:null,default:o4,matchingLogic:s4},Symbol.toStringTag,{value:"Module"})),u4=ce({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ge(),...Po({transition:{component:cT}})},"VCounter"),qT=Ee()({name:"VCounter",functional:!0,props:u4(),setup(e,t){let{slots:n}=t;const r=O(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Re(()=>b(kr,{transition:e.transition},{default:()=>[Zt(b("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[xa,e.active]])]})),{}}}),c4=ce({floating:Boolean,...Ge()},"VFieldLabel"),xc=Ee()({name:"VFieldLabel",props:c4(),setup(e,t){let{slots:n}=t;return Re(()=>b(kT,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),d4=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],sy=ce({appendInnerIcon:at,bgColor:String,clearable:Boolean,clearIcon:{type:at,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:at,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>d4.includes(e)},"onClick:clear":An(),"onClick:appendInner":An(),"onClick:prependInner":An(),...Ge(),...Mv(),...Un(),...Ft()},"VField"),oy=Ee()({name:"VField",inheritAttrs:!1,props:{id:String,...DT(),...sy()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{themeClasses:a}=Bt(e),{loaderClasses:s}=Qf(e),{focusClasses:o,isFocused:l,focus:u,blur:c}=Pu(e),{InputIcon:d}=RT(e),{roundedClasses:f}=Hn(e),{rtlClasses:h}=er(),p=O(()=>e.dirty||e.active),g=O(()=>!!(e.label||i.label)),m=O(()=>!e.singleLine&&g.value),v=Mn(),_=O(()=>e.id||`input-${v}`),x=O(()=>`${_.value}-messages`),I=q(),S=q(),E=q(),N=O(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:A,backgroundColorStyles:R}=rn(Ie(e,"bgColor")),{textColorClasses:M,textColorStyles:V}=Fr(O(()=>e.error||e.disabled?void 0:p.value&&l.value?e.color:e.baseColor));Ce(p,U=>{if(m.value){const J=I.value.$el,G=S.value.$el;requestAnimationFrame(()=>{const he=Km(J),ne=G.getBoundingClientRect(),Z=ne.x-he.x,re=ne.y-he.y-(he.height/2-ne.height/2),W=ne.width/.75,ee=Math.abs(W-he.width)>1?{maxWidth:Be(W)}:void 0,Q=getComputedStyle(J),oe=getComputedStyle(G),we=parseFloat(Q.transitionDuration)*1e3||150,Se=parseFloat(oe.getPropertyValue("--v-field-label-scale")),De=oe.getPropertyValue("color");J.style.visibility="visible",G.style.visibility="hidden",Ja(J,{transform:`translate(${Z}px, ${re}px) scale(${Se})`,color:De,...ee},{duration:we,easing:Xl,direction:U?"normal":"reverse"}).finished.then(()=>{J.style.removeProperty("visibility"),G.style.removeProperty("visibility")})})}},{flush:"post"});const P=O(()=>({isActive:p,isFocused:l,controlRef:E,blur:c,focus:u}));function F(U){U.target!==document.activeElement&&U.preventDefault()}return Re(()=>{var Z,re,W;const U=e.variant==="outlined",J=!!(i["prepend-inner"]||e.prependInnerIcon),G=!!(e.clearable||i.clear)&&!e.disabled,he=!!(i["append-inner"]||e.appendInnerIcon||G),ne=()=>i.label?i.label({...P.value,label:e.label,props:{for:_.value}}):e.label;return b("div",xe({class:["v-field",{"v-field--active":p.value,"v-field--appended":he,"v-field--center-affix":e.centerAffix??!N.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":J,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!ne(),[`v-field--variant-${e.variant}`]:!0},a.value,A.value,o.value,s.value,f.value,h.value,e.class],style:[R.value,e.style],onClick:F},n),[b("div",{class:"v-field__overlay"},null),b(Bv,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:i.loader}),J&&b("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&b(d,{key:"prepend-icon",name:"prependInner"},null),(Z=i["prepend-inner"])==null?void 0:Z.call(i,P.value)]),b("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&m.value&&b(xc,{key:"floating-label",ref:S,class:[M.value],floating:!0,for:_.value,style:V.value},{default:()=>[ne()]}),g.value&&b(xc,{key:"label",ref:I,for:_.value},{default:()=>[ne()]}),(re=i.default)==null?void 0:re.call(i,{...P.value,props:{id:_.value,class:"v-field__input","aria-describedby":x.value},focus:u,blur:c})]),G&&b(dT,{key:"clear"},{default:()=>[Zt(b("div",{class:"v-field__clearable",onMousedown:ee=>{ee.preventDefault(),ee.stopPropagation()}},[b(yt,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[i.clear?i.clear({...P.value,props:{onFocus:u,onBlur:c,onClick:e["onClick:clear"]}}):b(d,{name:"clear",onFocus:u,onBlur:c},null)]})]),[[xa,e.dirty]])]}),he&&b("div",{key:"append",class:"v-field__append-inner"},[(W=i["append-inner"])==null?void 0:W.call(i,P.value),e.appendInnerIcon&&b(d,{key:"append-icon",name:"appendInner"},null)]),b("div",{class:["v-field__outline",M.value],style:V.value},[U&&b(Pe,null,[b("div",{class:"v-field__outline__start"},null),m.value&&b("div",{class:"v-field__outline__notch"},[b(xc,{ref:S,floating:!0,for:_.value},{default:()=>[ne()]})]),b("div",{class:"v-field__outline__end"},null)]),N.value&&m.value&&b(xc,{ref:S,floating:!0,for:_.value},{default:()=>[ne()]})])])}),{controlRef:E}}});function JT(e){const t=Object.keys(oy.props).filter(n=>!Hm(n)&&n!=="class"&&n!=="style");return Um(e,t)}const f4=["color","file","time","date","datetime-local","week","month"],ly=ce({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Lu(),...sy()},"VTextField"),jr=Ee()({name:"VTextField",directives:{Intersect:Jv},inheritAttrs:!1,props:ly(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const a=it(e,"modelValue"),{isFocused:s,focus:o,blur:l}=Pu(e),u=O(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:(a.value??"").toString().length),c=O(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),d=O(()=>["plain","underlined"].includes(e.variant));function f(E,N){var A,R;!e.autofocus||!E||(R=(A=N[0].target)==null?void 0:A.focus)==null||R.call(A)}const h=q(),p=q(),g=q(),m=O(()=>f4.includes(e.type)||e.persistentPlaceholder||s.value||e.active);function v(){var E;g.value!==document.activeElement&&((E=g.value)==null||E.focus()),s.value||o()}function _(E){r("mousedown:control",E),E.target!==g.value&&(v(),E.preventDefault())}function x(E){v(),r("click:control",E)}function I(E){E.stopPropagation(),v(),Dt(()=>{a.value=null,Wm(e["onClick:clear"],E)})}function S(E){var A;const N=E.target;if(a.value=N.value,(A=e.modelModifiers)!=null&&A.trim&&["text","search","password","tel","url"].includes(e.type)){const R=[N.selectionStart,N.selectionEnd];Dt(()=>{N.selectionStart=R[0],N.selectionEnd=R[1]})}}return Re(()=>{const E=!!(i.counter||e.counter!==!1&&e.counter!=null),N=!!(E||i.details),[A,R]=fu(n),{modelValue:M,...V}=an.filterProps(e),P=JT(e);return b(an,xe({ref:h,modelValue:a.value,"onUpdate:modelValue":F=>a.value=F,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":d.value},e.class],style:e.style},A,V,{centerAffix:!d.value,focused:s.value}),{...i,default:F=>{let{id:U,isDisabled:J,isDirty:G,isReadonly:he,isValid:ne}=F;return b(oy,xe({ref:p,onMousedown:_,onClick:x,"onClick:clear":I,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},P,{id:U.value,active:m.value||G.value,dirty:G.value||e.dirty,disabled:J.value,focused:s.value,error:ne.value===!1}),{...i,default:Z=>{let{props:{class:re,...W}}=Z;const ee=Zt(b("input",xe({ref:g,value:a.value,onInput:S,autofocus:e.autofocus,readonly:he.value,disabled:J.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:v,onBlur:l},W,R),null),[[hi("intersect"),{handler:f},null,{once:!0}]]);return b(Pe,null,[e.prefix&&b("span",{class:"v-text-field__prefix"},[b("span",{class:"v-text-field__prefix__text"},[e.prefix])]),i.default?b("div",{class:re,"data-no-activator":""},[i.default(),ee]):Fi(ee,{class:re}),e.suffix&&b("span",{class:"v-text-field__suffix"},[b("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:N?F=>{var U;return b(Pe,null,[(U=i.details)==null?void 0:U.call(i,F),E&&b(Pe,null,[b("span",null,null),b(qT,{active:e.persistentCounter||s.value,value:u.value,max:c.value,disabled:e.disabled},i.counter)])])}:void 0})}),Ki({},h,p,g)}}),h4=e=>e.hasOwnProperty(ue.nodeKind.value)&&e[ue.nodeKind.value]==ue.Literal.value&&e.hasOwnProperty(ue.datatype.value)?e[ue.datatype.value]==Xn.decimal.value:!1,p4={__name:"DecimalEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{rules:r}=ir(n.property_shape),i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=t,{subValues:o,internalValue:l}=Gr(n,s,u,c);function u(d){return{decimal:d}}function c(d){return d.decimal}return(d,f)=>(pe(),et(an,{modelValue:X(l),"onUpdate:modelValue":f[1]||(f[1]=h=>lt(l)?l.value=h:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i,"hide-details":"auto",style:{"margin-bottom":"1em"}},{default:te(()=>[b(jr,{modelValue:X(o).decimal,"onUpdate:modelValue":f[0]||(f[0]=h=>X(o).decimal=h),density:"compact",variant:"outlined",label:"add decimal value","hide-details":"auto"},null,8,["modelValue"])]),_:1},8,["modelValue","rules"]))}},g4=Object.freeze(Object.defineProperty({__proto__:null,default:p4,matchingLogic:h4},Symbol.toStringTag,{value:"Module"})),m4=e=>!1,v4={__name:"DetailsEditor",props:{property_shape:Object,node_uid:String,triple_uid:String},setup(e){const t=e;return be("formData"),ir(t.property_shape),(n,r)=>(pe(),ke("em",null,"...details editor..."))}},y4=Object.freeze(Object.defineProperty({__proto__:null,default:v4,matchingLogic:m4},Symbol.toStringTag,{value:"Module"})),b4=e=>e.hasOwnProperty(ue.nodeKind.value)&&e[ue.nodeKind.value]==ue.Literal.value&&e.hasOwnProperty(ue.datatype.value)?e[ue.datatype.value]==Xn.hexBinary.value:!1,_4={__name:"HexEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{rules:r}=ir(n.property_shape),i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=t,{subValues:o,internalValue:l}=Gr(n,s,u,c);function u(d){return{hex_text:d}}function c(d){return d.hex_text}return(d,f)=>(pe(),et(an,{modelValue:X(l),"onUpdate:modelValue":f[1]||(f[1]=h=>lt(l)?l.value=h:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i,"hide-details":"auto",style:{"margin-bottom":"1em"}},{default:te(()=>[b(jr,{modelValue:X(o).hex_text,"onUpdate:modelValue":f[0]||(f[0]=h=>X(o).hex_text=h),density:"compact",variant:"outlined",label:"add hexadecimal text","hide-details":"auto"},null,8,["modelValue"])]),_:1},8,["modelValue","rules"]))}},w4=Object.freeze(Object.defineProperty({__proto__:null,default:_4,matchingLogic:b4},Symbol.toStringTag,{value:"Module"})),YT=ce({indeterminate:Boolean,indeterminateIcon:{type:at,default:"$checkboxIndeterminate"},...iy({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ld=Ee()({name:"VCheckboxBtn",props:YT(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=it(e,"indeterminate"),i=it(e,"modelValue");function a(l){r.value&&(r.value=!1)}const s=O(()=>r.value?e.indeterminateIcon:e.falseIcon),o=O(()=>r.value?e.indeterminateIcon:e.trueIcon);return Re(()=>{const l=Nn(Pd.filterProps(e),["modelValue"]);return b(Pd,xe(l,{modelValue:i.value,"onUpdate:modelValue":[u=>i.value=u,a],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:s.value,trueIcon:o.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}}),x4=ce({...Lu(),...Nn(YT(),["inline"])},"VCheckbox"),S4=Ee()({name:"VCheckbox",inheritAttrs:!1,props:x4(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const i=it(e,"modelValue"),{isFocused:a,focus:s,blur:o}=Pu(e),l=Mn(),u=O(()=>e.id||`checkbox-${l}`);return Re(()=>{const[c,d]=fu(n),f=an.filterProps(e),h=Ld.filterProps(e);return b(an,xe({class:["v-checkbox",e.class]},c,f,{modelValue:i.value,"onUpdate:modelValue":p=>i.value=p,id:u.value,focused:a.value,style:e.style}),{...r,default:p=>{let{id:g,messagesId:m,isDisabled:v,isReadonly:_,isValid:x}=p;return b(Ld,xe(h,{id:g.value,"aria-describedby":m.value,disabled:v.value,readonly:_.value},d,{error:x.value===!1,modelValue:i.value,"onUpdate:modelValue":I=>i.value=I,onFocus:s,onBlur:o}),r)}})}),{}}}),QT=Symbol.for("vuetify:v-chip-group"),E4=ce({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:_o},...Zv(),...Ge(),...zf({selectedClass:"v-chip--selected"}),..._t(),...Ft(),...Ca({variant:"tonal"})},"VChipGroup");Ee()({name:"VChipGroup",props:E4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Bt(e),{isSelected:i,select:a,next:s,prev:o,selected:l}=Au(e,QT);return gi({VChip:{color:Ie(e,"color"),disabled:Ie(e,"disabled"),filter:Ie(e,"filter"),variant:Ie(e,"variant")}}),Re(()=>{const u=kd.filterProps(e);return b(kd,xe(u,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,select:a,next:s,prev:o,selected:l.value})]}})}),{}}});const I4=ce({activeClass:String,appendAvatar:String,appendIcon:at,closable:Boolean,closeIcon:{type:at,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:at,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:at,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:An(),onClickOnce:An(),...vi(),...Ge(),...Mr(),...Br(),...Kf(),...Un(),...Zf(),...Nu(),..._t({tag:"span"}),...Ft(),...Ca({variant:"tonal"})},"VChip"),XT=Ee()({name:"VChip",directives:{Ripple:ko},props:I4(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{t:a}=Sa(),{borderClasses:s}=yi(e),{colorClasses:o,colorStyles:l,variantClasses:u}=Tu(e),{densityClasses:c}=bi(e),{elevationClasses:d}=Ur(e),{roundedClasses:f}=Hn(e),{sizeClasses:h}=Ru(e),{themeClasses:p}=Bt(e),g=it(e,"modelValue"),m=qf(e,QT,!1),v=Xf(e,n),_=O(()=>e.link!==!1&&v.isLink.value),x=O(()=>!e.disabled&&e.link!==!1&&(!!m||e.link||v.isClickable.value)),I=O(()=>({"aria-label":a(e.closeLabel),onClick(N){N.preventDefault(),N.stopPropagation(),g.value=!1,r("click:close",N)}}));function S(N){var A;r("click",N),x.value&&((A=v.navigate)==null||A.call(v,N),m==null||m.toggle())}function E(N){(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),S(N))}return()=>{var J;const N=v.isLink.value?"a":e.tag,A=!!(e.appendIcon||e.appendAvatar),R=!!(A||i.append),M=!!(i.close||e.closable),V=!!(i.filter||e.filter)&&m,P=!!(e.prependIcon||e.prependAvatar),F=!!(P||i.prepend),U=!m||m.isSelected.value;return g.value&&Zt(b(N,xe({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x.value,"v-chip--filter":V,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((J=v.isActive)==null?void 0:J.value)},p.value,s.value,U?o.value:void 0,c.value,d.value,f.value,h.value,u.value,m==null?void 0:m.selectedClass.value,e.class],style:[U?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:x.value?0:void 0,onClick:S,onKeydown:x.value&&!_.value&&E},v.linkProps),{default:()=>{var G;return[Cu(x.value,"v-chip"),V&&b(dT,{key:"filter"},{default:()=>[Zt(b("div",{class:"v-chip__filter"},[i.filter?b(yt,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},i.filter):b(ut,{key:"filter-icon",icon:e.filterIcon},null)]),[[xa,m.isSelected.value]])]}),F&&b("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?b(yt,{key:"prepend-defaults",disabled:!P,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},i.prepend):b(Pe,null,[e.prependIcon&&b(ut,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&b(va,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),b("div",{class:"v-chip__content","data-no-activator":""},[((G=i.default)==null?void 0:G.call(i,{isSelected:m==null?void 0:m.isSelected.value,selectedClass:m==null?void 0:m.selectedClass.value,select:m==null?void 0:m.select,toggle:m==null?void 0:m.toggle,value:m==null?void 0:m.value.value,disabled:e.disabled}))??e.text]),R&&b("div",{key:"append",class:"v-chip__append"},[i.append?b(yt,{key:"append-defaults",disabled:!A,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},i.append):b(Pe,null,[e.appendIcon&&b(ut,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&b(va,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),M&&b("button",xe({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},I.value),[i.close?b(yt,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},i.close):b(ut,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[hi("ripple"),x.value&&e.ripple,null]])}}}),C4=ce({renderless:Boolean,...Ge()},"VVirtualScrollItem"),T4=Ee()({name:"VVirtualScrollItem",inheritAttrs:!1,props:C4(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{resizeRef:a,contentRect:s}=ho(void 0,"border");Ce(()=>{var o;return(o=s.value)==null?void 0:o.height},o=>{o!=null&&r("update:height",o)}),Re(()=>{var o,l;return e.renderless?b(Pe,null,[(o=i.default)==null?void 0:o.call(i,{itemRef:a})]):b("div",xe({ref:a,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=i.default)==null?void 0:l.call(i)])})}}),A4=-1,N4=1,Wp=100,R4=ce({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function D4(e,t){const n=Qd(),r=Te(0);yn(()=>{r.value=parseFloat(e.itemHeight||0)});const i=Te(0),a=Te(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),s=Te(0),o=Te(0),l=q(),u=q();let c=0;const{resizeRef:d,contentRect:f}=ho();yn(()=>{d.value=l.value});const h=O(()=>{var re;return l.value===document.documentElement?n.height.value:((re=f.value)==null?void 0:re.height)||parseInt(e.height)||0}),p=O(()=>!!(l.value&&u.value&&h.value&&r.value));let g=Array.from({length:t.value.length}),m=Array.from({length:t.value.length});const v=Te(0);let _=-1;function x(re){return g[re]||r.value}const I=KR(()=>{const re=performance.now();m[0]=0;const W=t.value.length;for(let ee=1;ee<=W-1;ee++)m[ee]=(m[ee-1]||0)+x(ee-1);v.value=Math.max(v.value,performance.now()-re)},v),S=Ce(p,re=>{re&&(S(),c=u.value.offsetTop,I.immediate(),G(),~_&&Dt(()=>{ft&&window.requestAnimationFrame(()=>{ne(_),_=-1})}))});Dn(()=>{I.clear()});function E(re,W){const ee=g[re],Q=r.value;r.value=Q?Math.min(r.value,W):W,(ee!==W||Q!==r.value)&&(g[re]=W,I())}function N(re){return re=Pr(re,0,t.value.length-1),m[re]||0}function A(re){return k4(m,re)}let R=0,M=0,V=0;Ce(h,(re,W)=>{W&&(G(),re<W&&requestAnimationFrame(()=>{M=0,G()}))});let P=-1;function F(){if(!l.value||!u.value)return;const re=l.value.scrollTop,W=performance.now();W-V>500?(M=Math.sign(re-R),c=u.value.offsetTop):M=re-R,R=re,V=W,window.clearTimeout(P),P=window.setTimeout(U,500),G()}function U(){!l.value||!u.value||(M=0,V=0,window.clearTimeout(P),G())}let J=-1;function G(){cancelAnimationFrame(J),J=requestAnimationFrame(he)}function he(){if(!l.value||!h.value)return;const re=R-c,W=Math.sign(M),ee=Math.max(0,re-Wp),Q=Pr(A(ee),0,t.value.length),oe=re+h.value+Wp,we=Pr(A(oe)+1,Q+1,t.value.length);if((W!==A4||Q<i.value)&&(W!==N4||we>a.value)){const Se=N(i.value)-N(Q),De=N(we)-N(a.value);Math.max(Se,De)>Wp?(i.value=Q,a.value=we):(Q<=0&&(i.value=Q),we>=t.value.length&&(a.value=we))}s.value=N(i.value),o.value=N(t.value.length)-N(a.value)}function ne(re){const W=N(re);!l.value||re&&!W?_=re:l.value.scrollTop=W}const Z=O(()=>t.value.slice(i.value,a.value).map((re,W)=>({raw:re,index:W+i.value,key:Bm(re)&&"value"in re?re.value:W+i.value})));return Ce(t,()=>{g=Array.from({length:t.value.length}),m=Array.from({length:t.value.length}),I.immediate(),G()},{deep:!0}),{calculateVisibleItems:G,containerRef:l,markerRef:u,computedItems:Z,paddingTop:s,paddingBottom:o,scrollToIndex:ne,handleScroll:F,handleScrollend:U,handleItemResize:E}}function k4(e,t){let n=e.length-1,r=0,i=0,a=null,s=-1;if(e[n]<t)return n;for(;r<=n;)if(i=r+n>>1,a=e[i],a>t)n=i-1;else if(a<t)s=i,r=i+1;else return a===t?i:r;return s}const O4=ce({items:{type:Array,default:()=>[]},renderless:Boolean,...R4(),...Ge(),...Gn()},"VVirtualScroll"),ZT=Ee()({name:"VVirtualScroll",props:O4(),setup(e,t){let{slots:n}=t;const r=Gt("VVirtualScroll"),{dimensionStyles:i}=Wn(e),{calculateVisibleItems:a,containerRef:s,markerRef:o,handleScroll:l,handleScrollend:u,handleItemResize:c,scrollToIndex:d,paddingTop:f,paddingBottom:h,computedItems:p}=D4(e,Ie(e,"items"));return gr(()=>e.renderless,()=>{function g(){var _,x;const v=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";s.value===document.documentElement?(document[v]("scroll",l,{passive:!0}),document[v]("scrollend",u)):((_=s.value)==null||_[v]("scroll",l,{passive:!0}),(x=s.value)==null||x[v]("scrollend",u))}en(()=>{s.value=KS(r.vnode.el,!0),g(!0)}),Dn(g)}),Re(()=>{const g=p.value.map(m=>b(T4,{key:m.key,renderless:e.renderless,"onUpdate:height":v=>c(m.index,v)},{default:v=>{var _;return(_=n.default)==null?void 0:_.call(n,{item:m.raw,index:m.index,...v})}}));return e.renderless?b(Pe,null,[b("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Be(f.value)}},null),g,b("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Be(h.value)}},null)]):b("div",{ref:s,class:["v-virtual-scroll",e.class],onScrollPassive:l,onScrollend:u,style:[i.value,e.style]},[b("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Be(f.value),paddingBottom:Be(h.value)}},[g])])}),{calculateVisibleItems:a,scrollToIndex:d}}});function eA(e,t){const n=Te(!1);let r;function i(o){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function a(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=Ce(n,()=>{l(),o()})}else o()})}async function s(o){var c,d;if(o.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(d=e.value)==null?void 0:d.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await a();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const f=l.getBoundingClientRect().top;for(const h of u)if(h.getBoundingClientRect().top>=f){h.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const h of[...u].reverse())if(h.getBoundingClientRect().bottom<=f){h.focus();break}}}return{onScrollPassive:i,onKeydown:s}}const tA=ce({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:at,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...IT({itemChildren:!1})},"Select"),P4=ce({...tA(),...Nn(ly({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Po({transition:{component:Qv}})},"VSelect"),uy=Ee()({name:"VSelect",props:P4(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=Sa(),i=q(),a=q(),s=q(),o=it(e,"menu"),l=O({get:()=>o.value,set:Z=>{var re;o.value&&!Z&&((re=a.value)!=null&&re.openChildren.size)||(o.value=Z)}}),{items:u,transformIn:c,transformOut:d}=TT(e),f=it(e,"modelValue",[],Z=>c(Z===null?[null]:Qt(Z)),Z=>{const re=d(Z);return e.multiple?re:re[0]??null}),h=O(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),p=ey(e),g=O(()=>f.value.map(Z=>Z.value)),m=Te(!1),v=O(()=>l.value?e.closeText:e.openText);let _="",x;const I=O(()=>e.hideSelected?u.value.filter(Z=>!f.value.some(re=>e.valueComparator(re,Z))):u.value),S=O(()=>e.hideNoData&&!I.value.length||p.isReadonly.value||p.isDisabled.value),E=O(()=>{var Z;return{...e.menuProps,activatorProps:{...((Z=e.menuProps)==null?void 0:Z.activatorProps)||{},"aria-haspopup":"listbox"}}}),N=q(),A=eA(N,i);function R(Z){e.openOnClear&&(l.value=!0)}function M(){S.value||(l.value=!l.value)}function V(Z){ad(Z)&&P(Z)}function P(Z){var Q,oe;if(!Z.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Z.key)&&Z.preventDefault(),["Enter","ArrowDown"," "].includes(Z.key)&&(l.value=!0),["Escape","Tab"].includes(Z.key)&&(l.value=!1),Z.key==="Home"?(Q=N.value)==null||Q.focus("first"):Z.key==="End"&&((oe=N.value)==null||oe.focus("last"));const re=1e3;if(!ad(Z))return;const W=performance.now();W-x>re&&(_=""),_+=Z.key.toLowerCase(),x=W;const ee=u.value.find(we=>we.title.toLowerCase().startsWith(_));if(ee!==void 0){f.value=[ee];const we=I.value.indexOf(ee);ft&&window.requestAnimationFrame(()=>{var Se;we>=0&&((Se=s.value)==null||Se.scrollToIndex(we))})}}function F(Z){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Z.props.disabled)if(e.multiple){const W=f.value.findIndex(Q=>e.valueComparator(Q.value,Z.value)),ee=re??!~W;if(~W){const Q=ee?[...f.value,Z]:[...f.value];Q.splice(W,1),f.value=Q}else ee&&(f.value=[...f.value,Z])}else{const W=re!==!1;f.value=W?[Z]:[],Dt(()=>{l.value=!1})}}function U(Z){var re;(re=N.value)!=null&&re.$el.contains(Z.relatedTarget)||(l.value=!1)}function J(){var Z;e.eager&&((Z=s.value)==null||Z.calculateVisibleItems())}function G(){var Z;m.value&&((Z=i.value)==null||Z.focus())}function he(Z){m.value=!0}function ne(Z){if(Z==null)f.value=[];else if(co(i.value,":autofill")||co(i.value,":-webkit-autofill")){const re=u.value.find(W=>W.title===Z);re&&F(re)}else i.value&&(i.value.value="")}return Ce(l,()=>{if(!e.hideSelected&&l.value&&f.value.length){const Z=I.value.findIndex(re=>f.value.some(W=>e.valueComparator(W.value,re.value)));ft&&window.requestAnimationFrame(()=>{var re;Z>=0&&((re=s.value)==null||re.scrollToIndex(Z))})}}),Ce(()=>e.items,(Z,re)=>{l.value||m.value&&!re.length&&Z.length&&(l.value=!0)}),Re(()=>{const Z=!!(e.chips||n.chip),re=!!(!e.hideNoData||I.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),W=f.value.length>0,ee=jr.filterProps(e),Q=W||!m.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return b(jr,xe({ref:i},ee,{modelValue:f.value.map(oe=>oe.props.value).join(", "),"onUpdate:modelValue":ne,focused:m.value,"onUpdate:focused":oe=>m.value=oe,validationValue:f.externalValue,counterValue:h.value,dirty:W,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:Q,"onClick:clear":R,"onMousedown:control":M,onBlur:U,onKeydown:P,"aria-label":r(v.value),title:r(v.value)}),{...n,default:()=>b(Pe,null,[b(th,xe({ref:a,modelValue:l.value,"onUpdate:modelValue":oe=>l.value=oe,activator:"parent",contentClass:"v-select__content",disabled:S.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:J,onAfterLeave:G},E.value),{default:()=>[re&&b(Ou,xe({ref:N,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:oe=>oe.preventDefault(),onKeydown:V,onFocusin:he,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},A,e.listProps),{default:()=>{var oe,we,Se;return[(oe=n["prepend-item"])==null?void 0:oe.call(n),!I.value.length&&!e.hideNoData&&(((we=n["no-data"])==null?void 0:we.call(n))??b(Zn,{key:"no-data",title:r(e.noDataText)},null)),b(ZT,{ref:s,renderless:!0,items:I.value},{default:De=>{var j;let{item:Oe,index:Qe,itemRef:qe}=De;const ge=xe(Oe.props,{ref:qe,key:Oe.value,onClick:()=>F(Oe,null)});return((j=n.item)==null?void 0:j.call(n,{item:Oe,index:Qe,props:ge}))??b(Zn,xe(ge,{role:"option"}),{prepend:C=>{let{isSelected:D}=C;return b(Pe,null,[e.multiple&&!e.hideSelected?b(Ld,{key:Oe.value,modelValue:D,ripple:!1,tabindex:"-1"},null):void 0,Oe.props.prependAvatar&&b(va,{image:Oe.props.prependAvatar},null),Oe.props.prependIcon&&b(ut,{icon:Oe.props.prependIcon},null)])}})}}),(Se=n["append-item"])==null?void 0:Se.call(n)]}})]}),f.value.map((oe,we)=>{function Se(qe){qe.stopPropagation(),qe.preventDefault(),F(oe,!1)}const De={"onClick:close":Se,onKeydown(qe){qe.key!=="Enter"&&qe.key!==" "||(qe.preventDefault(),qe.stopPropagation(),Se(qe))},onMousedown(qe){qe.preventDefault(),qe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Oe=Z?!!n.chip:!!n.selection,Qe=Oe?zm(Z?n.chip({item:oe,index:we,props:De}):n.selection({item:oe,index:we})):void 0;if(!(Oe&&!Qe))return b("div",{key:oe.value,class:"v-select__selection"},[Z?n.chip?b(yt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:oe.title}}},{default:()=>[Qe]}):b(XT,xe({key:"chip",closable:e.closableChips,size:"small",text:oe.title,disabled:oe.props.disabled},De),null):Qe??b("span",{class:"v-select__selection-text"},[oe.title,e.multiple&&we<f.value.length-1&&b("span",{class:"v-select__selection-comma"},[Me(",")])])])})]),"append-inner":function(){var De;for(var oe=arguments.length,we=new Array(oe),Se=0;Se<oe;Se++)we[Se]=arguments[Se];return b(Pe,null,[(De=n["append-inner"])==null?void 0:De.call(n,...we),e.menuIcon?b(ut,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ki({isFocused:m,menu:l,select:F},i)}}),L4=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),F4=ce({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function j4(e,t,n){var o;const r=[],i=(n==null?void 0:n.default)??L4,a=n!=null&&n.filterKeys?Qt(n.filterKeys):!1,s=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let l=0;l<e.length;l++){const[u,c=u]=Qt(e[l]),d={},f={};let h=-1;if((t||s>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const m=a||Object.keys(c);for(const v of m){const _=ai(c,v),x=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[v];if(h=x?x(_,t,u):i(_,t,u),h!==-1&&h!==!1)x?d[v]=h:f[v]=h;else if((n==null?void 0:n.filterMode)==="every")continue e}}else h=i(u,t,u),h!==-1&&h!==!1&&(f.title=h);const p=Object.keys(f).length,g=Object.keys(d).length;if(!p&&!g||(n==null?void 0:n.filterMode)==="union"&&g!==s&&!p||(n==null?void 0:n.filterMode)==="intersection"&&(g!==s||!p))continue}r.push({index:l,matches:{...f,...d}})}return r}function $4(e,t,n,r){const i=Te([]),a=Te(new Map),s=O(()=>X(t));yn(()=>{const l=typeof n=="function"?n():X(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=j4(s.value,u,{customKeyFilter:{...e.customKeyFilter,...X(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=X(t),f=[],h=new Map;c.forEach(p=>{let{index:g,matches:m}=p;const v=d[g];f.push(v),h.set(v.value,m)}),i.value=f,a.value=h});function o(l){return a.value.get(l.value)}return{filteredItems:i,filteredMatches:a,getMatches:o}}function V4(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?b(Pe,null,[b("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),b("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),b("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const M4=ce({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...F4({filterKeys:["title"]}),...tA(),...Nn(ly({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Po({transition:!1})},"VAutocomplete"),B4=Ee()({name:"VAutocomplete",props:M4(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=Sa(),i=q(),a=Te(!1),s=Te(!0),o=Te(!1),l=q(),u=q(),c=it(e,"menu"),d=O({get:()=>c.value,set:ge=>{var j;c.value&&!ge&&((j=l.value)!=null&&j.openChildren.size)||(c.value=ge)}}),f=Te(-1),h=O(()=>{var ge;return(ge=i.value)==null?void 0:ge.color}),p=O(()=>d.value?e.closeText:e.openText),{items:g,transformIn:m,transformOut:v}=TT(e),{textColorClasses:_,textColorStyles:x}=Fr(h),I=it(e,"search",""),S=it(e,"modelValue",[],ge=>m(ge===null?[null]:Qt(ge)),ge=>{const j=v(ge);return e.multiple?j:j[0]??null}),E=O(()=>typeof e.counterValue=="function"?e.counterValue(S.value):typeof e.counterValue=="number"?e.counterValue:S.value.length),N=ey(e),{filteredItems:A,getMatches:R}=$4(e,g,()=>s.value?"":I.value),M=O(()=>e.hideSelected?A.value.filter(ge=>!S.value.some(j=>j.value===ge.value)):A.value),V=O(()=>!!(e.chips||n.chip)),P=O(()=>V.value||!!n.selection),F=O(()=>S.value.map(ge=>ge.props.value)),U=O(()=>{var j;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&I.value===((j=M.value[0])==null?void 0:j.title))&&M.value.length>0&&!s.value&&!o.value}),J=O(()=>e.hideNoData&&!M.value.length||N.isReadonly.value||N.isDisabled.value),G=q(),he=eA(G,i);function ne(ge){e.openOnClear&&(d.value=!0),I.value=""}function Z(){J.value||(d.value=!0)}function re(ge){J.value||(a.value&&(ge.preventDefault(),ge.stopPropagation()),d.value=!d.value)}function W(ge){var j;ge.key!==" "&&ad(ge)&&((j=i.value)==null||j.focus())}function ee(ge){var D,B,K;if(N.isReadonly.value)return;const j=i.value.selectionStart,C=S.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(ge.key)&&ge.preventDefault(),["Enter","ArrowDown"].includes(ge.key)&&(d.value=!0),["Escape"].includes(ge.key)&&(d.value=!1),U.value&&["Enter","Tab"].includes(ge.key)&&!S.value.some(z=>{let{value:ae}=z;return ae===M.value[0].value})&&qe(M.value[0]),ge.key==="ArrowDown"&&U.value&&((D=G.value)==null||D.focus("next")),["Backspace","Delete"].includes(ge.key)){if(!e.multiple&&P.value&&S.value.length>0&&!I.value)return qe(S.value[0],!1);if(~f.value){ge.preventDefault();const z=f.value;qe(S.value[f.value],!1),f.value=z>=C-1?C-2:z}else ge.key==="Backspace"&&!I.value&&(f.value=C-1);return}if(e.multiple)if(ge.key==="ArrowLeft"){if(f.value<0&&j>0)return;const z=f.value>-1?f.value-1:C-1;S.value[z]?f.value=z:(f.value=-1,i.value.setSelectionRange((B=I.value)==null?void 0:B.length,(K=I.value)==null?void 0:K.length))}else if(ge.key==="ArrowRight"){if(f.value<0)return;const z=f.value+1;S.value[z]?f.value=z:(f.value=-1,i.value.setSelectionRange(0,0))}else~f.value&&ad(ge)&&(f.value=-1)}function Q(ge){if(co(i.value,":autofill")||co(i.value,":-webkit-autofill")){const j=g.value.find(C=>C.title===ge.target.value);j&&qe(j)}}function oe(){var ge;e.eager&&((ge=u.value)==null||ge.calculateVisibleItems())}function we(){var ge;a.value&&(s.value=!0,(ge=i.value)==null||ge.focus())}function Se(ge){a.value=!0,setTimeout(()=>{o.value=!0})}function De(ge){o.value=!1}function Oe(ge){(ge==null||ge===""&&!e.multiple&&!P.value)&&(S.value=[])}const Qe=Te(!1);function qe(ge){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!ge||ge.props.disabled))if(e.multiple){const C=S.value.findIndex(B=>e.valueComparator(B.value,ge.value)),D=j??!~C;if(~C){const B=D?[...S.value,ge]:[...S.value];B.splice(C,1),S.value=B}else D&&(S.value=[...S.value,ge]);e.clearOnSelect&&(I.value="")}else{const C=j!==!1;S.value=C?[ge]:[],I.value=C&&!P.value?ge.title:"",Dt(()=>{d.value=!1,s.value=!0})}}return Ce(a,(ge,j)=>{var C;ge!==j&&(ge?(Qe.value=!0,I.value=e.multiple||P.value?"":String(((C=S.value.at(-1))==null?void 0:C.props.title)??""),s.value=!0,Dt(()=>Qe.value=!1)):(!e.multiple&&I.value==null&&(S.value=[]),d.value=!1,S.value.some(D=>{let{title:B}=D;return B===I.value})||(I.value=""),f.value=-1))}),Ce(I,ge=>{!a.value||Qe.value||(ge&&(d.value=!0),s.value=!ge)}),Ce(d,()=>{if(!e.hideSelected&&d.value&&S.value.length){const ge=M.value.findIndex(j=>S.value.some(C=>j.value===C.value));ft&&window.requestAnimationFrame(()=>{var j;ge>=0&&((j=u.value)==null||j.scrollToIndex(ge))})}}),Ce(()=>e.items,(ge,j)=>{d.value||a.value&&!j.length&&ge.length&&(d.value=!0)}),Re(()=>{const ge=!!(!e.hideNoData||M.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),j=S.value.length>0,C=jr.filterProps(e);return b(jr,xe({ref:i},C,{modelValue:I.value,"onUpdate:modelValue":[D=>I.value=D,Oe],focused:a.value,"onUpdate:focused":D=>a.value=D,validationValue:S.externalValue,counterValue:E.value,dirty:j,onChange:Q,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!P.value,"v-autocomplete--selecting-index":f.value>-1},e.class],style:e.style,readonly:N.isReadonly.value,placeholder:j?void 0:e.placeholder,"onClick:clear":ne,"onMousedown:control":Z,onKeydown:ee}),{...n,default:()=>b(Pe,null,[b(th,xe({ref:l,modelValue:d.value,"onUpdate:modelValue":D=>d.value=D,activator:"parent",contentClass:"v-autocomplete__content",disabled:J.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:oe,onAfterLeave:we},e.menuProps),{default:()=>[ge&&b(Ou,xe({ref:G,selected:F.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:D=>D.preventDefault(),onKeydown:W,onFocusin:Se,onFocusout:De,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},he,e.listProps),{default:()=>{var D,B,K;return[(D=n["prepend-item"])==null?void 0:D.call(n),!M.value.length&&!e.hideNoData&&(((B=n["no-data"])==null?void 0:B.call(n))??b(Zn,{key:"no-data",title:r(e.noDataText)},null)),b(ZT,{ref:u,renderless:!0,items:M.value},{default:z=>{var fe;let{item:ae,index:le,itemRef:ie}=z;const de=xe(ae.props,{ref:ie,key:ae.value,active:U.value&&le===0?!0:void 0,onClick:()=>qe(ae,null)});return((fe=n.item)==null?void 0:fe.call(n,{item:ae,index:le,props:de}))??b(Zn,xe(de,{role:"option"}),{prepend:ve=>{let{isSelected:Ne}=ve;return b(Pe,null,[e.multiple&&!e.hideSelected?b(Ld,{key:ae.value,modelValue:Ne,ripple:!1,tabindex:"-1"},null):void 0,ae.props.prependAvatar&&b(va,{image:ae.props.prependAvatar},null),ae.props.prependIcon&&b(ut,{icon:ae.props.prependIcon},null)])},title:()=>{var ve,Ne;return s.value?ae.title:V4(ae.title,(ve=R(ae))==null?void 0:ve.title,((Ne=I.value)==null?void 0:Ne.length)??0)}})}}),(K=n["append-item"])==null?void 0:K.call(n)]}})]}),S.value.map((D,B)=>{function K(ie){ie.stopPropagation(),ie.preventDefault(),qe(D,!1)}const z={"onClick:close":K,onKeydown(ie){ie.key!=="Enter"&&ie.key!==" "||(ie.preventDefault(),ie.stopPropagation(),K(ie))},onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ae=V.value?!!n.chip:!!n.selection,le=ae?zm(V.value?n.chip({item:D,index:B,props:z}):n.selection({item:D,index:B})):void 0;if(!(ae&&!le))return b("div",{key:D.value,class:["v-autocomplete__selection",B===f.value&&["v-autocomplete__selection--selected",_.value]],style:B===f.value?x.value:{}},[V.value?n.chip?b(yt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:D.title}}},{default:()=>[le]}):b(XT,xe({key:"chip",closable:e.closableChips,size:"small",text:D.title,disabled:D.props.disabled},z),null):le??b("span",{class:"v-autocomplete__selection-text"},[D.title,e.multiple&&B<S.value.length-1&&b("span",{class:"v-autocomplete__selection-comma"},[Me(",")])])])})]),"append-inner":function(){var z;for(var D=arguments.length,B=new Array(D),K=0;K<D;K++)B[K]=arguments[K];return b(Pe,null,[(z=n["append-inner"])==null?void 0:z.call(n,...B),e.menuIcon?b(ut,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:re,onClick:YR,"aria-label":r(p.value),title:r(p.value),tabindex:"-1"},null):void 0])}})}),Ki({isFocused:a,isPristine:s,menu:d,search:I,filteredItems:A,select:qe},i)}}),U4={style:{transform:"scale(0.6)",margin:"0",padding:"0"}},H4={key:0},G4={key:0},W4={key:1},z4=e=>e.hasOwnProperty(ue.nodeKind.value)?[ue.IRI.value,ue.BlankNodeOrIRI.value].includes(e[ue.nodeKind.value]):!1,K4={__name:"InstancesSelectEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],async setup(e,{emit:t}){let n,r;const i=e,a=q([]),s=be("graphData"),o=be("allPrefixes"),l=be("classData"),u=be("config"),c=be("fetchFromService"),d=q(i.property_shape),f=q(null);if(f.value=d.value[ue.class.value]??!1,u.value.use_service){const Q=Z(f.value);[n,r]=pN(()=>W(Q)),await n,r()}ee();const h=q(null),{rules:p}=ir(d.value),g=`input-${Date.now()}`,{fieldRef:m}=Hr(g,i),v=t,{subValues:_,internalValue:x}=Gr(i,v,J,G),I=q(null),S=q(null),E=q(!1),N=q(null),A=be("addForm");be("removeForm");const R=be("getClassIcon"),M=be("lastSavedNode"),V=be("openForms");Ae("cancelFormHandler",()=>{I.value=null}),Ae("saveFormHandler",()=>{I.value=null}),Ce(M,Q=>{if(Q){if(!V.at(-1).activatedInstancesSelectEditor)return;if(V.at(-1).activatedInstancesSelectEditor.nodeshape_iri==i.node_uid&&V.at(-1).activatedInstancesSelectEditor.node_iri==i.node_idx&&V.at(-1).activatedInstancesSelectEditor.predicate_iri==i.triple_uid&&V.at(-1).activatedInstancesSelectEditor.predicate_idx==i.triple_idx){ee();var oe=Yg(a.value,"value",Q.node_iri);oe?_.value.selectedInstance=oe:console.log("A node was recently saved but it could not be found in the itemsToList and was therefore not set as the selectedItem"),V.at(-1).activatedInstancesSelectEditor=null,M.value=null}else console.log("activatedInstancesSelectEditor is not the same as last saved node")}},{immediate:!0}),Ce(s,()=>{console.log("CHECK: graphdata instanceselecteditor"),ee()},{deep:!0});const U=O(()=>{var Q=[];Q.push({title:Lt(f.value,o),value:f.value});const oe=Ve.grapoi({dataset:l}).hasOut(Ve.namedNode(Rr.subClassOf.value),Ve.namedNode(f.value)).quads();return Array.from(oe).forEach(we=>{Q.push({title:Lt(we.subject.value,o),value:we.subject.value})}),Q});function J(Q){if(!a.value)return{selectedInstance:null};var oe=Yg(a.value,"value",Q);return{selectedInstance:oe??null}}function G(Q){return Q.selectedInstance?Q.selectedInstance.value:null}function he(Q){_.value.selectedInstance=Q,h.value.blur()}function ne(Q){V.at(-1).activatedInstancesSelectEditor={nodeshape_iri:i.node_uid,node_iri:i.node_idx,predicate_iri:i.triple_uid,predicate_idx:i.triple_idx},N.value=Q.value,I.value="_:"+crypto.randomUUID(),console.log("New form shape IRI"),console.log(N.value),console.log("New form node IRI"),console.log(I.value),E.value=!1,A(N.value,I.value,"new")}function Z(Q){return[Q].concat(re(Q))}function re(Q){const oe=Ve.grapoi({dataset:l}).hasOut(Ve.namedNode(Rr.subClassOf.value),Ve.namedNode(Q)).quads();var we=[];return Array.from(oe).forEach(Se=>{we.push(Se.subject.value)}),we}async function W(Q){for(const oe of Q)await c("get-records",oe,o)}function ee(){var Q=Jg(s,Ve.namedNode(Mt.type),f.value,o);const oe=Ve.grapoi({dataset:l}).hasOut(Ve.namedNode(Rr.subClassOf.value),Ve.namedNode(f.value)).quads();var we=[];Array.from(oe).forEach(Oe=>{const Qe=Oe.subject.value;we=we.concat(Jg(s,Ve.namedNode(Mt.type),Qe,o))});const Se=Q.concat(we);var De=[];De.push({title:"Add New Item",props:{isButton:!0}}),Se.forEach(Oe=>{var Qe="";Oe.subject.termType==="BlankNode"&&(Qe=" (BlankNode)");var qe=Nd(s,Oe.subject),ge={title:Oe.subject.value+Qe,value:Oe.subject.value,props:{subtitle:Lt(Oe.object.value,o)}};qe.forEach(j=>{ge.props[Lt(j.predicate.value,o)]=Lt(j.object.value,o)}),De.push(ge)}),a.value=De}return(Q,oe)=>(pe(),et(an,{modelValue:X(x),"onUpdate:modelValue":oe[3]||(oe[3]=we=>lt(x)?x.value=we:null),rules:X(p),ref_key:"fieldRef",ref:m,id:g,"hide-details":"auto",style:{"margin-bottom":"1em"}},{default:te(()=>[b(B4,{modelValue:X(_).selectedInstance,"onUpdate:modelValue":oe[2]||(oe[2]=we=>X(_).selectedInstance=we),variant:"outlined","hide-details":"auto",label:"select an item",items:a.value,"validate-on":"lazy input","item-value":"value","item-title":"title","return-object":"",ref_key:"editorComp",ref:h,lines:"two"},{selection:te(we=>[$e("div",U4,[(pe(!0),ke(Pe,null,Yt(we.item.props,(Se,De,Oe)=>(pe(),ke("span",null,[["title","subtitle","name","value",X(Mt).type.value,X(Lt)(X(Mt).type.value,X(o))].indexOf(De)<0?(pe(),ke("span",H4,[Me(vt(De)+": "+vt(Se)+" ",1),oe[4]||(oe[4]=$e("br",null,null,-1))])):Tt("",!0)]))),256))])]),item:te(we=>{var Se;return[we.item.props.isButton?(pe(),ke("div",G4,[b(Zn,{onClick:oe[1]||(oe[1]=Tc(()=>{},["stop"])),active:!1},{default:te(()=>[b(Od,null,{default:te(()=>[b(th,{modelValue:E.value,"onUpdate:modelValue":oe[0]||(oe[0]=De=>E.value=De),location:"end"},{activator:te(({props:De})=>[b(rt,xe({variant:"tonal"},De),{default:te(()=>[Me(vt(we.item.title)+"  ",1),b(ut,{icon:"item.icon"},{default:te(()=>oe[5]||(oe[5]=[Me("mdi-play")])),_:1})]),_:2},1040)]),default:te(()=>[b(Ou,{ref_key:"addItemList",ref:S},{default:te(()=>[(pe(!0),ke(Pe,null,Yt(U.value,De=>(pe(),et(Zn,{onClick:Tc(Oe=>ne(De),["stop"])},{default:te(()=>[b(Od,null,{default:te(()=>[Me(vt(De.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1},512)]),_:2},1032,["modelValue"])]),_:2},1024)]),_:2},1024)])):(pe(),ke("div",W4,[b(Zn,{onClick:Tc(De=>he(we.item),["stop"]),rounded:"",active:((Se=X(_).selectedInstance)==null?void 0:Se.value)==we.item.value,class:"myInstancesList"},{prepend:te(()=>[b(ut,null,{default:te(()=>[Me(vt(X(R)(X(hs)(we.item.props[X(Lt)(X(Mt).type.value,X(o))],X(o)))),1)]),_:2},1024)]),default:te(()=>[(pe(!0),ke(Pe,null,Yt(we.item.props,(De,Oe,Qe)=>(pe(),ke("span",null,[["title","subtitle","name","value",X(Mt).type.value,X(Lt)(X(Mt).type.value,X(o))].indexOf(Oe)<0?(pe(),et(ps,{key:0,"no-gutters":""},{default:te(()=>[b($n,{cols:"6"},{default:te(()=>[$e("small",null,vt(Oe),1)]),_:2},1024),b($n,null,{default:te(()=>[$e("small",null,vt(De),1)]),_:2},1024)]),_:2},1024)):Tt("",!0)]))),256))]),_:2},1032,["onClick","active"]),b(am),b(am)]))]}),_:1},8,["modelValue","items"])]),_:1},8,["modelValue","rules"]))}},q4=jo(K4,[["__scopeId","data-v-f16dd034"]]),J4=Object.freeze(Object.defineProperty({__proto__:null,default:q4,matchingLogic:z4},Symbol.toStringTag,{value:"Module"})),Y4=e=>!!(e.hasOwnProperty(ue.in.value)&&Array.isArray(e[ue.in.value])&&new Set(e[ue.in.value].map(t=>typeof t)).size<=1),Q4={__name:"ShaclInEditor",props:{modelValue:String,property_shape:Object,node_uid:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{rules:r}=ir(n.property_shape),i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=t,{subValues:o,internalValue:l}=Gr(n,s,u,c);function u(f){return{selected_item:f}}function c(f){return f.selected_item}const d=O(()=>{var f=[];const h=n.property_shape[ue.in.value];for(var p of h)f.push({title:p,value:p});return f});return(f,h)=>(pe(),et(an,{modelValue:X(l),"onUpdate:modelValue":h[1]||(h[1]=p=>lt(l)?l.value=p:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i,"hide-details":"auto",style:{"margin-bottom":"1em"}},{default:te(()=>[b(uy,{items:d.value,modelValue:X(o).selected_item,"onUpdate:modelValue":h[0]||(h[0]=p=>X(o).selected_item=p),density:"compact",variant:"outlined",label:"select type","item-value":"value","item-text":"title",ref:"selector"},null,8,["items","modelValue"])]),_:1},8,["modelValue","rules"]))}},X4=Object.freeze(Object.defineProperty({__proto__:null,default:Q4,matchingLogic:Y4},Symbol.toStringTag,{value:"Module"})),Z4={key:0},e6=e=>!!(e.hasOwnProperty(ue.or.value)&&Array.isArray(e[ue.or.value])),t6={__name:"ShaclOREditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},setup(e){const t=e,n=be("shapePrefixes"),r=be("editorMatchers"),i=be("defaultEditor"),a=be("formData"),s=q(null),o=q(null),l=q(!1),u=q(null),c=q({}),d=O(()=>{var h=[];console.log(t.property_shape);const p=t.property_shape[ue.or.value];console.log(p),console.log(p.length);for(var g of p)console.log("OR array element:"),console.log(g),h.push({title:"",value:g,props:g});return console.log("Or list items"),console.log(h),h});function f(h){u.value=h.value;const p=structuredClone(je(t.property_shape));delete p[ue.or.value];for(const[m,v]of Object.entries(h.value))p[m]=v;p.hasOwnProperty(ue.class.value)&&!p.hasOwnProperty(ue.nodeKind.value)&&(p[ue.nodeKind.value]=ue.BlankNodeOrIRI.value),c.value=p;var g=!1;for(const m in r)r[m].match(c.value)&&(s.value=r[m].component,g=!0);g||(s.value=i),l.value=!0,o.value.blur(),console.log(p)}return(h,p)=>(pe(),ke(Pe,null,[b(uy,{items:d.value,density:"compact",variant:"underlined",label:"select type","item-value":"value","item-text":"title",ref_key:"selector",ref:o},{item:te(g=>[b(Zn,{onClick:m=>f(g.item)},{default:te(()=>[(pe(!0),ke(Pe,null,Yt(g.item.props,(m,v,_)=>(pe(),ke("span",null,[["title","subtitle","name","value"].indexOf(v)<0?(pe(),ke("span",Z4,[$e("strong",null,vt(X(Lt)(v,X(n))),1),Me(": "+vt(X(Lt)(m,X(n)))+" ",1),p[1]||(p[1]=$e("br",null,null,-1))])):Tt("",!0)]))),256))]),_:2},1032,["onClick"])]),_:1},8,["items"]),l.value?(pe(),et(Om(s.value),{key:0,modelValue:X(a)[t.node_uid][t.node_idx][t.triple_uid][t.triple_idx],"onUpdate:modelValue":p[0]||(p[0]=g=>X(a)[t.node_uid][t.node_idx][t.triple_uid][t.triple_idx]=g),property_shape:c.value,node_uid:t.node_uid,node_idx:t.node_idx,triple_uid:t.triple_uid,triple_idx:t.triple_idx},null,8,["modelValue","property_shape","node_uid","node_idx","triple_uid","triple_idx"])):Tt("",!0)],64))}},n6=Object.freeze(Object.defineProperty({__proto__:null,default:t6,matchingLogic:e6},Symbol.toStringTag,{value:"Module"})),r6=ce({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Lu(),...sy()},"VTextarea"),i6=Ee()({name:"VTextarea",directives:{Intersect:Jv},inheritAttrs:!1,props:r6(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const a=it(e,"modelValue"),{isFocused:s,focus:o,blur:l}=Pu(e),u=O(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value||"").toString().length),c=O(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function d(V,P){var F,U;!e.autofocus||!V||(U=(F=P[0].target)==null?void 0:F.focus)==null||U.call(F)}const f=q(),h=q(),p=Te(""),g=q(),m=O(()=>e.persistentPlaceholder||s.value||e.active);function v(){var V;g.value!==document.activeElement&&((V=g.value)==null||V.focus()),s.value||o()}function _(V){v(),r("click:control",V)}function x(V){r("mousedown:control",V)}function I(V){V.stopPropagation(),v(),Dt(()=>{a.value="",Wm(e["onClick:clear"],V)})}function S(V){var F;const P=V.target;if(a.value=P.value,(F=e.modelModifiers)!=null&&F.trim){const U=[P.selectionStart,P.selectionEnd];Dt(()=>{P.selectionStart=U[0],P.selectionEnd=U[1]})}}const E=q(),N=q(+e.rows),A=O(()=>["plain","underlined"].includes(e.variant));yn(()=>{e.autoGrow||(N.value=+e.rows)});function R(){e.autoGrow&&Dt(()=>{if(!E.value||!h.value)return;const V=getComputedStyle(E.value),P=getComputedStyle(h.value.$el),F=parseFloat(V.getPropertyValue("--v-field-padding-top"))+parseFloat(V.getPropertyValue("--v-input-padding-top"))+parseFloat(V.getPropertyValue("--v-field-padding-bottom")),U=E.value.scrollHeight,J=parseFloat(V.lineHeight),G=Math.max(parseFloat(e.rows)*J+F,parseFloat(P.getPropertyValue("--v-input-control-height"))),he=parseFloat(e.maxRows)*J+F||1/0,ne=Pr(U??0,G,he);N.value=Math.floor((ne-F)/J),p.value=Be(ne)})}en(R),Ce(a,R),Ce(()=>e.rows,R),Ce(()=>e.maxRows,R),Ce(()=>e.density,R);let M;return Ce(E,V=>{V?(M=new ResizeObserver(R),M.observe(E.value)):M==null||M.disconnect()}),Ht(()=>{M==null||M.disconnect()}),Re(()=>{const V=!!(i.counter||e.counter||e.counterValue),P=!!(V||i.details),[F,U]=fu(n),{modelValue:J,...G}=an.filterProps(e),he=JT(e);return b(an,xe({ref:f,modelValue:a.value,"onUpdate:modelValue":ne=>a.value=ne,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":A.value},e.class],style:e.style},F,G,{centerAffix:N.value===1&&!A.value,focused:s.value}),{...i,default:ne=>{let{id:Z,isDisabled:re,isDirty:W,isReadonly:ee,isValid:Q}=ne;return b(oy,xe({ref:h,style:{"--v-textarea-control-height":p.value},onClick:_,onMousedown:x,"onClick:clear":I,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},he,{id:Z.value,active:m.value||W.value,centerAffix:N.value===1&&!A.value,dirty:W.value||e.dirty,disabled:re.value,focused:s.value,error:Q.value===!1}),{...i,default:oe=>{let{props:{class:we,...Se}}=oe;return b(Pe,null,[e.prefix&&b("span",{class:"v-text-field__prefix"},[e.prefix]),Zt(b("textarea",xe({ref:g,class:we,value:a.value,onInput:S,autofocus:e.autofocus,readonly:ee.value,disabled:re.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:v,onBlur:l},Se,U),null),[[hi("intersect"),{handler:d},null,{once:!0}]]),e.autoGrow&&Zt(b("textarea",{class:[we,"v-textarea__sizer"],id:`${Se.id}-sizer`,"onUpdate:modelValue":De=>a.value=De,ref:E,readonly:!0,"aria-hidden":"true"},null),[[PR,a.value]]),e.suffix&&b("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:P?ne=>{var Z;return b(Pe,null,[(Z=i.details)==null?void 0:Z.call(i,ne),V&&b(Pe,null,[b("span",null,null),b(qT,{active:e.persistentCounter||s.value,value:u.value,max:c.value,disabled:e.disabled},i.counter)])])}:void 0})}),Ki({},f,h,g)}}),a6=e=>e.hasOwnProperty(ue.nodeKind.value)&&e[ue.nodeKind.value]==ue.Literal.value&&e.hasOwnProperty(ue.datatype.value)&&e[ue.datatype.value]==Xn.string.value?e.hasOwnProperty(ue.datatype.value)&&e[Sl.singleLine.value]=="false":!1,s6={__name:"TextAreaEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{rules:r}=ir(n.property_shape),i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=t,{subValues:o,internalValue:l}=Gr(n,s,u,c);function u(d){return{text:d}}function c(d){return d.text}return(d,f)=>(pe(),et(an,{modelValue:X(l),"onUpdate:modelValue":f[1]||(f[1]=h=>lt(l)?l.value=h:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i,"hide-details":"auto",style:{"margin-bottom":"1em"}},{default:te(()=>[b(i6,{modelValue:X(o).text,"onUpdate:modelValue":f[0]||(f[0]=h=>X(o).text=h),density:"compact",variant:"outlined",label:"add text","hide-details":"auto"},null,8,["modelValue"])]),_:1},8,["modelValue","rules"]))}},o6=Object.freeze(Object.defineProperty({__proto__:null,default:s6,matchingLogic:a6},Symbol.toStringTag,{value:"Module"})),l6=e=>e.hasOwnProperty(ue.nodeKind.value)&&e[ue.nodeKind.value]==ue.Literal.value&&e.hasOwnProperty(ue.datatype.value)||e.hasOwnProperty(ue.datatype.value)?e[ue.datatype.value]==Xn.string.value?!(e.hasOwnProperty(Sl.singleLine.value)&&e[Sl.singleLine.value]=="false"):e[ue.datatype.value]==Xn.nonNegativeInteger.value||e[ue.datatype.value]==E0.EmailAddress.value:!1,u6={__name:"TextFieldEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{rules:r}=ir(n.property_shape),i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=t,{subValues:o,internalValue:l}=Gr(n,s,u,c);function u(d){return{text:d}}function c(d){return d.text}return(d,f)=>(pe(),et(an,{modelValue:X(l),"onUpdate:modelValue":f[1]||(f[1]=h=>lt(l)?l.value=h:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i,"hide-details":"auto",style:{"margin-bottom":"1em"}},{default:te(()=>[b(jr,{modelValue:X(o).text,"onUpdate:modelValue":f[0]||(f[0]=h=>X(o).text=h),density:"compact",variant:"outlined",label:"add text","hide-details":"auto"},null,8,["modelValue"])]),_:1},8,["modelValue","rules"]))}},c6=Object.freeze(Object.defineProperty({__proto__:null,default:u6,matchingLogic:l6},Symbol.toStringTag,{value:"Module"})),d6={key:0},f6={key:1},h6=e=>e.hasOwnProperty(ue.nodeKind.value)&&e[ue.nodeKind.value]==ue.Literal.value&&e.hasOwnProperty(ue.datatype.value)||e.hasOwnProperty(ue.datatype.value)?e[ue.datatype.value]==Xn.anyURI.value:!1,p6={__name:"URIEditor",props:{modelValue:String,property_shape:Object,node_uid:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{rules:r}=ir(n.property_shape);r.value.push(p=>{const g=/^([a-zA-Z][a-zA-Z0-9+-.]*):(?:\/\/((?:[a-zA-Z0-9\-._~%!$&'()*+,;=]+@)?(?:\[(?:[A-Fa-f0-9:.]+)\]|(?:[a-zA-Z0-9\-._~%]+))(?:\:[0-9]+)?)?)?((?:\/[a-zA-Z0-9\-._~%!$&'()*+,;=:@]*)*)(?:\?[a-zA-Z0-9\-._~%!$&'()*+,;=:@/?]*)?(?:\#[a-zA-Z0-9\-._~%!$&'()*+,;=:@/?]*)?$/;return!p||g.test(p)?!0:"This is not a valid URI of type XSD:anyURI"});const i=`input-${Date.now()}`,{fieldRef:a}=Hr(i,n),s=be("allPrefixes"),o=q(!0),l=t,{subValues:u,internalValue:c}=Gr(n,l,f,h);en(()=>{});const d=O(()=>{var p=[];for(const[g,m]of Object.entries(s))p.push({title:g,value:g,props:{subtitle:m}});return p.sort((g,m)=>g.title.localeCompare(m.title))});function f(p){var g,m,v;if(!p)g="",m=null,v="";else{g=p;var _=Lt(p,s,"parts");mC(_)?(m=_.prefix,v=_.property):(m=null,v="",o.value=!1)}return{uri_text:g,uri_prefix:m,uri_path:v}}function h(p){return o.value?p.uri_prefix!==null?`${s[p.uri_prefix]??""}${p.uri_path??""}`:`${p.uri_path??""}`:p.uri_text??""}return(p,g)=>(pe(),et(an,{modelValue:X(c),"onUpdate:modelValue":g[4]||(g[4]=m=>lt(c)?c.value=m:null),rules:X(r),ref_key:"fieldRef",ref:a,id:i,"hide-details":"auto",style:{"margin-bottom":"1em"}},{default:te(()=>[b(ps,{justify:"start","no-gutters":""},{default:te(()=>[b($n,{cols:"9"},{default:te(()=>[o.value?(pe(),ke("span",f6,[b(ps,{justify:"start","no-gutters":""},{default:te(()=>[b($n,{cols:"5"},{default:te(()=>[b(uy,{label:"prefix",modelValue:X(u).uri_prefix,"onUpdate:modelValue":g[1]||(g[1]=m=>X(u).uri_prefix=m),items:d.value,density:"compact",variant:"outlined",style:{"margin-bottom":"0","padding-bottom":"0"},"hide-details":"auto"},null,8,["modelValue","items"])]),_:1}),b($n,{cols:"7"},{default:te(()=>[b(jr,{modelValue:X(u).uri_path,"onUpdate:modelValue":g[2]||(g[2]=m=>X(u).uri_path=m),density:"compact",style:{"margin-bottom":"0","padding-bottom":"0"},variant:"outlined",label:"add text","validate-on":"lazy input","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1})])):(pe(),ke("span",d6,[b(jr,{modelValue:X(u).uri_text,"onUpdate:modelValue":g[0]||(g[0]=m=>X(u).uri_text=m),label:"add URI text",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]))]),_:1}),b($n,null,{default:te(()=>[b(S4,{modelValue:o.value,"onUpdate:modelValue":g[3]||(g[3]=m=>o.value=m),density:"compact",label:"CURIE","hide-details":"true",class:"scaled-comp"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"]))}},g6=jo(p6,[["__scopeId","data-v-a4b91104"]]),m6=Object.freeze(Object.defineProperty({__proto__:null,default:g6,matchingLogic:h6},Symbol.toStringTag,{value:"Module"})),nA={__name:"UnknownEditor",props:{modelValue:String,property_shape:Object,node_uid:String,node_idx:String,triple_uid:String,triple_idx:Number},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;ir(n.property_shape);const r=`input-${Date.now()}`;Hr(r,n),Gr(n,t,a,s);function a(o){return{}}function s(o){return null}return(o,l)=>(pe(),ke("em",null,"...unknown editor..."))}},v6=Object.freeze(Object.defineProperty({__proto__:null,default:nA},Symbol.toStringTag,{value:"Module"})),tx=Object.assign({"../components/BooleanSelectEditor.vue":Y8,"../components/DatePickerEditor.vue":a4,"../components/DateTimePickerEditor.vue":l4,"../components/DecimalEditor.vue":g4,"../components/DetailsEditor.vue":y4,"../components/FormEditor.vue":p8,"../components/HexEditor.vue":w4,"../components/InstancesSelectEditor.vue":J4,"../components/NodeShapeEditor.vue":IG,"../components/PropertyShapeEditor.vue":z3,"../components/ShaclInEditor.vue":X4,"../components/ShaclOREditor.vue":n6,"../components/TextAreaEditor.vue":o6,"../components/TextFieldEditor.vue":c6,"../components/URIEditor.vue":m6,"../components/UnknownEditor.vue":v6}),rA={};for(const e in tx){const t=tx[e];t.matchingLogic&&(rA[e]={component:t.default,match:t.matchingLogic})}const y6={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function b6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return b("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function nx(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>sh(t))}function sh(e){let t=[];if(!e)return t;const n=y6[e];if(e!==n){if(e.includes(","))return rx(e);if(e.includes("@"))return nx(e);n.includes(",")?t=rx(n):n.includes("@")?t=nx(n):n&&t.push(sh(n))}return[b6(e,t)]}function rx(e){return e.replace(/\s/g,"").split(",").map(sh)}const _6=ce({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Gn(),...Br(),...Ft()},"VSkeletonLoader"),Kc=Ee()({name:"VSkeletonLoader",props:_6(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:i}=rn(Ie(e,"color")),{dimensionStyles:a}=Wn(e),{elevationClasses:s}=Ur(e),{themeClasses:o}=Bt(e),{t:l}=Sa(),u=O(()=>sh(Qt(e.type).join(",")));return Re(()=>{var f;const c=!n.default||e.loading,d=e.boilerplate||!c?{}:{ariaLive:"polite",ariaLabel:l(e.loadingText),role:"alert"};return b("div",xe({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},o.value,r.value,s.value],style:[i.value,c?a.value:{}]},d),[c?u.value:(f=n.default)==null?void 0:f.call(n)])}),{}}}),w6={key:0},x6={key:0},S6={key:1},E6={key:0},I6={__name:"SubmitComp",props:{dialog:Boolean},setup(e){const t=q(null),n=q(null),r=q(!1),{token:i,setToken:a,clearToken:s}=ah(),o=be("submitFormData"),l=be("submitButtonPressed"),u=be("submitDialog"),c=q(!1),d=be("nodeShapes"),f=be("ID_IRI"),h=be("config"),p=be("allPrefixes"),g=q(!1),m=q(!1),v=q(!1),_=q(!1),x=q(""),I=[N=>N?!0:"A token is required"];async function S(){if(!c.value){const{valid:A}=await t.value.validate();if(!A){console.log("invalid");return}a(n.value)}g.value=!0;var N=await o(d.value,f.value,p,h);console.log("submit_result"),console.log(N),N.ok?(v.value=!0,_.value=!1,x.value="Your metadata submission was successful!"):(v.value=!1,_.value=!0,x.value="There was an error during metadata submission, please try again or report this to your administrator if the problem persists."),m.value=!0,g.value=!1}function E(){l.value=!1,u.value=!1}return yr(()=>{i.value!==null&&i.value!=="null"&&(c.value=!0)}),(N,A)=>(pe(),et(Mi,null,{default:te(()=>[b(Du,null,{default:te(()=>A[5]||(A[5]=[Me("Submit metadata")])),_:1}),b(gs,null,{default:te(()=>[b(Kc,{loading:g.value,type:"paragraph"},{default:te(()=>[m.value?Tt("",!0):(pe(),ke("span",w6,[c.value?(pe(),ke("span",x6," Are you sure you want to continue? ")):(pe(),ke("span",S6,[A[6]||(A[6]=Me(" Please add a valid token before submitting your changes. ")),b(ty,{ref_key:"submitForm",ref:t},{default:te(()=>[b(jr,{modelValue:n.value,"onUpdate:modelValue":A[0]||(A[0]=R=>n.value=R),rules:I,"append-inner-icon":r.value?"mdi-eye-off":"mdi-eye",type:r.value?"text":"password",density:"compact",placeholder:"token","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":A[1]||(A[1]=R=>r.value=!r.value)},null,8,["modelValue","append-inner-icon","type"])]),_:1},512)]))]))]),_:1},8,["loading"]),m.value?(pe(),ke("span",E6,[v.value?(pe(),et(ut,{key:0,style:{color:"green"}},{default:te(()=>A[7]||(A[7]=[Me("mdi-check-circle")])),_:1})):Tt("",!0),_.value?(pe(),et(ut,{key:1,style:{color:"red"}},{default:te(()=>A[8]||(A[8]=[Me("mdi-alert-circle")])),_:1})):Tt("",!0),Me(" "+vt(x.value),1)])):Tt("",!0)]),_:1}),b(Lo,null,{default:te(()=>[m.value?Tt("",!0):(pe(),et(rt,{key:0,onClick:A[2]||(A[2]=R=>E())},{default:te(()=>[b(ut,null,{default:te(()=>A[9]||(A[9]=[Me("mdi-cancel")])),_:1}),A[10]||(A[10]=Me(" Cancel"))]),_:1})),m.value?Tt("",!0):(pe(),et(rt,{key:1,type:"submit",onClick:A[3]||(A[3]=R=>S())},{default:te(()=>[b(ut,null,{default:te(()=>A[11]||(A[11]=[Me("mdi-check-circle-outline")])),_:1}),A[12]||(A[12]=Me(" Submit"))]),_:1})),m.value?(pe(),et(rt,{key:2,onClick:A[4]||(A[4]=R=>E())},{default:te(()=>[b(ut,null,{default:te(()=>A[13]||(A[13]=[Me("mdi-check-circle-outline")])),_:1}),A[14]||(A[14]=Me(" OK"))]),_:1})):Tt("",!0)]),_:1})]),_:1}))}},ou=Symbol.for("vuetify:v-expansion-panel"),iA=ce({...Ge(),...Kv()},"VExpansionPanelText"),cm=Ee()({name:"VExpansionPanelText",props:iA(),setup(e,t){let{slots:n}=t;const r=be(ou);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:a}=qv(e,r.isSelected);return Re(()=>b(Xv,{onAfterLeave:a},{default:()=>{var s;return[Zt(b("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&i.value&&b("div",{class:"v-expansion-panel-text__wrapper"},[(s=n.default)==null?void 0:s.call(n)])]),[[xa,r.isSelected.value]])]}})),{}}}),aA=ce({color:String,expandIcon:{type:at,default:"$expand"},collapseIcon:{type:at,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ge(),...Gn()},"VExpansionPanelTitle"),dm=Ee()({name:"VExpansionPanelTitle",directives:{Ripple:ko},props:aA(),setup(e,t){let{slots:n}=t;const r=be(ou);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:a}=rn(e,"color"),{dimensionStyles:s}=Wn(e),o=O(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),l=O(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return Re(()=>{var u;return Zt(b("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},i.value,e.class],style:[a.value,s.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[b("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,o.value),!e.hideActions&&b(yt,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var c;return[b("span",{class:"v-expansion-panel-title__icon"},[((c=n.actions)==null?void 0:c.call(n,o.value))??b(ut,null,null)])]}})]),[[hi("ripple"),e.ripple]])}),{}}}),sA=ce({title:String,text:String,bgColor:String,...Br(),...Kf(),...Un(),..._t(),...aA(),...iA()},"VExpansionPanel"),C6=Ee()({name:"VExpansionPanel",props:sA(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=qf(e,ou),{backgroundColorClasses:i,backgroundColorStyles:a}=rn(e,"bgColor"),{elevationClasses:s}=Ur(e),{roundedClasses:o}=Hn(e),l=O(()=>(r==null?void 0:r.disabled.value)||e.disabled),u=O(()=>r.group.items.value.reduce((f,h,p)=>(r.group.selected.value.includes(h.id)&&f.push(p),f),[])),c=O(()=>{const f=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-f===1)}),d=O(()=>{const f=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-f===-1)});return Ae(ou,r),Re(()=>{const f=!!(n.text||e.text),h=!!(n.title||e.title),p=dm.filterProps(e),g=cm.filterProps(e);return b(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},o.value,i.value,e.class],style:[a.value,e.style]},{default:()=>[b("div",{class:["v-expansion-panel__shadow",...s.value]},null),b(yt,{defaults:{VExpansionPanelTitle:{...p},VExpansionPanelText:{...g}}},{default:()=>{var m;return[h&&b(dm,{key:"title"},{default:()=>[n.title?n.title():e.title]}),f&&b(cm,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(m=n.default)==null?void 0:m.call(n)]}})]})}),{groupItem:r}}}),T6=["default","accordion","inset","popout"],A6=ce({flat:Boolean,...zf(),...Um(sA(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ft(),...Ge(),..._t(),variant:{type:String,default:"default",validator:e=>T6.includes(e)}},"VExpansionPanels"),N6=Ee()({name:"VExpansionPanels",props:A6(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:r,prev:i}=Au(e,ou),{themeClasses:a}=Bt(e),s=O(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return gi({VExpansionPanel:{bgColor:Ie(e,"bgColor"),collapseIcon:Ie(e,"collapseIcon"),color:Ie(e,"color"),eager:Ie(e,"eager"),elevation:Ie(e,"elevation"),expandIcon:Ie(e,"expandIcon"),focusable:Ie(e,"focusable"),hideActions:Ie(e,"hideActions"),readonly:Ie(e,"readonly"),ripple:Ie(e,"ripple"),rounded:Ie(e,"rounded"),static:Ie(e,"static")}}),Re(()=>b(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},a.value,s.value,e.class],style:e.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:i,next:r})]}})),{next:r,prev:i}}}),R6=ce({...Ge(),...Gn(),...lE()},"VLayout"),D6=Ee()({name:"VLayout",props:R6(),setup(e,t){let{slots:n}=t;const{layoutClasses:r,layoutStyles:i,getLayoutItem:a,items:s,layoutRef:o}=dE(e),{dimensionStyles:l}=Wn(e);return Re(()=>{var u;return b("div",{ref:o,class:[r.value,e.class],style:[l.value,i.value,e.style]},[(u=n.default)==null?void 0:u.call(n)])}),{getLayoutItem:a,items:s}}}),k6=ce({scrollable:Boolean,...Ge(),...Gn(),..._t({tag:"main"})},"VMain"),oA=Ee()({name:"VMain",props:k6(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=Wn(e),{mainStyles:i}=Vk(),{ssrBootStyles:a}=ku();return Re(()=>b(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[i.value,a.value,r.value,e.style]},{default:()=>{var s,o;return[e.scrollable?b("div",{class:"v-main__scroller"},[(s=n.default)==null?void 0:s.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function O6(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const i=Te(!1),a=Te(0),s=O(()=>{const u=typeof i.value=="boolean"?"top":i.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[u]:Be(a.value)}:{top:r.value.top}]});en(()=>{Ce(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Ht(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const u=o>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),d=parseFloat(r.value.top??0),f=window.scrollY-Math.max(0,a.value-d),h=c.height+Math.max(a.value,d)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(i.value="top",a.value=d):u==="up"&&i.value==="bottom"||u==="down"&&i.value==="top"?(a.value=window.scrollY+c.top-p,i.value=!0):u==="down"&&h<=0?(a.value=0,i.value="bottom"):u==="up"&&f<=0&&(p?i.value!=="top"&&(a.value=-f+p+d,i.value="top"):(a.value=c.top+f,i.value="top")),o=window.scrollY}return{isStuck:i,stickyStyles:s}}const P6=100,L6=20;function ix(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ax(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=ix(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-r)*Math.abs(i),n===e.length-1&&(t*=.5)}return ix(t)*1e3}function F6(){const e={};function t(i){Array.from(i.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new JR(L6))).push([i.timeStamp,a])})}function n(i){Array.from(i.changedTouches).forEach(a=>{delete e[a.identifier]})}function r(i){var u;const a=(u=e[i])==null?void 0:u.values().reverse();if(!a)throw new Error(`No samples for touch id ${i}`);const s=a[0],o=[],l=[];for(const c of a){if(s[0]-c[0]>P6)break;o.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:ax(o),y:ax(l),get direction(){const{x:c,y:d}=this,[f,h]=[Math.abs(c),Math.abs(d)];return f>h&&c>=0?"right":f>h&&c<=0?"left":h>f&&d>=0?"down":h>f&&d<=0?"up":j6()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function j6(){throw new Error}function $6(e){let{el:t,isActive:n,isTemporary:r,width:i,touchless:a,position:s}=e;en(()=>{window.addEventListener("touchstart",_,{passive:!0}),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",I,{passive:!0})}),Ht(()=>{window.removeEventListener("touchstart",_),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",I)});const o=O(()=>["left","right"].includes(s.value)),{addMovement:l,endTouch:u,getVelocity:c}=F6();let d=!1;const f=Te(!1),h=Te(0),p=Te(0);let g;function m(E,N){return(s.value==="left"?E:s.value==="right"?document.documentElement.clientWidth-E:s.value==="top"?E:s.value==="bottom"?document.documentElement.clientHeight-E:Fs())-(N?i.value:0)}function v(E){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const A=s.value==="left"?(E-p.value)/i.value:s.value==="right"?(document.documentElement.clientWidth-E-p.value)/i.value:s.value==="top"?(E-p.value)/i.value:s.value==="bottom"?(document.documentElement.clientHeight-E-p.value)/i.value:Fs();return N?Math.max(0,Math.min(1,A)):A}function _(E){if(a.value)return;const N=E.changedTouches[0].clientX,A=E.changedTouches[0].clientY,R=25,M=s.value==="left"?N<R:s.value==="right"?N>document.documentElement.clientWidth-R:s.value==="top"?A<R:s.value==="bottom"?A>document.documentElement.clientHeight-R:Fs(),V=n.value&&(s.value==="left"?N<i.value:s.value==="right"?N>document.documentElement.clientWidth-i.value:s.value==="top"?A<i.value:s.value==="bottom"?A>document.documentElement.clientHeight-i.value:Fs());(M||V||n.value&&r.value)&&(g=[N,A],p.value=m(o.value?N:A,n.value),h.value=v(o.value?N:A),d=p.value>-20&&p.value<80,u(E),l(E))}function x(E){const N=E.changedTouches[0].clientX,A=E.changedTouches[0].clientY;if(d){if(!E.cancelable){d=!1;return}const M=Math.abs(N-g[0]),V=Math.abs(A-g[1]);(o.value?M>V&&M>3:V>M&&V>3)?(f.value=!0,d=!1):(o.value?V:M)>3&&(d=!1)}if(!f.value)return;E.preventDefault(),l(E);const R=v(o.value?N:A,!1);h.value=Math.max(0,Math.min(1,R)),R>1?p.value=m(o.value?N:A,!0):R<0&&(p.value=m(o.value?N:A,!1))}function I(E){if(d=!1,!f.value)return;l(E),f.value=!1;const N=c(E.changedTouches[0].identifier),A=Math.abs(N.x),R=Math.abs(N.y);(o.value?A>R&&A>400:R>A&&R>3)?n.value=N.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||Fs()):n.value=h.value>.5}const S=O(()=>f.value?{transform:s.value==="left"?`translateX(calc(-100% + ${h.value*i.value}px))`:s.value==="right"?`translateX(calc(100% - ${h.value*i.value}px))`:s.value==="top"?`translateY(calc(-100% + ${h.value*i.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${h.value*i.value}px))`:Fs(),transition:"none"}:void 0);return gr(f,()=>{var A,R;const E=((A=t.value)==null?void 0:A.style.transform)??null,N=((R=t.value)==null?void 0:R.style.transition)??null;yn(()=>{var M,V,P,F;(V=t.value)==null||V.style.setProperty("transform",((M=S.value)==null?void 0:M.transform)||"none"),(F=t.value)==null||F.style.setProperty("transition",((P=S.value)==null?void 0:P.transition)||null)}),Dn(()=>{var M,V;(M=t.value)==null||M.style.setProperty("transform",E),(V=t.value)==null||V.style.setProperty("transition",N)})}),{isDragging:f,dragProgress:h,dragStyles:S}}function Fs(){throw new Error}const V6=["start","end","left","right","top","bottom"],M6=ce({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>V6.includes(e)},sticky:Boolean,...vi(),...Ge(),...WC(),...nE({mobile:null}),...Br(),...uE(),...Un(),..._t({tag:"nav"}),...Ft()},"VNavigationDrawer"),B6=Ee()({name:"VNavigationDrawer",props:M6(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{isRtl:a}=er(),{themeClasses:s}=Bt(e),{borderClasses:o}=yi(e),{backgroundColorClasses:l,backgroundColorStyles:u}=rn(Ie(e,"color")),{elevationClasses:c}=Ur(e),{displayClasses:d,mobile:f}=Qd(e),{roundedClasses:h}=Hn(e),p=SC(),g=it(e,"modelValue",null,W=>!!W),{ssrBootStyles:m}=ku(),{scopeId:v}=Oo(),_=q(),x=Te(!1),{runOpenDelay:I,runCloseDelay:S}=zC(e,W=>{x.value=W}),E=O(()=>e.rail&&e.expandOnHover&&x.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),N=O(()=>dg(e.location,a.value)),A=O(()=>e.persistent),R=O(()=>!e.permanent&&(f.value||e.temporary)),M=O(()=>e.sticky&&!R.value&&N.value!=="bottom");gr(()=>e.expandOnHover&&e.rail!=null,()=>{Ce(x,W=>r("update:rail",!W))}),gr(()=>!e.disableResizeWatcher,()=>{Ce(R,W=>!e.permanent&&Dt(()=>g.value=!W))}),gr(()=>!e.disableRouteWatcher&&!!p,()=>{Ce(p.currentRoute,()=>R.value&&(g.value=!1))}),Ce(()=>e.permanent,W=>{W&&(g.value=!0)}),e.modelValue==null&&!R.value&&(g.value=e.permanent||!f.value);const{isDragging:V,dragProgress:P}=$6({el:_,isActive:g,isTemporary:R,width:E,touchless:Ie(e,"touchless"),position:N}),F=O(()=>{const W=R.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):E.value;return V.value?W*P.value:W}),U=O(()=>["top","bottom"].includes(e.location)?0:E.value),{layoutItemStyles:J,layoutItemScrimStyles:G}=cE({id:e.name,order:O(()=>parseInt(e.order,10)),position:N,layoutSize:F,elementSize:U,active:O(()=>g.value||V.value),disableTransitions:O(()=>V.value),absolute:O(()=>e.absolute||M.value&&typeof he.value!="string")}),{isStuck:he,stickyStyles:ne}=O6({rootEl:_,isSticky:M,layoutItemStyles:J}),Z=rn(O(()=>typeof e.scrim=="string"?e.scrim:null)),re=O(()=>({...V.value?{opacity:P.value*.2,transition:"none"}:void 0,...G.value}));return gi({VList:{bgColor:"transparent"}}),Re(()=>{const W=i.image||e.image;return b(Pe,null,[b(e.tag,xe({ref:_,onMouseenter:I,onMouseleave:S,class:["v-navigation-drawer",`v-navigation-drawer--${N.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":R.value,"v-navigation-drawer--persistent":A.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":M.value},s.value,l.value,o.value,d.value,c.value,h.value,e.class],style:[u.value,J.value,m.value,ne.value,e.style,["top","bottom"].includes(N.value)?{height:"auto"}:{}]},v,n),{default:()=>{var ee,Q,oe;return[W&&b("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?b(yt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},i.image):b(Fo,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),i.prepend&&b("div",{class:"v-navigation-drawer__prepend"},[(ee=i.prepend)==null?void 0:ee.call(i)]),b("div",{class:"v-navigation-drawer__content"},[(Q=i.default)==null?void 0:Q.call(i)]),i.append&&b("div",{class:"v-navigation-drawer__append"},[(oe=i.append)==null?void 0:oe.call(i)])]}}),b(pa,{name:"fade-transition"},{default:()=>[R.value&&(V.value||g.value)&&!!e.scrim&&b("div",xe({class:["v-navigation-drawer__scrim",Z.backgroundColorClasses.value],style:[re.value,Z.backgroundColorStyles.value],onClick:()=>{A.value||(g.value=!1)}},v),null)]})])}),{isStuck:he}}}),U6={key:0},H6={key:0},G6={class:"mx-4 mb-4 truncate-heading"},W6=["innerHTML"],z6={key:0},K6={key:1},q6={key:0},J6={key:1,style:{"margin-top":"1em","margin-left":"1em"}},Y6={key:1,style:{"margin-top":"1em","margin-left":"1em"}},Q6={key:0},X6={key:1},Z6={key:1},eW={__name:"ShaclVue",props:{configUrl:String},setup(e){const t=e,n=q(null);Ae("activatedInstancesSelectEditor",n);const r=q(null);Ae("lastSavedNode",r);const i=q(!1),a=q(null),s=q(!0),{config:o,configFetched:l,configError:u}=w8(t.configUrl),c=q(!1),d=q(!1);Ae("config",o),Ae("configFetched",l),Ae("configError",u);const f=q("");Ae("ID_IRI",f);const{graphData:h,batchMode:p,getGraphData:g,graphPrefixes:m,serializedGraphData:v,graphTriples:_,updateSerializedData:x,triggerReactivity:I,fetchFromService:S}=H8(o),{classData:E,getClassData:N,classPrefixes:A,serializedClassData:R}=G8(o),{shapesDataset:M,nodeShapes:V,propertyGroups:P,nodeShapeNamesArray:F,shapePrefixes:U,prefixArray:J,prefixes_ready:G,nodeShapeIRIs:he,nodeShapeNames:ne,page_ready:Z,getSHACLschema:re}=z8(o),{formData:W,add_empty_node:ee,remove_current_node:Q,clear_current_node:oe,add_empty_triple:we,add_empty_triple_manual:Se,remove_triple:De,save_node:Oe,quadsToFormData:Qe,submitFormData:qe}=K8();Ae("submitFormData",qe),Ae("fetchFromService",S),Ae("formData",W),Ae("batchMode",p),Ae("updateSerializedData",x),Ae("triggerReactivity",I),Ae("quadsToFormData",Qe),Ae("editorMatchers",rA),Ae("defaultEditor",nA),Ae("add_empty_triple",we),Ae("add_empty_triple_manual",Se),Ae("add_empty_node",ee),Ae("remove_triple",De),Ae("remove_current_node",Q),Ae("clear_current_node",oe),Ae("save_node",Oe),Ae("graphData",h),Ae("getGraphData",g),Ae("serializedGraphData",v),Ae("graphTriples",_),Ae("graphPrefixes",m),Ae("serializedClassData",R),Ae("classData",E),Ae("classPrefixes",A),Ae("shapesDataset",M),Ae("nodeShapes",V),Ae("propertyGroups",P),Ae("nodeShapeNamesArray",F),Ae("shapePrefixes",U),Ae("prefixArray",J),Ae("prefixes_ready",G),Ae("nodeShapeIRIs",he),Ae("nodeShapeNames",ne),Ae("page_ready",Z);const ge=dt({});Ae("allPrefixes",ge);const j=be("submitButtonPressed"),C=be("canSubmit"),D=q(!1),B=q(!1);Ae("submitDialog",B);const K=q({}),z=q({});Ce(j,ot=>{ot&&(Object.keys(W).length==0?(D.value=!0,B.value=!1):(B.value=!0,D.value=!1),j.value=!1)},{immediate:!0}),Ce(l,async ot=>{ot&&(o.value.id_iri&&(f.value=o.value.id_iri,console.log(`ID_IRI is: ${f.value}`)),o.value.hasOwnProperty("show_shapes_wo_id")&&(s.value=o.value.show_shapes_wo_id),o.value.hasOwnProperty("prefixes")&&(K.value=o.value.prefixes),o.value.hasOwnProperty("class_icons")&&(z.value=o.value.class_icons),await g(),await N(),await re())},{immediate:!0});var ae=q(null),le=q(null),ie=q(null);const de=q(!1),fe=q(null),ve=q(!1),Ne=q(!1),Le=q(!0),Je=q(null),T=q(null),y=dt({form:!1,graph:!1});Ae("editMode",y),Rm(()=>{console.log("onBeforeUpdate ShaclVue"),T.value=null,Je.value=null});const w=O(()=>{if(s.value===!0)return F.value;var ot=[];for(var We of F.value)Yg(V.value[ne.value[We]].properties,ue.path.value,f.value)&&ot.push(We);return ot});Ce(G,ot=>{if(ot){Object.assign(ge,U,m,A);var We=Object.keys(ge);Object.keys(K.value).forEach(St=>{We.indexOf(St)<0&&(ge[St]=K.value[St])}),console.log("ALL PREFIXES READY"),console.log(je(ge)),Ye()}},{immediate:!0}),Ce(h,()=>{console.log("Graphdata UPDATED SHACLVUE"),i.value=!i.value},{deep:!0});const L=O(()=>ae.value?$v(ae.value[ue.description]):"-");async function H(ot,We){le.value=ot,ae.value=V.value[ot],o.value.use_service&&(c.value=!0,await S("get-records",ot,ge),c.value=!1,await Dt()),We&&Y(ot)}function Y(ot){var We=Lt(ot,ge),St=`?${encodeURIComponent("sh:NodeShape")}=${encodeURIComponent(We)}`;history.replaceState(null,"",window.location.pathname+St)}function se(){return new URL(window.location).searchParams}async function Ye(){const ot=se(),We=ot.get("sh:NodeShape"),St=ot.get("id");if(St&&(console.log("Queried ID FOUND"),a.value=St,console.log(a.value)),We){console.log("Queried nodeshape FOUND");var sn=hs(We,ge);V.value[sn]?await H(sn):console.log("Queried nodeshape not found in shacl schema")}else console.log("nodeshape not in query params")}function Xe(ot){return z.value&&z.value[ot]?z.value[ot]:"mdi-circle-outline"}Ae("getClassIcon",Xe);function nt(){fe.value=null,ve.value=!1,de.value=!1,fe.value="_:"+crypto.randomUUID(),Is(le.value,fe.value,"new"),de.value=!0,Ne.value=!0,Le.value=!1,C.value=!1}async function bt(ot){var sn;console.log(ot),de.value=!1,ve.value=!1;var We=ot.props.quad.subject,St=ot.props.quad.object;St.termType==="NamedNode"?Je.value=St.value:Je.value=hs(St.value,ge),T.value=ot.value,(sn=W[Je.value])!=null&&sn[T.value]?(console.log("The node is already in the formData, we will edit that"),y.form=!0,y.graph=!1):(Qe(Je.value,We,h,f.value,ge),y.form=!1,y.graph=!0),Is(Je.value,T.value,"edit"),ve.value=!0,Ne.value=!0,Le.value=!1,C.value=!1,window.scrollTo(0,0)}Ae("editInstanceItem",bt);const ct=O(()=>{if(i.value,!le.value)return[];var ot=Jg(h,Ve.namedNode(Mt.type),le.value,ge),We=[];return ot.forEach(St=>{var sn="";St.subject.termType==="BlankNode"&&(sn=" (BlankNode)");var k=Nd(h,St.subject),$={title:St.subject.value+sn,value:St.subject.value,props:{subtitle:St.object.value,quad:St}};k.forEach(ye=>{if(Object.hasOwn($.props,ye.predicate.value)||($.props[ye.predicate.value]=[]),ye.object.termType==="BlankNode"){var _e={},Fe=Nd(h,ye.object);Fe.forEach(qt=>{_e[qt.predicate.value]=qt.object.value}),$.props[ye.predicate.value].push(_e)}else $.props[ye.predicate.value].push(ye.object.value)}),We.push($)}),We}),zn=dt([]),Uu=O(()=>zn.length>0?"panel"+zn.length.toString():null);function Is(ot,We,St){for(var sn=0;sn<zn.length;sn++)zn[sn].disabled=!0;zn.push({shapeIRI:ot,nodeIDX:We,formType:St,disabled:!1,activatedInstancesSelectEditor:null})}function Vo(ot){ot&&(r.value=ot),zn.pop(),zn.length>0?zn.at(-1).disabled=!1:(ve.value=!1,Ne.value=!1,Le.value=!0,C.value=!0,y.form=y.graph=!1)}return Ae("addForm",Is),Ae("openForms",zn),Ae("removeForm",Vo),(ot,We)=>{const St=_8,sn=FT;return X(Z)?(pe(),ke("span",U6,[b(Mi,null,{default:te(()=>[b(D6,null,{default:te(()=>[b(B6,{theme:"dark",color:"#41b883",modelValue:Le.value,"onUpdate:modelValue":We[1]||(We[1]=k=>Le.value=k),permanent:""},{default:te(()=>[b(Ou,{nav:"",selectable:"",disabled:Ne.value,selected:X(ie),"onUpdate:selected":We[0]||(We[0]=k=>lt(ie)?ie.value=k:ie=k)},{default:te(()=>[b(Zn,{value:"data"},{default:te(()=>We[8]||(We[8]=[$e("h4",null,"Data Types",-1)])),_:1}),(pe(!0),ke(Pe,null,Yt(w.value,k=>(pe(),et(Zn,{"prepend-icon":Xe(X(ne)[k]),title:k,onClick:$=>H(X(ne)[k],!0)},null,8,["prepend-icon","title","onClick"]))),256))]),_:1},8,["disabled","selected"])]),_:1},8,["modelValue"]),b(oA,{style:{"min-height":"90vh"}},{default:te(()=>[b(Zg,{fluid:""},{default:te(()=>[b(ps,null,{default:te(()=>[b($n,{cols:Ne.value?3:12,class:Md(["transition-all",Ne.value?"opacity-column":""])},{default:te(()=>[X(le)?(pe(),ke("span",H6,[$e("h2",G6,[Me(vt(X(Lt)(X(le),ge))+"  ",1),b(rt,{icon:"mdi-plus",size:"x-small",variant:"tonal",onClick:We[2]||(We[2]=k=>nt())})]),$e("p",{class:"mx-4 mb-4",innerHTML:L.value},null,8,W6),c.value?(pe(),ke("span",z6,[b(Kc,{type:"list-item-avatar"})])):(pe(),ke("span",K6,[ct.value.length?(pe(),ke("div",q6,[(pe(!0),ke(Pe,null,Yt(ct.value,k=>(pe(),ke("span",null,[(pe(),et(St,{classIRI:X(le),record:k,key:X(le)+"-"+k.title+"-"+i.value,formOpen:Ne.value,variant:k.title==a.value?"outlined":"tonal"},null,8,["classIRI","record","formOpen","variant"]))]))),256))])):(pe(),ke("div",J6,We[9]||(We[9]=[$e("em",null,"No items",-1)])))]))])):(pe(),ke("span",Y6,We[10]||(We[10]=[$e("em",null,"Select a data type",-1)])))]),_:1},8,["cols","class"]),Ne.value?(pe(),et($n,{key:0,cols:"9"},{default:te(()=>[b(N6,{variant:"accordion",modelValue:Uu.value,"onUpdate:modelValue":We[3]||(We[3]=k=>Uu.value=k),class:"custompanels"},{default:te(()=>[(pe(!0),ke(Pe,null,Yt(zn,(k,$)=>(pe(),et(C6,{key:k.shapeIRI+"-"+k.nodeIDX+"-expansionpanel",value:"panel"+($+1).toString(),disabled:k.disabled},{default:te(()=>[b(dm,null,{default:te(()=>[$e("h2",null,[$e("em",null,"Editing: "+vt(X(Lt)(k.shapeIRI,ge)),1)])]),_:2},1024),b(cm,{density:"compact"},{default:te(()=>[d.value?(pe(),ke("span",Q6,[b(Kc,{type:"list-item-avatar"})])):(pe(),ke("span",X6,[(pe(),et(sn,{key:k.shapeIRI+"-"+k.nodeIDX+"-form-"+k.formType,shape_iri:k.shapeIRI,node_idx:k.nodeIDX},null,8,["shape_iri","node_idx"]))]))]),_:2},1024)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})):Tt("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),b(su,{modelValue:B.value,"onUpdate:modelValue":We[4]||(We[4]=k=>B.value=k),"max-width":"500"},{default:te(()=>[b(I6)]),_:1},8,["modelValue"]),b(su,{modelValue:D.value,"onUpdate:modelValue":We[6]||(We[6]=k=>D.value=k),"max-width":"500","onClick:outside":We[7]||(We[7]=k=>D.value=!1)},{default:te(()=>[b(Mi,null,{default:te(()=>[b(Du,null,{default:te(()=>We[11]||(We[11]=[Me("Nothing to submit")])),_:1}),b(gs,null,{default:te(()=>We[12]||(We[12]=[Me("You have no changes to submit")])),_:1}),b(Lo,null,{default:te(()=>[b(rt,{onClick:We[5]||(We[5]=k=>D.value=!1)},{default:te(()=>We[13]||(We[13]=[Me("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(pe(),ke("span",Z6,[b(Kc,{type:"article"})]))}}},tW=jo(eW,[["__scopeId","data-v-7fd5f71d"]]),lA=""+new URL("shacl_vue-thfjfBfP.svg",import.meta.url).href,uA=ce({text:String,...Ge(),..._t()},"VToolbarTitle"),cA=Ee()({name:"VToolbarTitle",props:uA(),setup(e,t){let{slots:n}=t;return Re(()=>{const r=!!(n.default||n.text||e.text);return b(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var i;return[r&&b("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(i=n.default)==null?void 0:i.call(n)])]}})}),{}}}),nW=[null,"prominent","default","comfortable","compact"],dA=ce({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>nW.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...vi(),...Ge(),...Br(),...Un(),..._t({tag:"header"}),...Ft()},"VToolbar"),sx=Ee()({name:"VToolbar",props:dA(),setup(e,t){var h;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:i}=rn(Ie(e,"color")),{borderClasses:a}=yi(e),{elevationClasses:s}=Ur(e),{roundedClasses:o}=Hn(e),{themeClasses:l}=Bt(e),{rtlClasses:u}=er(),c=Te(!!(e.extended||(h=n.extension)!=null&&h.call(n))),d=O(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=O(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return gi({VBtn:{variant:"text"}}),Re(()=>{var v;const p=!!(e.title||n.title),g=!!(n.image||e.image),m=(v=n.extension)==null?void 0:v.call(n);return c.value=!!(e.extended||m),b(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,a.value,s.value,o.value,l.value,u.value,e.class],style:[i.value,e.style]},{default:()=>[g&&b("div",{key:"image",class:"v-toolbar__image"},[n.image?b(yt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):b(Fo,{key:"image-img",cover:!0,src:e.image},null)]),b(yt,{defaults:{VTabs:{height:Be(d.value)}}},{default:()=>{var _,x,I;return[b("div",{class:"v-toolbar__content",style:{height:Be(d.value)}},[n.prepend&&b("div",{class:"v-toolbar__prepend"},[(_=n.prepend)==null?void 0:_.call(n)]),p&&b(cA,{key:"title",text:e.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&b("div",{class:"v-toolbar__append"},[(I=n.append)==null?void 0:I.call(n)])])]}}),b(yt,{defaults:{VTabs:{height:Be(f.value)}}},{default:()=>[b(Xv,null,{default:()=>[c.value&&b("div",{class:"v-toolbar__extension",style:{height:Be(f.value)}},[m])]})]})]})}),{contentHeight:d,extensionHeight:f}}}),rW=ce({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function iW(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0,i=0;const a=q(null),s=Te(0),o=Te(0),l=Te(0),u=Te(!1),c=Te(!1),d=O(()=>Number(e.scrollThreshold)),f=O(()=>Pr((d.value-s.value)/d.value||0)),h=()=>{const p=a.value;if(!p||n&&!n.value)return;r=s.value,s.value="window"in p?p.pageYOffset:p.scrollTop;const g=p instanceof Window?document.documentElement.scrollHeight:p.scrollHeight;if(i!==g){i=g;return}c.value=s.value<r,l.value=Math.abs(s.value-d.value)};return Ce(c,()=>{o.value=o.value||s.value}),Ce(u,()=>{o.value=0}),en(()=>{Ce(()=>e.scrollTarget,p=>{var m;const g=p?document.querySelector(p):window;g&&g!==a.value&&((m=a.value)==null||m.removeEventListener("scroll",h),a.value=g,a.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),Ht(()=>{var p;(p=a.value)==null||p.removeEventListener("scroll",h)}),n&&Ce(n,h,{immediate:!0}),{scrollThreshold:d,currentScroll:s,currentThreshold:l,isScrollActive:u,scrollRatio:f,isScrollingUp:c,savedScroll:o}}const aW=ce({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...dA(),...uE(),...rW(),height:{type:[Number,String],default:64}},"VAppBar"),sW=Ee()({name:"VAppBar",props:aW(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=q(),i=it(e,"modelValue"),a=O(()=>{var x;const _=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:_.has("hide"),fullyHide:_.has("fully-hide"),inverted:_.has("inverted"),collapse:_.has("collapse"),elevate:_.has("elevate"),fadeImage:_.has("fade-image")}}),s=O(()=>{const _=a.value;return _.hide||_.fullyHide||_.inverted||_.collapse||_.elevate||_.fadeImage||!i.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=iW(e,{canScroll:s}),d=O(()=>a.value.hide||a.value.fullyHide),f=O(()=>e.collapse||a.value.collapse&&(a.value.inverted?c.value>0:c.value===0)),h=O(()=>e.flat||a.value.fullyHide&&!i.value||a.value.elevate&&(a.value.inverted?o.value>0:o.value===0)),p=O(()=>a.value.fadeImage?a.value.inverted?1-c.value:c.value:void 0),g=O(()=>{var I,S;if(a.value.hide&&a.value.inverted)return 0;const _=((I=r.value)==null?void 0:I.contentHeight)??0,x=((S=r.value)==null?void 0:S.extensionHeight)??0;return d.value?o.value<l.value||a.value.fullyHide?_+x:_:_+x});gr(O(()=>!!e.scrollBehavior),()=>{yn(()=>{d.value?a.value.inverted?i.value=o.value>l.value:i.value=u.value||o.value<l.value:i.value=!0})});const{ssrBootStyles:m}=ku(),{layoutItemStyles:v}=cE({id:e.name,order:O(()=>parseInt(e.order,10)),position:Ie(e,"location"),layoutSize:g,elementSize:Te(void 0),active:i,absolute:Ie(e,"absolute")});return Re(()=>{const _=sx.filterProps(e);return b(sx,xe({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...v.value,"--v-toolbar-image-opacity":p.value,height:void 0,...m.value},e.style]},_,{collapse:f.value,flat:h.value}),n)}),{}}}),oW=Ee()({name:"VAppBarTitle",props:uA(),setup(e,t){let{slots:n}=t;return Re(()=>b(cA,xe(e,{class:"v-app-bar-title"}),n)),{}}}),lW={__name:"AppHeader",setup(e){const{token:t,setToken:n,clearToken:r}=ah(),i=be("submitFn"),a=be("canSubmit"),s=q(!1),o=q(!1),l=q(!1),u=q(""),c=q(null),d=[m=>m?!0:"A token is required"];yr(()=>{t.value!==null&&t.value!=="null"&&(l.value=!0,u.value=t.value)});function f(){window.location.href=window.location.pathname}function h(){t.value!==null&&t.value!=="null"&&(l.value=!0,u.value=t.value),o.value=!0,s.value=!1}function p(){o.value=!1}async function g(){const{valid:m}=await c.value.validate();if(!m){console.log("invalid");return}n(u.value),o.value=!1}return(m,v)=>(pe(),ke(Pe,null,[b(sW,{elevation:1,rounded:""},{prepend:te(()=>[$e("a",{onClick:v[0]||(v[0]=_=>f()),class:"header-button"},[b(Fo,{width:36,cover:"",src:lA,style:{"margin-left":"10px"}})])]),append:te(()=>[b(El,{text:"Token",location:"bottom"},{activator:te(({props:_})=>[b(rt,xe({icon:"mdi-key-variant",onClick:v[2]||(v[2]=x=>h())},_,{disabled:!X(a)}),null,16,["disabled"])]),_:1}),b(El,{text:"Submit",location:"bottom"},{activator:te(({props:_})=>[b(rt,xe({icon:"mdi-cloud-upload",onClick:v[3]||(v[3]=x=>X(i)())},_,{disabled:!X(a)}),null,16,["disabled"])]),_:1}),b(El,{text:"Documentation",location:"bottom"},{activator:te(({props:_})=>[b(rt,xe({icon:"mdi-text-box",href:"https://psychoinformatics-de.github.io/shacl-vue/docs/",target:"_blank"},_,{class:"header-button"}),null,16)]),_:1}),b(El,{text:"Source code",location:"bottom"},{activator:te(({props:_})=>[b(rt,xe({icon:"mdi-code-not-equal-variant",href:"https://github.com/psychoinformatics-de/shacl-vue",target:"_blank"},_,{class:"header-button"}),null,16)]),_:1})]),default:te(()=>[b(oW,null,{default:te(()=>[$e("a",{onClick:v[1]||(v[1]=_=>f()),class:"header-button"},v[9]||(v[9]=[$e("code",{style:{"font-size":"1em"}},"shacl-vue",-1)]))]),_:1})]),_:1}),b(su,{modelValue:o.value,"onUpdate:modelValue":v[8]||(v[8]=_=>o.value=_),"max-width":"700"},{default:te(()=>[b(Mi,null,{default:te(()=>[b(Du,null,{default:te(()=>v[10]||(v[10]=[Me("Token management")])),_:1}),b(gs,null,{default:te(()=>[v[11]||(v[11]=Me(" A token is required to submit new/updated metadata records to the server, or to view previously submitted metadata records. ")),v[12]||(v[12]=$e("br",null,null,-1)),v[13]||(v[13]=$e("br",null,null,-1)),v[14]||(v[14]=Me(" Please read the ")),v[15]||(v[15]=$e("a",{href:"https://docs.trr379.de/rdm/metadata-edit/index.html"},"metadata management docs",-1)),v[16]||(v[16]=Me(" to find out how to acquire a token. ")),v[17]||(v[17]=$e("br",null,null,-1)),v[18]||(v[18]=$e("br",null,null,-1)),v[19]||(v[19]=Me(" Below you can enter/update your personal token: ")),b(ty,{ref_key:"tokenForm",ref:c},{default:te(()=>[b(jr,{modelValue:u.value,"onUpdate:modelValue":v[4]||(v[4]=_=>u.value=_),rules:d,"append-inner-icon":s.value?"mdi-eye-off":"mdi-eye",type:s.value?"text":"password",density:"compact",placeholder:"token","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":v[5]||(v[5]=_=>s.value=!s.value)},null,8,["modelValue","append-inner-icon","type"])]),_:1},512)]),_:1}),b(Lo,null,{default:te(()=>[b(rt,{onClick:v[6]||(v[6]=_=>p())},{default:te(()=>[b(ut,null,{default:te(()=>v[20]||(v[20]=[Me("mdi-cancel")])),_:1}),v[21]||(v[21]=Me(" Cancel"))]),_:1}),b(rt,{type:"submit",onClick:v[7]||(v[7]=_=>g())},{default:te(()=>[b(ut,null,{default:te(()=>v[22]||(v[22]=[Me("mdi-check-circle-outline")])),_:1}),v[23]||(v[23]=Me(" Save"))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},uW=jo(lW,[["__scopeId","data-v-10e89cdf"]]),cW=ce({...Ge(),...lE({fullHeight:!0}),...Ft()},"VApp"),dW=Ee()({name:"VApp",props:cW(),setup(e,t){let{slots:n}=t;const r=Bt(e),{layoutClasses:i,getLayoutItem:a,items:s,layoutRef:o}=dE(e),{rtlClasses:l}=er();return Re(()=>{var u;return b("div",{ref:o,class:["v-application",r.themeClasses.value,i.value,l.value,e.class],style:[e.style]},[b("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:a,items:s,theme:r}}}),fW={class:"banner"},hW={class:"banner-column",style:{"text-align":"left","margin-left":"8em"}},pW={class:"banner-buttons"},gW={class:"banner-column",style:{"margin-right":"6em"}},mW={__name:"App",setup(e){const t=q(!0);function n(){t.value=!0}const r=q(!0),i=q(!1);function a(){i.value=!0}return Ae("submitButtonPressed",i),Ae("submitFn",a),Ae("canSubmit",r),(s,o)=>{const l=uW,u=tW;return pe(),et(dW,null,{default:te(()=>[b(l),b(oA,null,{default:te(()=>[t.value?Tt("",!0):(pe(),et(Zg,{key:0,fluid:""},{default:te(()=>[$e("div",fW,[$e("div",hW,[o[6]||(o[6]=$e("h1",{style:{color:"#3451B2"}},"shacl-vue (alpha)",-1)),o[7]||(o[7]=$e("h1",null,"Automatic generation of user interfaces from SHACL",-1)),o[8]||(o[8]=$e("br",null,null,-1)),$e("div",pW,[b(rt,{rounded:"xl",size:"large",style:{"margin-right":"1em"},onClick:o[0]||(o[0]=c=>n())},{default:te(()=>o[1]||(o[1]=[Me(" Explore")])),_:1}),b(rt,{rounded:"xl",size:"large",style:{"margin-right":"1em"},href:"https://psychoinformatics-de.github.io/shacl-vue/docs/",target:"_blank"},{default:te(()=>[b(ut,null,{default:te(()=>o[2]||(o[2]=[Me("mdi-text-box")])),_:1}),o[3]||(o[3]=Me("Docs"))]),_:1}),b(rt,{rounded:"xl",size:"large",href:"https://github.com/psychoinformatics-de/shacl-vue",target:"_blank"},{default:te(()=>[b(ut,null,{default:te(()=>o[4]||(o[4]=[Me("mdi-github")])),_:1}),o[5]||(o[5]=Me("Code"))]),_:1})])]),$e("div",gW,[b(Fo,{class:"mx-auto",width:"40%",src:lA})])])]),_:1})),t.value?(pe(),et(Zg,{key:1,fluid:""},{default:te(()=>[b(u,{configUrl:null})]),_:1})):Tt("",!0)]),_:1})]),_:1})}}},vW=jo(mW,[["__scopeId","data-v-6bce84ce"]]),fA=VR(vW);Hk(fA);fA.mount("#app");
